var Gz=Object.defineProperty;var WP=t=>{throw TypeError(t)};var Xz=(t,e,n)=>e in t?Gz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ac=(t,e,n)=>Xz(t,typeof e!="symbol"?e+"":e,n),aw=(t,e,n)=>e.has(t)||WP("Cannot "+n);var re=(t,e,n)=>(aw(t,e,"read from private field"),n?n.call(t):e.get(t)),ut=(t,e,n)=>e.has(t)?WP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),qe=(t,e,n,r)=>(aw(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Un=(t,e,n)=>(aw(t,e,"access private method"),n);var rg=(t,e,n,r)=>({set _(i){qe(t,e,i,n)},get _(){return re(t,e,r)}});function Qz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function St(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zM={exports:{}},M0={},WM={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=Symbol.for("react.element"),Yz=Symbol.for("react.portal"),Jz=Symbol.for("react.fragment"),Zz=Symbol.for("react.strict_mode"),e7=Symbol.for("react.profiler"),t7=Symbol.for("react.provider"),n7=Symbol.for("react.context"),r7=Symbol.for("react.forward_ref"),i7=Symbol.for("react.suspense"),o7=Symbol.for("react.memo"),a7=Symbol.for("react.lazy"),HP=Symbol.iterator;function s7(t){return t===null||typeof t!="object"?null:(t=HP&&t[HP]||t["@@iterator"],typeof t=="function"?t:null)}var HM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qM=Object.assign,KM={};function Od(t,e,n){this.props=t,this.context=e,this.refs=KM,this.updater=n||HM}Od.prototype.isReactComponent={};Od.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Od.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GM(){}GM.prototype=Od.prototype;function rT(t,e,n){this.props=t,this.context=e,this.refs=KM,this.updater=n||HM}var iT=rT.prototype=new GM;iT.constructor=rT;qM(iT,Od.prototype);iT.isPureReactComponent=!0;var qP=Array.isArray,XM=Object.prototype.hasOwnProperty,oT={current:null},QM={key:!0,ref:!0,__self:!0,__source:!0};function YM(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)XM.call(e,r)&&!QM.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:rm,type:t,key:o,ref:a,props:i,_owner:oT.current}}function l7(t,e){return{$$typeof:rm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function aT(t){return typeof t=="object"&&t!==null&&t.$$typeof===rm}function c7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var KP=/\/+/g;function sw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?c7(""+t.key):e.toString(36)}function Jg(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case rm:case Yz:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+sw(a,0):r,qP(i)?(n="",t!=null&&(n=t.replace(KP,"$&/")+"/"),Jg(i,e,n,"",function(c){return c})):i!=null&&(aT(i)&&(i=l7(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(KP,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",qP(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+sw(o,s);a+=Jg(o,e,n,l,i)}else if(l=s7(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+sw(o,s++),a+=Jg(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ig(t,e,n){if(t==null)return t;var r=[],i=0;return Jg(t,r,"","",function(o){return e.call(n,o,i++)}),r}function u7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mr={current:null},Zg={transition:null},d7={ReactCurrentDispatcher:mr,ReactCurrentBatchConfig:Zg,ReactCurrentOwner:oT};function JM(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:ig,forEach:function(t,e,n){ig(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ig(t,function(){e++}),e},toArray:function(t){return ig(t,function(e){return e})||[]},only:function(t){if(!aT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ye.Component=Od;Ye.Fragment=Jz;Ye.Profiler=e7;Ye.PureComponent=rT;Ye.StrictMode=Zz;Ye.Suspense=i7;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d7;Ye.act=JM;Ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qM({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=oT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)XM.call(e,l)&&!QM.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:rm,type:t.type,key:i,ref:o,props:r,_owner:a}};Ye.createContext=function(t){return t={$$typeof:n7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:t7,_context:t},t.Consumer=t};Ye.createElement=YM;Ye.createFactory=function(t){var e=YM.bind(null,t);return e.type=t,e};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(t){return{$$typeof:r7,render:t}};Ye.isValidElement=aT;Ye.lazy=function(t){return{$$typeof:a7,_payload:{_status:-1,_result:t},_init:u7}};Ye.memo=function(t,e){return{$$typeof:o7,type:t,compare:e===void 0?null:e}};Ye.startTransition=function(t){var e=Zg.transition;Zg.transition={};try{t()}finally{Zg.transition=e}};Ye.unstable_act=JM;Ye.useCallback=function(t,e){return mr.current.useCallback(t,e)};Ye.useContext=function(t){return mr.current.useContext(t)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(t){return mr.current.useDeferredValue(t)};Ye.useEffect=function(t,e){return mr.current.useEffect(t,e)};Ye.useId=function(){return mr.current.useId()};Ye.useImperativeHandle=function(t,e,n){return mr.current.useImperativeHandle(t,e,n)};Ye.useInsertionEffect=function(t,e){return mr.current.useInsertionEffect(t,e)};Ye.useLayoutEffect=function(t,e){return mr.current.useLayoutEffect(t,e)};Ye.useMemo=function(t,e){return mr.current.useMemo(t,e)};Ye.useReducer=function(t,e,n){return mr.current.useReducer(t,e,n)};Ye.useRef=function(t){return mr.current.useRef(t)};Ye.useState=function(t){return mr.current.useState(t)};Ye.useSyncExternalStore=function(t,e,n){return mr.current.useSyncExternalStore(t,e,n)};Ye.useTransition=function(){return mr.current.useTransition()};Ye.version="18.3.1";WM.exports=Ye;var _=WM.exports;const B=St(_),ZM=Qz({__proto__:null,default:B},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f7=_,h7=Symbol.for("react.element"),p7=Symbol.for("react.fragment"),m7=Object.prototype.hasOwnProperty,g7=f7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y7={key:!0,ref:!0,__self:!0,__source:!0};function eL(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)m7.call(e,r)&&!y7.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:h7,type:t,key:o,ref:a,props:i,_owner:g7.current}}M0.Fragment=p7;M0.jsx=eL;M0.jsxs=eL;zM.exports=M0;var u=zM.exports,L1={},tL={exports:{}},Hr={},nL={exports:{}},rL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,K){var Q=L.length;L.push(K);e:for(;0<Q;){var ee=Q-1>>>1,ne=L[ee];if(0<i(ne,K))L[ee]=K,L[Q]=ne,Q=ee;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var K=L[0],Q=L.pop();if(Q!==K){L[0]=Q;e:for(var ee=0,ne=L.length,oe=ne>>>1;ee<oe;){var J=2*(ee+1)-1,fe=L[J],Ce=J+1,te=L[Ce];if(0>i(fe,Q))Ce<ne&&0>i(te,fe)?(L[ee]=te,L[Ce]=Q,ee=Ce):(L[ee]=fe,L[J]=Q,ee=J);else if(Ce<ne&&0>i(te,Q))L[ee]=te,L[Ce]=Q,ee=Ce;else break e}}return K}function i(L,K){var Q=L.sortIndex-K.sortIndex;return Q!==0?Q:L.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],d=1,f=null,h=3,m=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=L)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function S(L){if(g=!1,w(L),!y)if(n(l)!==null)y=!0,U(A);else{var K=n(c);K!==null&&q(S,K.startTime-L)}}function A(L,K){y=!1,g&&(g=!1,b(E),E=-1),m=!0;var Q=h;try{for(w(K),f=n(l);f!==null&&(!(f.expirationTime>K)||L&&!R());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var ne=ee(f.expirationTime<=K);K=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(l)&&r(l),w(K)}else r(l);f=n(l)}if(f!==null)var oe=!0;else{var J=n(c);J!==null&&q(S,J.startTime-K),oe=!1}return oe}finally{f=null,h=Q,m=!1}}var C=!1,T=null,E=-1,N=5,P=-1;function R(){return!(t.unstable_now()-P<N)}function O(){if(T!==null){var L=t.unstable_now();P=L;var K=!0;try{K=T(!0,L)}finally{K?j():(C=!1,T=null)}}else C=!1}var j;if(typeof x=="function")j=function(){x(O)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,V=$.port2;$.port1.onmessage=O,j=function(){V.postMessage(null)}}else j=function(){v(O,0)};function U(L){T=L,C||(C=!0,j())}function q(L,K){E=v(function(){L(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,U(A))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var Q=h;h=K;try{return L()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,K){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Q=h;h=L;try{return K()}finally{h=Q}},t.unstable_scheduleCallback=function(L,K,Q){var ee=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ee+Q:ee):Q=ee,L){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Q+ne,L={id:d++,callback:K,priorityLevel:L,startTime:Q,expirationTime:ne,sortIndex:-1},Q>ee?(L.sortIndex=Q,e(c,L),n(l)===null&&L===n(c)&&(g?(b(E),E=-1):g=!0,q(S,Q-ee))):(L.sortIndex=ne,e(l,L),y||m||(y=!0,U(A))),L},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(L){var K=h;return function(){var Q=h;h=K;try{return L.apply(this,arguments)}finally{h=Q}}}})(rL);nL.exports=rL;var v7=nL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x7=_,zr=v7;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iL=new Set,Ph={};function fc(t,e){Mu(t,e),Mu(t+"Capture",e)}function Mu(t,e){for(Ph[t]=e,t=0;t<e.length;t++)iL.add(e[t])}var Uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$1=Object.prototype.hasOwnProperty,b7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GP={},XP={};function w7(t){return $1.call(XP,t)?!0:$1.call(GP,t)?!1:b7.test(t)?XP[t]=!0:(GP[t]=!0,!1)}function _7(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function S7(t,e,n,r){if(e===null||typeof e>"u"||_7(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gr(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var $n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$n[t]=new gr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$n[e]=new gr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$n[t]=new gr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$n[t]=new gr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$n[t]=new gr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$n[t]=new gr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$n[t]=new gr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$n[t]=new gr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$n[t]=new gr(t,5,!1,t.toLowerCase(),null,!1,!1)});var sT=/[\-:]([a-z])/g;function lT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sT,lT);$n[e]=new gr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sT,lT);$n[e]=new gr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sT,lT);$n[e]=new gr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$n[t]=new gr(t,1,!1,t.toLowerCase(),null,!1,!1)});$n.xlinkHref=new gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$n[t]=new gr(t,1,!1,t.toLowerCase(),null,!0,!0)});function cT(t,e,n,r){var i=$n.hasOwnProperty(e)?$n[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(S7(e,n,i,r)&&(n=null),r||i===null?w7(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var aa=x7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,og=Symbol.for("react.element"),Kc=Symbol.for("react.portal"),Gc=Symbol.for("react.fragment"),uT=Symbol.for("react.strict_mode"),V1=Symbol.for("react.profiler"),oL=Symbol.for("react.provider"),aL=Symbol.for("react.context"),dT=Symbol.for("react.forward_ref"),F1=Symbol.for("react.suspense"),B1=Symbol.for("react.suspense_list"),fT=Symbol.for("react.memo"),Ia=Symbol.for("react.lazy"),sL=Symbol.for("react.offscreen"),QP=Symbol.iterator;function Ef(t){return t===null||typeof t!="object"?null:(t=QP&&t[QP]||t["@@iterator"],typeof t=="function"?t:null)}var Xt=Object.assign,lw;function Xf(t){if(lw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lw=e&&e[1]||""}return`
`+lw+t}var cw=!1;function uw(t,e){if(!t||cw)return"";cw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{cw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xf(t):""}function E7(t){switch(t.tag){case 5:return Xf(t.type);case 16:return Xf("Lazy");case 13:return Xf("Suspense");case 19:return Xf("SuspenseList");case 0:case 2:case 15:return t=uw(t.type,!1),t;case 11:return t=uw(t.type.render,!1),t;case 1:return t=uw(t.type,!0),t;default:return""}}function U1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gc:return"Fragment";case Kc:return"Portal";case V1:return"Profiler";case uT:return"StrictMode";case F1:return"Suspense";case B1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aL:return(t.displayName||"Context")+".Consumer";case oL:return(t._context.displayName||"Context")+".Provider";case dT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fT:return e=t.displayName||null,e!==null?e:U1(t.type)||"Memo";case Ia:e=t._payload,t=t._init;try{return U1(t(e))}catch{}}return null}function T7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U1(e);case 8:return e===uT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function I7(t){var e=lL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ag(t){t._valueTracker||(t._valueTracker=I7(t))}function cL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=lL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ky(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function z1(t,e){var n=e.checked;return Xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function YP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uL(t,e){e=e.checked,e!=null&&cT(t,"checked",e,!1)}function W1(t,e){uL(t,e);var n=fs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?H1(t,e.type,n):e.hasOwnProperty("defaultValue")&&H1(t,e.type,fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function JP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function H1(t,e,n){(e!=="number"||ky(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qf=Array.isArray;function cu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function q1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return Xt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ZP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(le(92));if(Qf(n)){if(1<n.length)throw Error(le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fs(n)}}function dL(t,e){var n=fs(e.value),r=fs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ek(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function K1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sg,hL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sg=sg||document.createElement("div"),sg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var lh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A7=["Webkit","ms","Moz","O"];Object.keys(lh).forEach(function(t){A7.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lh[e]=lh[t]})});function pL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||lh.hasOwnProperty(t)&&lh[t]?(""+e).trim():e+"px"}function mL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=pL(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var C7=Xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function G1(t,e){if(e){if(C7[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function X1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q1=null;function hT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Y1=null,uu=null,du=null;function tk(t){if(t=am(t)){if(typeof Y1!="function")throw Error(le(280));var e=t.stateNode;e&&(e=B0(e),Y1(t.stateNode,t.type,e))}}function gL(t){uu?du?du.push(t):du=[t]:uu=t}function yL(){if(uu){var t=uu,e=du;if(du=uu=null,tk(t),e)for(t=0;t<e.length;t++)tk(e[t])}}function vL(t,e){return t(e)}function xL(){}var dw=!1;function bL(t,e,n){if(dw)return t(e,n);dw=!0;try{return vL(t,e,n)}finally{dw=!1,(uu!==null||du!==null)&&(xL(),yL())}}function Nh(t,e){var n=t.stateNode;if(n===null)return null;var r=B0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(le(231,e,typeof n));return n}var J1=!1;if(Uo)try{var Tf={};Object.defineProperty(Tf,"passive",{get:function(){J1=!0}}),window.addEventListener("test",Tf,Tf),window.removeEventListener("test",Tf,Tf)}catch{J1=!1}function P7(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ch=!1,Ny=null,Oy=!1,Z1=null,k7={onError:function(t){ch=!0,Ny=t}};function N7(t,e,n,r,i,o,a,s,l){ch=!1,Ny=null,P7.apply(k7,arguments)}function O7(t,e,n,r,i,o,a,s,l){if(N7.apply(this,arguments),ch){if(ch){var c=Ny;ch=!1,Ny=null}else throw Error(le(198));Oy||(Oy=!0,Z1=c)}}function hc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wL(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nk(t){if(hc(t)!==t)throw Error(le(188))}function R7(t){var e=t.alternate;if(!e){if(e=hc(t),e===null)throw Error(le(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return nk(i),t;if(o===r)return nk(i),e;o=o.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?t:e}function _L(t){return t=R7(t),t!==null?SL(t):null}function SL(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=SL(t);if(e!==null)return e;t=t.sibling}return null}var EL=zr.unstable_scheduleCallback,rk=zr.unstable_cancelCallback,j7=zr.unstable_shouldYield,D7=zr.unstable_requestPaint,on=zr.unstable_now,M7=zr.unstable_getCurrentPriorityLevel,pT=zr.unstable_ImmediatePriority,TL=zr.unstable_UserBlockingPriority,Ry=zr.unstable_NormalPriority,L7=zr.unstable_LowPriority,IL=zr.unstable_IdlePriority,L0=null,ro=null;function $7(t){if(ro&&typeof ro.onCommitFiberRoot=="function")try{ro.onCommitFiberRoot(L0,t,void 0,(t.current.flags&128)===128)}catch{}}var Pi=Math.clz32?Math.clz32:B7,V7=Math.log,F7=Math.LN2;function B7(t){return t>>>=0,t===0?32:31-(V7(t)/F7|0)|0}var lg=64,cg=4194304;function Yf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Yf(s):(o&=a,o!==0&&(r=Yf(o)))}else a=n&~i,a!==0?r=Yf(a):o!==0&&(r=Yf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pi(e),i=1<<n,r|=t[n],e&=~i;return r}function U7(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z7(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Pi(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=U7(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function e_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AL(){var t=lg;return lg<<=1,!(lg&4194240)&&(lg=64),t}function fw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function im(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pi(e),t[e]=n}function W7(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pi(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function mT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xt=0;function CL(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PL,gT,kL,NL,OL,t_=!1,ug=[],Ka=null,Ga=null,Xa=null,Oh=new Map,Rh=new Map,Pa=[],H7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ik(t,e){switch(t){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Ga=null;break;case"mouseover":case"mouseout":Xa=null;break;case"pointerover":case"pointerout":Oh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rh.delete(e.pointerId)}}function If(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=am(e),e!==null&&gT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function q7(t,e,n,r,i){switch(e){case"focusin":return Ka=If(Ka,t,e,n,r,i),!0;case"dragenter":return Ga=If(Ga,t,e,n,r,i),!0;case"mouseover":return Xa=If(Xa,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Oh.set(o,If(Oh.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rh.set(o,If(Rh.get(o)||null,t,e,n,r,i)),!0}return!1}function RL(t){var e=yl(t.target);if(e!==null){var n=hc(e);if(n!==null){if(e=n.tag,e===13){if(e=wL(n),e!==null){t.blockedOn=e,OL(t.priority,function(){kL(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ey(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=n_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Q1=r,n.target.dispatchEvent(r),Q1=null}else return e=am(n),e!==null&&gT(e),t.blockedOn=n,!1;e.shift()}return!0}function ok(t,e,n){ey(t)&&n.delete(e)}function K7(){t_=!1,Ka!==null&&ey(Ka)&&(Ka=null),Ga!==null&&ey(Ga)&&(Ga=null),Xa!==null&&ey(Xa)&&(Xa=null),Oh.forEach(ok),Rh.forEach(ok)}function Af(t,e){t.blockedOn===e&&(t.blockedOn=null,t_||(t_=!0,zr.unstable_scheduleCallback(zr.unstable_NormalPriority,K7)))}function jh(t){function e(i){return Af(i,t)}if(0<ug.length){Af(ug[0],t);for(var n=1;n<ug.length;n++){var r=ug[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ka!==null&&Af(Ka,t),Ga!==null&&Af(Ga,t),Xa!==null&&Af(Xa,t),Oh.forEach(e),Rh.forEach(e),n=0;n<Pa.length;n++)r=Pa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Pa.length&&(n=Pa[0],n.blockedOn===null);)RL(n),n.blockedOn===null&&Pa.shift()}var fu=aa.ReactCurrentBatchConfig,Dy=!0;function G7(t,e,n,r){var i=xt,o=fu.transition;fu.transition=null;try{xt=1,yT(t,e,n,r)}finally{xt=i,fu.transition=o}}function X7(t,e,n,r){var i=xt,o=fu.transition;fu.transition=null;try{xt=4,yT(t,e,n,r)}finally{xt=i,fu.transition=o}}function yT(t,e,n,r){if(Dy){var i=n_(t,e,n,r);if(i===null)_w(t,e,r,My,n),ik(t,r);else if(q7(i,t,e,n,r))r.stopPropagation();else if(ik(t,r),e&4&&-1<H7.indexOf(t)){for(;i!==null;){var o=am(i);if(o!==null&&PL(o),o=n_(t,e,n,r),o===null&&_w(t,e,r,My,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else _w(t,e,r,null,n)}}var My=null;function n_(t,e,n,r){if(My=null,t=hT(r),t=yl(t),t!==null)if(e=hc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wL(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return My=t,null}function jL(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M7()){case pT:return 1;case TL:return 4;case Ry:case L7:return 16;case IL:return 536870912;default:return 16}default:return 16}}var Ua=null,vT=null,ty=null;function DL(){if(ty)return ty;var t,e=vT,n=e.length,r,i="value"in Ua?Ua.value:Ua.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return ty=i.slice(t,1<r?1-r:void 0)}function ny(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dg(){return!0}function ak(){return!1}function qr(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?dg:ak,this.isPropagationStopped=ak,this}return Xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dg)},persist:function(){},isPersistent:dg}),e}var Rd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xT=qr(Rd),om=Xt({},Rd,{view:0,detail:0}),Q7=qr(om),hw,pw,Cf,$0=Xt({},om,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cf&&(Cf&&t.type==="mousemove"?(hw=t.screenX-Cf.screenX,pw=t.screenY-Cf.screenY):pw=hw=0,Cf=t),hw)},movementY:function(t){return"movementY"in t?t.movementY:pw}}),sk=qr($0),Y7=Xt({},$0,{dataTransfer:0}),J7=qr(Y7),Z7=Xt({},om,{relatedTarget:0}),mw=qr(Z7),eW=Xt({},Rd,{animationName:0,elapsedTime:0,pseudoElement:0}),tW=qr(eW),nW=Xt({},Rd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rW=qr(nW),iW=Xt({},Rd,{data:0}),lk=qr(iW),oW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sW[t])?!!e[t]:!1}function bT(){return lW}var cW=Xt({},om,{key:function(t){if(t.key){var e=oW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ny(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bT,charCode:function(t){return t.type==="keypress"?ny(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ny(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uW=qr(cW),dW=Xt({},$0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ck=qr(dW),fW=Xt({},om,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bT}),hW=qr(fW),pW=Xt({},Rd,{propertyName:0,elapsedTime:0,pseudoElement:0}),mW=qr(pW),gW=Xt({},$0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yW=qr(gW),vW=[9,13,27,32],wT=Uo&&"CompositionEvent"in window,uh=null;Uo&&"documentMode"in document&&(uh=document.documentMode);var xW=Uo&&"TextEvent"in window&&!uh,ML=Uo&&(!wT||uh&&8<uh&&11>=uh),uk=" ",dk=!1;function LL(t,e){switch(t){case"keyup":return vW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $L(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xc=!1;function bW(t,e){switch(t){case"compositionend":return $L(e);case"keypress":return e.which!==32?null:(dk=!0,uk);case"textInput":return t=e.data,t===uk&&dk?null:t;default:return null}}function wW(t,e){if(Xc)return t==="compositionend"||!wT&&LL(t,e)?(t=DL(),ty=vT=Ua=null,Xc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ML&&e.locale!=="ko"?null:e.data;default:return null}}var _W={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_W[t.type]:e==="textarea"}function VL(t,e,n,r){gL(r),e=Ly(e,"onChange"),0<e.length&&(n=new xT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var dh=null,Dh=null;function SW(t){QL(t,0)}function V0(t){var e=Jc(t);if(cL(e))return t}function EW(t,e){if(t==="change")return e}var FL=!1;if(Uo){var gw;if(Uo){var yw="oninput"in document;if(!yw){var hk=document.createElement("div");hk.setAttribute("oninput","return;"),yw=typeof hk.oninput=="function"}gw=yw}else gw=!1;FL=gw&&(!document.documentMode||9<document.documentMode)}function pk(){dh&&(dh.detachEvent("onpropertychange",BL),Dh=dh=null)}function BL(t){if(t.propertyName==="value"&&V0(Dh)){var e=[];VL(e,Dh,t,hT(t)),bL(SW,e)}}function TW(t,e,n){t==="focusin"?(pk(),dh=e,Dh=n,dh.attachEvent("onpropertychange",BL)):t==="focusout"&&pk()}function IW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return V0(Dh)}function AW(t,e){if(t==="click")return V0(e)}function CW(t,e){if(t==="input"||t==="change")return V0(e)}function PW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ji=typeof Object.is=="function"?Object.is:PW;function Mh(t,e){if(ji(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$1.call(e,i)||!ji(t[i],e[i]))return!1}return!0}function mk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gk(t,e){var n=mk(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mk(n)}}function UL(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?UL(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zL(){for(var t=window,e=ky();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ky(t.document)}return e}function _T(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kW(t){var e=zL(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&UL(n.ownerDocument.documentElement,n)){if(r!==null&&_T(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=gk(n,o);var a=gk(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NW=Uo&&"documentMode"in document&&11>=document.documentMode,Qc=null,r_=null,fh=null,i_=!1;function yk(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;i_||Qc==null||Qc!==ky(r)||(r=Qc,"selectionStart"in r&&_T(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fh&&Mh(fh,r)||(fh=r,r=Ly(r_,"onSelect"),0<r.length&&(e=new xT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qc)))}function fg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yc={animationend:fg("Animation","AnimationEnd"),animationiteration:fg("Animation","AnimationIteration"),animationstart:fg("Animation","AnimationStart"),transitionend:fg("Transition","TransitionEnd")},vw={},WL={};Uo&&(WL=document.createElement("div").style,"AnimationEvent"in window||(delete Yc.animationend.animation,delete Yc.animationiteration.animation,delete Yc.animationstart.animation),"TransitionEvent"in window||delete Yc.transitionend.transition);function F0(t){if(vw[t])return vw[t];if(!Yc[t])return t;var e=Yc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in WL)return vw[t]=e[n];return t}var HL=F0("animationend"),qL=F0("animationiteration"),KL=F0("animationstart"),GL=F0("transitionend"),XL=new Map,vk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cs(t,e){XL.set(t,e),fc(e,[t])}for(var xw=0;xw<vk.length;xw++){var bw=vk[xw],OW=bw.toLowerCase(),RW=bw[0].toUpperCase()+bw.slice(1);Cs(OW,"on"+RW)}Cs(HL,"onAnimationEnd");Cs(qL,"onAnimationIteration");Cs(KL,"onAnimationStart");Cs("dblclick","onDoubleClick");Cs("focusin","onFocus");Cs("focusout","onBlur");Cs(GL,"onTransitionEnd");Mu("onMouseEnter",["mouseout","mouseover"]);Mu("onMouseLeave",["mouseout","mouseover"]);Mu("onPointerEnter",["pointerout","pointerover"]);Mu("onPointerLeave",["pointerout","pointerover"]);fc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fc("onBeforeInput",["compositionend","keypress","textInput","paste"]);fc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jf));function xk(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,O7(r,e,void 0,t),t.currentTarget=null}function QL(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;xk(i,s,c),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;xk(i,s,c),o=l}}}if(Oy)throw t=Z1,Oy=!1,Z1=null,t}function Ot(t,e){var n=e[c_];n===void 0&&(n=e[c_]=new Set);var r=t+"__bubble";n.has(r)||(YL(e,t,2,!1),n.add(r))}function ww(t,e,n){var r=0;e&&(r|=4),YL(n,t,r,e)}var hg="_reactListening"+Math.random().toString(36).slice(2);function Lh(t){if(!t[hg]){t[hg]=!0,iL.forEach(function(n){n!=="selectionchange"&&(jW.has(n)||ww(n,!1,t),ww(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hg]||(e[hg]=!0,ww("selectionchange",!1,e))}}function YL(t,e,n,r){switch(jL(e)){case 1:var i=G7;break;case 4:i=X7;break;default:i=yT}n=i.bind(null,e,n,t),i=void 0,!J1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function _w(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=yl(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}bL(function(){var c=o,d=hT(n),f=[];e:{var h=XL.get(t);if(h!==void 0){var m=xT,y=t;switch(t){case"keypress":if(ny(n)===0)break e;case"keydown":case"keyup":m=uW;break;case"focusin":y="focus",m=mw;break;case"focusout":y="blur",m=mw;break;case"beforeblur":case"afterblur":m=mw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=sk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=J7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=hW;break;case HL:case qL:case KL:m=tW;break;case GL:m=mW;break;case"scroll":m=Q7;break;case"wheel":m=yW;break;case"copy":case"cut":case"paste":m=rW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ck}var g=(e&4)!==0,v=!g&&t==="scroll",b=g?h!==null?h+"Capture":null:h;g=[];for(var x=c,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,b!==null&&(S=Nh(x,b),S!=null&&g.push($h(x,S,w)))),v)break;x=x.return}0<g.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Q1&&(y=n.relatedTarget||n.fromElement)&&(yl(y)||y[zo]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?yl(y):null,y!==null&&(v=hc(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(g=sk,S="onMouseLeave",b="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=ck,S="onPointerLeave",b="onPointerEnter",x="pointer"),v=m==null?h:Jc(m),w=y==null?h:Jc(y),h=new g(S,x+"leave",m,n,d),h.target=v,h.relatedTarget=w,S=null,yl(d)===c&&(g=new g(b,x+"enter",y,n,d),g.target=w,g.relatedTarget=v,S=g),v=S,m&&y)t:{for(g=m,b=y,x=0,w=g;w;w=Cc(w))x++;for(w=0,S=b;S;S=Cc(S))w++;for(;0<x-w;)g=Cc(g),x--;for(;0<w-x;)b=Cc(b),w--;for(;x--;){if(g===b||b!==null&&g===b.alternate)break t;g=Cc(g),b=Cc(b)}g=null}else g=null;m!==null&&bk(f,h,m,g,!1),y!==null&&v!==null&&bk(f,v,y,g,!0)}}e:{if(h=c?Jc(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var A=EW;else if(fk(h))if(FL)A=CW;else{A=IW;var C=TW}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=AW);if(A&&(A=A(t,c))){VL(f,A,n,d);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&H1(h,"number",h.value)}switch(C=c?Jc(c):window,t){case"focusin":(fk(C)||C.contentEditable==="true")&&(Qc=C,r_=c,fh=null);break;case"focusout":fh=r_=Qc=null;break;case"mousedown":i_=!0;break;case"contextmenu":case"mouseup":case"dragend":i_=!1,yk(f,n,d);break;case"selectionchange":if(NW)break;case"keydown":case"keyup":yk(f,n,d)}var T;if(wT)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Xc?LL(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(ML&&n.locale!=="ko"&&(Xc||E!=="onCompositionStart"?E==="onCompositionEnd"&&Xc&&(T=DL()):(Ua=d,vT="value"in Ua?Ua.value:Ua.textContent,Xc=!0)),C=Ly(c,E),0<C.length&&(E=new lk(E,t,null,n,d),f.push({event:E,listeners:C}),T?E.data=T:(T=$L(n),T!==null&&(E.data=T)))),(T=xW?bW(t,n):wW(t,n))&&(c=Ly(c,"onBeforeInput"),0<c.length&&(d=new lk("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=T))}QL(f,e)})}function $h(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ly(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Nh(t,n),o!=null&&r.unshift($h(t,o,i)),o=Nh(t,e),o!=null&&r.push($h(t,o,i))),t=t.return}return r}function Cc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bk(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=Nh(n,o),l!=null&&a.unshift($h(n,l,s))):i||(l=Nh(n,o),l!=null&&a.push($h(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var DW=/\r\n?/g,MW=/\u0000|\uFFFD/g;function wk(t){return(typeof t=="string"?t:""+t).replace(DW,`
`).replace(MW,"")}function pg(t,e,n){if(e=wk(e),wk(t)!==e&&n)throw Error(le(425))}function $y(){}var o_=null,a_=null;function s_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var l_=typeof setTimeout=="function"?setTimeout:void 0,LW=typeof clearTimeout=="function"?clearTimeout:void 0,_k=typeof Promise=="function"?Promise:void 0,$W=typeof queueMicrotask=="function"?queueMicrotask:typeof _k<"u"?function(t){return _k.resolve(null).then(t).catch(VW)}:l_;function VW(t){setTimeout(function(){throw t})}function Sw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),jh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);jh(e)}function Qa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jd=Math.random().toString(36).slice(2),Yi="__reactFiber$"+jd,Vh="__reactProps$"+jd,zo="__reactContainer$"+jd,c_="__reactEvents$"+jd,FW="__reactListeners$"+jd,BW="__reactHandles$"+jd;function yl(t){var e=t[Yi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zo]||n[Yi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Sk(t);t!==null;){if(n=t[Yi])return n;t=Sk(t)}return e}t=n,n=t.parentNode}return null}function am(t){return t=t[Yi]||t[zo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function B0(t){return t[Vh]||null}var u_=[],Zc=-1;function Ps(t){return{current:t}}function Dt(t){0>Zc||(t.current=u_[Zc],u_[Zc]=null,Zc--)}function Pt(t,e){Zc++,u_[Zc]=t.current,t.current=e}var hs={},tr=Ps(hs),Er=Ps(!1),Bl=hs;function Lu(t,e){var n=t.type.contextTypes;if(!n)return hs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tr(t){return t=t.childContextTypes,t!=null}function Vy(){Dt(Er),Dt(tr)}function Ek(t,e,n){if(tr.current!==hs)throw Error(le(168));Pt(tr,e),Pt(Er,n)}function JL(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(le(108,T7(t)||"Unknown",i));return Xt({},n,r)}function Fy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hs,Bl=tr.current,Pt(tr,t),Pt(Er,Er.current),!0}function Tk(t,e,n){var r=t.stateNode;if(!r)throw Error(le(169));n?(t=JL(t,e,Bl),r.__reactInternalMemoizedMergedChildContext=t,Dt(Er),Dt(tr),Pt(tr,t)):Dt(Er),Pt(Er,n)}var To=null,U0=!1,Ew=!1;function ZL(t){To===null?To=[t]:To.push(t)}function UW(t){U0=!0,ZL(t)}function ks(){if(!Ew&&To!==null){Ew=!0;var t=0,e=xt;try{var n=To;for(xt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}To=null,U0=!1}catch(i){throw To!==null&&(To=To.slice(t+1)),EL(pT,ks),i}finally{xt=e,Ew=!1}}return null}var eu=[],tu=0,By=null,Uy=0,Jr=[],Zr=0,Ul=null,Ao=1,Co="";function rl(t,e){eu[tu++]=Uy,eu[tu++]=By,By=t,Uy=e}function e$(t,e,n){Jr[Zr++]=Ao,Jr[Zr++]=Co,Jr[Zr++]=Ul,Ul=t;var r=Ao;t=Co;var i=32-Pi(r)-1;r&=~(1<<i),n+=1;var o=32-Pi(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ao=1<<32-Pi(e)+i|n<<i|r,Co=o+t}else Ao=1<<o|n<<i|r,Co=t}function ST(t){t.return!==null&&(rl(t,1),e$(t,1,0))}function ET(t){for(;t===By;)By=eu[--tu],eu[tu]=null,Uy=eu[--tu],eu[tu]=null;for(;t===Ul;)Ul=Jr[--Zr],Jr[Zr]=null,Co=Jr[--Zr],Jr[Zr]=null,Ao=Jr[--Zr],Jr[Zr]=null}var Br=null,Vr=null,$t=!1,Ii=null;function t$(t,e){var n=ei(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ik(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Br=t,Vr=Qa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Br=t,Vr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ul!==null?{id:Ao,overflow:Co}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ei(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Br=t,Vr=null,!0):!1;default:return!1}}function d_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function f_(t){if($t){var e=Vr;if(e){var n=e;if(!Ik(t,e)){if(d_(t))throw Error(le(418));e=Qa(n.nextSibling);var r=Br;e&&Ik(t,e)?t$(r,n):(t.flags=t.flags&-4097|2,$t=!1,Br=t)}}else{if(d_(t))throw Error(le(418));t.flags=t.flags&-4097|2,$t=!1,Br=t}}}function Ak(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Br=t}function mg(t){if(t!==Br)return!1;if(!$t)return Ak(t),$t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!s_(t.type,t.memoizedProps)),e&&(e=Vr)){if(d_(t))throw n$(),Error(le(418));for(;e;)t$(t,e),e=Qa(e.nextSibling)}if(Ak(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vr=Qa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vr=null}}else Vr=Br?Qa(t.stateNode.nextSibling):null;return!0}function n$(){for(var t=Vr;t;)t=Qa(t.nextSibling)}function $u(){Vr=Br=null,$t=!1}function TT(t){Ii===null?Ii=[t]:Ii.push(t)}var zW=aa.ReactCurrentBatchConfig;function Pf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,t))}return t}function gg(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ck(t){var e=t._init;return e(t._payload)}function r$(t){function e(b,x){if(t){var w=b.deletions;w===null?(b.deletions=[x],b.flags|=16):w.push(x)}}function n(b,x){if(!t)return null;for(;x!==null;)e(b,x),x=x.sibling;return null}function r(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function i(b,x){return b=es(b,x),b.index=0,b.sibling=null,b}function o(b,x,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<x?(b.flags|=2,x):w):(b.flags|=2,x)):(b.flags|=1048576,x)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function s(b,x,w,S){return x===null||x.tag!==6?(x=Nw(w,b.mode,S),x.return=b,x):(x=i(x,w),x.return=b,x)}function l(b,x,w,S){var A=w.type;return A===Gc?d(b,x,w.props.children,S,w.key):x!==null&&(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ia&&Ck(A)===x.type)?(S=i(x,w.props),S.ref=Pf(b,x,w),S.return=b,S):(S=cy(w.type,w.key,w.props,null,b.mode,S),S.ref=Pf(b,x,w),S.return=b,S)}function c(b,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Ow(w,b.mode,S),x.return=b,x):(x=i(x,w.children||[]),x.return=b,x)}function d(b,x,w,S,A){return x===null||x.tag!==7?(x=Ol(w,b.mode,S,A),x.return=b,x):(x=i(x,w),x.return=b,x)}function f(b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Nw(""+x,b.mode,w),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case og:return w=cy(x.type,x.key,x.props,null,b.mode,w),w.ref=Pf(b,null,x),w.return=b,w;case Kc:return x=Ow(x,b.mode,w),x.return=b,x;case Ia:var S=x._init;return f(b,S(x._payload),w)}if(Qf(x)||Ef(x))return x=Ol(x,b.mode,w,null),x.return=b,x;gg(b,x)}return null}function h(b,x,w,S){var A=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return A!==null?null:s(b,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case og:return w.key===A?l(b,x,w,S):null;case Kc:return w.key===A?c(b,x,w,S):null;case Ia:return A=w._init,h(b,x,A(w._payload),S)}if(Qf(w)||Ef(w))return A!==null?null:d(b,x,w,S,null);gg(b,w)}return null}function m(b,x,w,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return b=b.get(w)||null,s(x,b,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case og:return b=b.get(S.key===null?w:S.key)||null,l(x,b,S,A);case Kc:return b=b.get(S.key===null?w:S.key)||null,c(x,b,S,A);case Ia:var C=S._init;return m(b,x,w,C(S._payload),A)}if(Qf(S)||Ef(S))return b=b.get(w)||null,d(x,b,S,A,null);gg(x,S)}return null}function y(b,x,w,S){for(var A=null,C=null,T=x,E=x=0,N=null;T!==null&&E<w.length;E++){T.index>E?(N=T,T=null):N=T.sibling;var P=h(b,T,w[E],S);if(P===null){T===null&&(T=N);break}t&&T&&P.alternate===null&&e(b,T),x=o(P,x,E),C===null?A=P:C.sibling=P,C=P,T=N}if(E===w.length)return n(b,T),$t&&rl(b,E),A;if(T===null){for(;E<w.length;E++)T=f(b,w[E],S),T!==null&&(x=o(T,x,E),C===null?A=T:C.sibling=T,C=T);return $t&&rl(b,E),A}for(T=r(b,T);E<w.length;E++)N=m(T,b,E,w[E],S),N!==null&&(t&&N.alternate!==null&&T.delete(N.key===null?E:N.key),x=o(N,x,E),C===null?A=N:C.sibling=N,C=N);return t&&T.forEach(function(R){return e(b,R)}),$t&&rl(b,E),A}function g(b,x,w,S){var A=Ef(w);if(typeof A!="function")throw Error(le(150));if(w=A.call(w),w==null)throw Error(le(151));for(var C=A=null,T=x,E=x=0,N=null,P=w.next();T!==null&&!P.done;E++,P=w.next()){T.index>E?(N=T,T=null):N=T.sibling;var R=h(b,T,P.value,S);if(R===null){T===null&&(T=N);break}t&&T&&R.alternate===null&&e(b,T),x=o(R,x,E),C===null?A=R:C.sibling=R,C=R,T=N}if(P.done)return n(b,T),$t&&rl(b,E),A;if(T===null){for(;!P.done;E++,P=w.next())P=f(b,P.value,S),P!==null&&(x=o(P,x,E),C===null?A=P:C.sibling=P,C=P);return $t&&rl(b,E),A}for(T=r(b,T);!P.done;E++,P=w.next())P=m(T,b,E,P.value,S),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?E:P.key),x=o(P,x,E),C===null?A=P:C.sibling=P,C=P);return t&&T.forEach(function(O){return e(b,O)}),$t&&rl(b,E),A}function v(b,x,w,S){if(typeof w=="object"&&w!==null&&w.type===Gc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case og:e:{for(var A=w.key,C=x;C!==null;){if(C.key===A){if(A=w.type,A===Gc){if(C.tag===7){n(b,C.sibling),x=i(C,w.props.children),x.return=b,b=x;break e}}else if(C.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Ia&&Ck(A)===C.type){n(b,C.sibling),x=i(C,w.props),x.ref=Pf(b,C,w),x.return=b,b=x;break e}n(b,C);break}else e(b,C);C=C.sibling}w.type===Gc?(x=Ol(w.props.children,b.mode,S,w.key),x.return=b,b=x):(S=cy(w.type,w.key,w.props,null,b.mode,S),S.ref=Pf(b,x,w),S.return=b,b=S)}return a(b);case Kc:e:{for(C=w.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(b,x.sibling),x=i(x,w.children||[]),x.return=b,b=x;break e}else{n(b,x);break}else e(b,x);x=x.sibling}x=Ow(w,b.mode,S),x.return=b,b=x}return a(b);case Ia:return C=w._init,v(b,x,C(w._payload),S)}if(Qf(w))return y(b,x,w,S);if(Ef(w))return g(b,x,w,S);gg(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(b,x.sibling),x=i(x,w),x.return=b,b=x):(n(b,x),x=Nw(w,b.mode,S),x.return=b,b=x),a(b)):n(b,x)}return v}var Vu=r$(!0),i$=r$(!1),zy=Ps(null),Wy=null,nu=null,IT=null;function AT(){IT=nu=Wy=null}function CT(t){var e=zy.current;Dt(zy),t._currentValue=e}function h_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function hu(t,e){Wy=t,IT=nu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xr=!0),t.firstContext=null)}function si(t){var e=t._currentValue;if(IT!==t)if(t={context:t,memoizedValue:e,next:null},nu===null){if(Wy===null)throw Error(le(308));nu=t,Wy.dependencies={lanes:0,firstContext:t}}else nu=nu.next=t;return e}var vl=null;function PT(t){vl===null?vl=[t]:vl.push(t)}function o$(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,PT(e)):(n.next=i.next,i.next=n),e.interleaved=n,Wo(t,r)}function Wo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Aa=!1;function kT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a$(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ya(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ot&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wo(t,n)}return i=r.interleaved,i===null?(e.next=e,PT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wo(t,n)}function ry(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mT(t,n)}}function Pk(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hy(t,e,n,r){var i=t.updateQueue;Aa=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,a===null?o=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==a&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,d=c=l=null,s=o;do{var h=s.lane,m=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,g=s;switch(h=e,m=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Xt({},f,h);break e;case 2:Aa=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Wl|=a,t.lanes=a,t.memoizedState=f}}function kk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var sm={},io=Ps(sm),Fh=Ps(sm),Bh=Ps(sm);function xl(t){if(t===sm)throw Error(le(174));return t}function NT(t,e){switch(Pt(Bh,e),Pt(Fh,t),Pt(io,sm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:K1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=K1(e,t)}Dt(io),Pt(io,e)}function Fu(){Dt(io),Dt(Fh),Dt(Bh)}function s$(t){xl(Bh.current);var e=xl(io.current),n=K1(e,t.type);e!==n&&(Pt(Fh,t),Pt(io,n))}function OT(t){Fh.current===t&&(Dt(io),Dt(Fh))}var Ut=Ps(0);function qy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tw=[];function RT(){for(var t=0;t<Tw.length;t++)Tw[t]._workInProgressVersionPrimary=null;Tw.length=0}var iy=aa.ReactCurrentDispatcher,Iw=aa.ReactCurrentBatchConfig,zl=0,Kt=null,hn=null,Sn=null,Ky=!1,hh=!1,Uh=0,WW=0;function zn(){throw Error(le(321))}function jT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ji(t[n],e[n]))return!1;return!0}function DT(t,e,n,r,i,o){if(zl=o,Kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,iy.current=t===null||t.memoizedState===null?GW:XW,t=n(r,i),hh){o=0;do{if(hh=!1,Uh=0,25<=o)throw Error(le(301));o+=1,Sn=hn=null,e.updateQueue=null,iy.current=QW,t=n(r,i)}while(hh)}if(iy.current=Gy,e=hn!==null&&hn.next!==null,zl=0,Sn=hn=Kt=null,Ky=!1,e)throw Error(le(300));return t}function MT(){var t=Uh!==0;return Uh=0,t}function Hi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Kt.memoizedState=Sn=t:Sn=Sn.next=t,Sn}function li(){if(hn===null){var t=Kt.alternate;t=t!==null?t.memoizedState:null}else t=hn.next;var e=Sn===null?Kt.memoizedState:Sn.next;if(e!==null)Sn=e,hn=t;else{if(t===null)throw Error(le(310));hn=t,t={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},Sn===null?Kt.memoizedState=Sn=t:Sn=Sn.next=t}return Sn}function zh(t,e){return typeof e=="function"?e(t):e}function Aw(t){var e=li(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=hn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,c=o;do{var d=c.lane;if((zl&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Kt.lanes|=d,Wl|=d}c=c.next}while(c!==null&&c!==o);l===null?a=r:l.next=s,ji(r,e.memoizedState)||(xr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Kt.lanes|=o,Wl|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cw(t){var e=li(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);ji(o,e.memoizedState)||(xr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function l$(){}function c$(t,e){var n=Kt,r=li(),i=e(),o=!ji(r.memoizedState,i);if(o&&(r.memoizedState=i,xr=!0),r=r.queue,LT(f$.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Sn!==null&&Sn.memoizedState.tag&1){if(n.flags|=2048,Wh(9,d$.bind(null,n,r,i,e),void 0,null),Tn===null)throw Error(le(349));zl&30||u$(n,e,i)}return i}function u$(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function d$(t,e,n,r){e.value=n,e.getSnapshot=r,h$(e)&&p$(t)}function f$(t,e,n){return n(function(){h$(e)&&p$(t)})}function h$(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ji(t,n)}catch{return!0}}function p$(t){var e=Wo(t,1);e!==null&&ki(e,t,1,-1)}function Nk(t){var e=Hi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zh,lastRenderedState:t},e.queue=t,t=t.dispatch=KW.bind(null,Kt,t),[e.memoizedState,t]}function Wh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function m$(){return li().memoizedState}function oy(t,e,n,r){var i=Hi();Kt.flags|=t,i.memoizedState=Wh(1|e,n,void 0,r===void 0?null:r)}function z0(t,e,n,r){var i=li();r=r===void 0?null:r;var o=void 0;if(hn!==null){var a=hn.memoizedState;if(o=a.destroy,r!==null&&jT(r,a.deps)){i.memoizedState=Wh(e,n,o,r);return}}Kt.flags|=t,i.memoizedState=Wh(1|e,n,o,r)}function Ok(t,e){return oy(8390656,8,t,e)}function LT(t,e){return z0(2048,8,t,e)}function g$(t,e){return z0(4,2,t,e)}function y$(t,e){return z0(4,4,t,e)}function v$(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function x$(t,e,n){return n=n!=null?n.concat([t]):null,z0(4,4,v$.bind(null,e,t),n)}function $T(){}function b$(t,e){var n=li();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function w$(t,e){var n=li();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _$(t,e,n){return zl&21?(ji(n,e)||(n=AL(),Kt.lanes|=n,Wl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xr=!0),t.memoizedState=n)}function HW(t,e){var n=xt;xt=n!==0&&4>n?n:4,t(!0);var r=Iw.transition;Iw.transition={};try{t(!1),e()}finally{xt=n,Iw.transition=r}}function S$(){return li().memoizedState}function qW(t,e,n){var r=Za(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},E$(t))T$(e,n);else if(n=o$(t,e,n,r),n!==null){var i=dr();ki(n,t,r,i),I$(n,e,r)}}function KW(t,e,n){var r=Za(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(E$(t))T$(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,ji(s,a)){var l=e.interleaved;l===null?(i.next=i,PT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=o$(t,e,i,r),n!==null&&(i=dr(),ki(n,t,r,i),I$(n,e,r))}}function E$(t){var e=t.alternate;return t===Kt||e!==null&&e===Kt}function T$(t,e){hh=Ky=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function I$(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mT(t,n)}}var Gy={readContext:si,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},GW={readContext:si,useCallback:function(t,e){return Hi().memoizedState=[t,e===void 0?null:e],t},useContext:si,useEffect:Ok,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,oy(4194308,4,v$.bind(null,e,t),n)},useLayoutEffect:function(t,e){return oy(4194308,4,t,e)},useInsertionEffect:function(t,e){return oy(4,2,t,e)},useMemo:function(t,e){var n=Hi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qW.bind(null,Kt,t),[r.memoizedState,t]},useRef:function(t){var e=Hi();return t={current:t},e.memoizedState=t},useState:Nk,useDebugValue:$T,useDeferredValue:function(t){return Hi().memoizedState=t},useTransition:function(){var t=Nk(!1),e=t[0];return t=HW.bind(null,t[1]),Hi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Kt,i=Hi();if($t){if(n===void 0)throw Error(le(407));n=n()}else{if(n=e(),Tn===null)throw Error(le(349));zl&30||u$(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Ok(f$.bind(null,r,o,t),[t]),r.flags|=2048,Wh(9,d$.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Hi(),e=Tn.identifierPrefix;if($t){var n=Co,r=Ao;n=(r&~(1<<32-Pi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},XW={readContext:si,useCallback:b$,useContext:si,useEffect:LT,useImperativeHandle:x$,useInsertionEffect:g$,useLayoutEffect:y$,useMemo:w$,useReducer:Aw,useRef:m$,useState:function(){return Aw(zh)},useDebugValue:$T,useDeferredValue:function(t){var e=li();return _$(e,hn.memoizedState,t)},useTransition:function(){var t=Aw(zh)[0],e=li().memoizedState;return[t,e]},useMutableSource:l$,useSyncExternalStore:c$,useId:S$,unstable_isNewReconciler:!1},QW={readContext:si,useCallback:b$,useContext:si,useEffect:LT,useImperativeHandle:x$,useInsertionEffect:g$,useLayoutEffect:y$,useMemo:w$,useReducer:Cw,useRef:m$,useState:function(){return Cw(zh)},useDebugValue:$T,useDeferredValue:function(t){var e=li();return hn===null?e.memoizedState=t:_$(e,hn.memoizedState,t)},useTransition:function(){var t=Cw(zh)[0],e=li().memoizedState;return[t,e]},useMutableSource:l$,useSyncExternalStore:c$,useId:S$,unstable_isNewReconciler:!1};function xi(t,e){if(t&&t.defaultProps){e=Xt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function p_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Xt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var W0={isMounted:function(t){return(t=t._reactInternals)?hc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dr(),i=Za(t),o=Mo(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ya(t,o,i),e!==null&&(ki(e,t,i,r),ry(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dr(),i=Za(t),o=Mo(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ya(t,o,i),e!==null&&(ki(e,t,i,r),ry(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dr(),r=Za(t),i=Mo(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ya(t,i,r),e!==null&&(ki(e,t,r,n),ry(e,t,r))}};function Rk(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Mh(n,r)||!Mh(i,o):!0}function A$(t,e,n){var r=!1,i=hs,o=e.contextType;return typeof o=="object"&&o!==null?o=si(o):(i=Tr(e)?Bl:tr.current,r=e.contextTypes,o=(r=r!=null)?Lu(t,i):hs),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=W0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function jk(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&W0.enqueueReplaceState(e,e.state,null)}function m_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},kT(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=si(o):(o=Tr(e)?Bl:tr.current,i.context=Lu(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(p_(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&W0.enqueueReplaceState(i,i.state,null),Hy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Bu(t,e){try{var n="",r=e;do n+=E7(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Pw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function g_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var YW=typeof WeakMap=="function"?WeakMap:Map;function C$(t,e,n){n=Mo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qy||(Qy=!0,I_=r),g_(t,e)},n}function P$(t,e,n){n=Mo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){g_(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){g_(t,e),typeof r!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Dk(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new YW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=dH.bind(null,t,e,n),e.then(t,t))}function Mk(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Lk(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mo(-1,1),e.tag=2,Ya(n,e,1))),n.lanes|=1),t)}var JW=aa.ReactCurrentOwner,xr=!1;function or(t,e,n,r){e.child=t===null?i$(e,null,n,r):Vu(e,t.child,n,r)}function $k(t,e,n,r,i){n=n.render;var o=e.ref;return hu(e,i),r=DT(t,e,n,r,o,i),n=MT(),t!==null&&!xr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ho(t,e,i)):($t&&n&&ST(e),e.flags|=1,or(t,e,r,i),e.child)}function Vk(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!qT(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,k$(t,e,o,r,i)):(t=cy(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Mh,n(a,r)&&t.ref===e.ref)return Ho(t,e,i)}return e.flags|=1,t=es(o,r),t.ref=e.ref,t.return=e,e.child=t}function k$(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Mh(o,r)&&t.ref===e.ref)if(xr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(xr=!0);else return e.lanes=t.lanes,Ho(t,e,i)}return y_(t,e,n,r,i)}function N$(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(iu,Rr),Rr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pt(iu,Rr),Rr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Pt(iu,Rr),Rr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Pt(iu,Rr),Rr|=r;return or(t,e,i,n),e.child}function O$(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function y_(t,e,n,r,i){var o=Tr(n)?Bl:tr.current;return o=Lu(e,o),hu(e,i),n=DT(t,e,n,r,o,i),r=MT(),t!==null&&!xr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ho(t,e,i)):($t&&r&&ST(e),e.flags|=1,or(t,e,n,i),e.child)}function Fk(t,e,n,r,i){if(Tr(n)){var o=!0;Fy(e)}else o=!1;if(hu(e,i),e.stateNode===null)ay(t,e),A$(e,n,r),m_(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=si(c):(c=Tr(n)?Bl:tr.current,c=Lu(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==c)&&jk(e,a,r,c),Aa=!1;var h=e.memoizedState;a.state=h,Hy(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Er.current||Aa?(typeof d=="function"&&(p_(e,n,d,r),l=e.memoizedState),(s=Aa||Rk(e,n,s,r,h,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,a$(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:xi(e.type,s),a.props=c,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=si(l):(l=Tr(n)?Bl:tr.current,l=Lu(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&jk(e,a,r,l),Aa=!1,h=e.memoizedState,a.state=h,Hy(e,r,a,i);var y=e.memoizedState;s!==f||h!==y||Er.current||Aa?(typeof m=="function"&&(p_(e,n,m,r),y=e.memoizedState),(c=Aa||Rk(e,n,c,r,h,y,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return v_(t,e,n,r,o,i)}function v_(t,e,n,r,i,o){O$(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Tk(e,n,!1),Ho(t,e,o);r=e.stateNode,JW.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Vu(e,t.child,null,o),e.child=Vu(e,null,s,o)):or(t,e,s,o),e.memoizedState=r.state,i&&Tk(e,n,!0),e.child}function R$(t){var e=t.stateNode;e.pendingContext?Ek(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ek(t,e.context,!1),NT(t,e.containerInfo)}function Bk(t,e,n,r,i){return $u(),TT(i),e.flags|=256,or(t,e,n,r),e.child}var x_={dehydrated:null,treeContext:null,retryLane:0};function b_(t){return{baseLanes:t,cachePool:null,transitions:null}}function j$(t,e,n){var r=e.pendingProps,i=Ut.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pt(Ut,i&1),t===null)return f_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=K0(a,r,0,null),t=Ol(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=b_(n),e.memoizedState=x_,t):VT(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return ZW(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=es(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=es(s,o):(o=Ol(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?b_(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=x_,r}return o=t.child,t=o.sibling,r=es(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function VT(t,e){return e=K0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yg(t,e,n,r){return r!==null&&TT(r),Vu(e,t.child,null,n),t=VT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZW(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Pw(Error(le(422))),yg(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=K0({mode:"visible",children:r.children},i,0,null),o=Ol(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Vu(e,t.child,null,a),e.child.memoizedState=b_(a),e.memoizedState=x_,o);if(!(e.mode&1))return yg(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(le(419)),r=Pw(o,r,void 0),yg(t,e,a,r)}if(s=(a&t.childLanes)!==0,xr||s){if(r=Tn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Wo(t,i),ki(r,t,i,-1))}return HT(),r=Pw(Error(le(421))),yg(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fH.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Vr=Qa(i.nextSibling),Br=e,$t=!0,Ii=null,t!==null&&(Jr[Zr++]=Ao,Jr[Zr++]=Co,Jr[Zr++]=Ul,Ao=t.id,Co=t.overflow,Ul=e),e=VT(e,r.children),e.flags|=4096,e)}function Uk(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),h_(t.return,e,n)}function kw(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function D$(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(or(t,e,r.children,n),r=Ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uk(t,n,e);else if(t.tag===19)Uk(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pt(Ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&qy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),kw(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&qy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}kw(e,!0,n,null,o);break;case"together":kw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ay(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ho(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,n=es(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=es(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function eH(t,e,n){switch(e.tag){case 3:R$(e),$u();break;case 5:s$(e);break;case 1:Tr(e.type)&&Fy(e);break;case 4:NT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pt(zy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pt(Ut,Ut.current&1),e.flags|=128,null):n&e.child.childLanes?j$(t,e,n):(Pt(Ut,Ut.current&1),t=Ho(t,e,n),t!==null?t.sibling:null);Pt(Ut,Ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return D$(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pt(Ut,Ut.current),r)break;return null;case 22:case 23:return e.lanes=0,N$(t,e,n)}return Ho(t,e,n)}var M$,w_,L$,$$;M$=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};w_=function(){};L$=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xl(io.current);var o=null;switch(n){case"input":i=z1(t,i),r=z1(t,r),o=[];break;case"select":i=Xt({},i,{value:void 0}),r=Xt({},r,{value:void 0}),o=[];break;case"textarea":i=q1(t,i),r=q1(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$y)}G1(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ph.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ph.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ot("scroll",t),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};$$=function(t,e,n,r){n!==r&&(e.flags|=4)};function kf(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tH(t,e,n){var r=e.pendingProps;switch(ET(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(e),null;case 1:return Tr(e.type)&&Vy(),Wn(e),null;case 3:return r=e.stateNode,Fu(),Dt(Er),Dt(tr),RT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ii!==null&&(P_(Ii),Ii=null))),w_(t,e),Wn(e),null;case 5:OT(e);var i=xl(Bh.current);if(n=e.type,t!==null&&e.stateNode!=null)L$(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(le(166));return Wn(e),null}if(t=xl(io.current),mg(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Yi]=e,r[Vh]=o,t=(e.mode&1)!==0,n){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(i=0;i<Jf.length;i++)Ot(Jf[i],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":YP(r,o),Ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ot("invalid",r);break;case"textarea":ZP(r,o),Ot("invalid",r)}G1(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&pg(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&pg(r.textContent,s,t),i=["children",""+s]):Ph.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ot("scroll",r)}switch(n){case"input":ag(r),JP(r,o,!0);break;case"textarea":ag(r),ek(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=$y)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Yi]=e,t[Vh]=r,M$(t,e,!1,!1),e.stateNode=t;e:{switch(a=X1(n,r),n){case"dialog":Ot("cancel",t),Ot("close",t),i=r;break;case"iframe":case"object":case"embed":Ot("load",t),i=r;break;case"video":case"audio":for(i=0;i<Jf.length;i++)Ot(Jf[i],t);i=r;break;case"source":Ot("error",t),i=r;break;case"img":case"image":case"link":Ot("error",t),Ot("load",t),i=r;break;case"details":Ot("toggle",t),i=r;break;case"input":YP(t,r),i=z1(t,r),Ot("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Xt({},r,{value:void 0}),Ot("invalid",t);break;case"textarea":ZP(t,r),i=q1(t,r),Ot("invalid",t);break;default:i=r}G1(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?mL(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hL(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kh(t,l):typeof l=="number"&&kh(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ph.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ot("scroll",t):l!=null&&cT(t,o,l,a))}switch(n){case"input":ag(t),JP(t,r,!1);break;case"textarea":ag(t),ek(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fs(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?cu(t,!!r.multiple,o,!1):r.defaultValue!=null&&cu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$y)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wn(e),null;case 6:if(t&&e.stateNode!=null)$$(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(le(166));if(n=xl(Bh.current),xl(io.current),mg(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yi]=e,(o=r.nodeValue!==n)&&(t=Br,t!==null))switch(t.tag){case 3:pg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pg(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yi]=e,e.stateNode=r}return Wn(e),null;case 13:if(Dt(Ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($t&&Vr!==null&&e.mode&1&&!(e.flags&128))n$(),$u(),e.flags|=98560,o=!1;else if(o=mg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(le(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(le(317));o[Yi]=e}else $u(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wn(e),o=!1}else Ii!==null&&(P_(Ii),Ii=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ut.current&1?pn===0&&(pn=3):HT())),e.updateQueue!==null&&(e.flags|=4),Wn(e),null);case 4:return Fu(),w_(t,e),t===null&&Lh(e.stateNode.containerInfo),Wn(e),null;case 10:return CT(e.type._context),Wn(e),null;case 17:return Tr(e.type)&&Vy(),Wn(e),null;case 19:if(Dt(Ut),o=e.memoizedState,o===null)return Wn(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)kf(o,!1);else{if(pn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=qy(t),a!==null){for(e.flags|=128,kf(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pt(Ut,Ut.current&1|2),e.child}t=t.sibling}o.tail!==null&&on()>Uu&&(e.flags|=128,r=!0,kf(o,!1),e.lanes=4194304)}else{if(!r)if(t=qy(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),kf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!$t)return Wn(e),null}else 2*on()-o.renderingStartTime>Uu&&n!==1073741824&&(e.flags|=128,r=!0,kf(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=on(),e.sibling=null,n=Ut.current,Pt(Ut,r?n&1|2:n&1),e):(Wn(e),null);case 22:case 23:return WT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rr&1073741824&&(Wn(e),e.subtreeFlags&6&&(e.flags|=8192)):Wn(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function nH(t,e){switch(ET(e),e.tag){case 1:return Tr(e.type)&&Vy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fu(),Dt(Er),Dt(tr),RT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return OT(e),null;case 13:if(Dt(Ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));$u()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Dt(Ut),null;case 4:return Fu(),null;case 10:return CT(e.type._context),null;case 22:case 23:return WT(),null;case 24:return null;default:return null}}var vg=!1,Xn=!1,rH=typeof WeakSet=="function"?WeakSet:Set,xe=null;function ru(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Zt(t,e,r)}else n.current=null}function __(t,e,n){try{n()}catch(r){Zt(t,e,r)}}var zk=!1;function iH(t,e){if(o_=Dy,t=zL(),_T(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,c=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++c===i&&(s=a),h===o&&++d===r&&(l=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(a_={focusedElem:t,selectionRange:n},Dy=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,b=e.stateNode,x=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:xi(e.type,g),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(S){Zt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return y=zk,zk=!1,y}function ph(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&__(e,n,o)}i=i.next}while(i!==r)}}function H0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function S_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function V$(t){var e=t.alternate;e!==null&&(t.alternate=null,V$(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yi],delete e[Vh],delete e[c_],delete e[FW],delete e[BW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function F$(t){return t.tag===5||t.tag===3||t.tag===4}function Wk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F$(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function E_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$y));else if(r!==4&&(t=t.child,t!==null))for(E_(t,e,n),t=t.sibling;t!==null;)E_(t,e,n),t=t.sibling}function T_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(T_(t,e,n),t=t.sibling;t!==null;)T_(t,e,n),t=t.sibling}var Rn=null,_i=!1;function ya(t,e,n){for(n=n.child;n!==null;)B$(t,e,n),n=n.sibling}function B$(t,e,n){if(ro&&typeof ro.onCommitFiberUnmount=="function")try{ro.onCommitFiberUnmount(L0,n)}catch{}switch(n.tag){case 5:Xn||ru(n,e);case 6:var r=Rn,i=_i;Rn=null,ya(t,e,n),Rn=r,_i=i,Rn!==null&&(_i?(t=Rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rn.removeChild(n.stateNode));break;case 18:Rn!==null&&(_i?(t=Rn,n=n.stateNode,t.nodeType===8?Sw(t.parentNode,n):t.nodeType===1&&Sw(t,n),jh(t)):Sw(Rn,n.stateNode));break;case 4:r=Rn,i=_i,Rn=n.stateNode.containerInfo,_i=!0,ya(t,e,n),Rn=r,_i=i;break;case 0:case 11:case 14:case 15:if(!Xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&__(n,e,a),i=i.next}while(i!==r)}ya(t,e,n);break;case 1:if(!Xn&&(ru(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Zt(n,e,s)}ya(t,e,n);break;case 21:ya(t,e,n);break;case 22:n.mode&1?(Xn=(r=Xn)||n.memoizedState!==null,ya(t,e,n),Xn=r):ya(t,e,n);break;default:ya(t,e,n)}}function Hk(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rH),e.forEach(function(r){var i=hH.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Rn=s.stateNode,_i=!1;break e;case 3:Rn=s.stateNode.containerInfo,_i=!0;break e;case 4:Rn=s.stateNode.containerInfo,_i=!0;break e}s=s.return}if(Rn===null)throw Error(le(160));B$(o,a,i),Rn=null,_i=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Zt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)U$(e,t),e=e.sibling}function U$(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mi(e,t),Wi(t),r&4){try{ph(3,t,t.return),H0(3,t)}catch(g){Zt(t,t.return,g)}try{ph(5,t,t.return)}catch(g){Zt(t,t.return,g)}}break;case 1:mi(e,t),Wi(t),r&512&&n!==null&&ru(n,n.return);break;case 5:if(mi(e,t),Wi(t),r&512&&n!==null&&ru(n,n.return),t.flags&32){var i=t.stateNode;try{kh(i,"")}catch(g){Zt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&uL(i,o),X1(s,a);var c=X1(s,o);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?mL(i,f):d==="dangerouslySetInnerHTML"?hL(i,f):d==="children"?kh(i,f):cT(i,d,f,c)}switch(s){case"input":W1(i,o);break;case"textarea":dL(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?cu(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?cu(i,!!o.multiple,o.defaultValue,!0):cu(i,!!o.multiple,o.multiple?[]:"",!1))}i[Vh]=o}catch(g){Zt(t,t.return,g)}}break;case 6:if(mi(e,t),Wi(t),r&4){if(t.stateNode===null)throw Error(le(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){Zt(t,t.return,g)}}break;case 3:if(mi(e,t),Wi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jh(e.containerInfo)}catch(g){Zt(t,t.return,g)}break;case 4:mi(e,t),Wi(t);break;case 13:mi(e,t),Wi(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(UT=on())),r&4&&Hk(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Xn=(c=Xn)||d,mi(e,t),Xn=c):mi(e,t),Wi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(xe=t,d=t.child;d!==null;){for(f=xe=d;xe!==null;){switch(h=xe,m=h.child,h.tag){case 0:case 11:case 14:case 15:ph(4,h,h.return);break;case 1:ru(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){Zt(r,n,g)}}break;case 5:ru(h,h.return);break;case 22:if(h.memoizedState!==null){Kk(f);continue}}m!==null?(m.return=h,xe=m):Kk(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=pL("display",a))}catch(g){Zt(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Zt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mi(e,t),Wi(t),r&4&&Hk(t);break;case 21:break;default:mi(e,t),Wi(t)}}function Wi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(F$(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kh(i,""),r.flags&=-33);var o=Wk(t);T_(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Wk(t);E_(t,s,a);break;default:throw Error(le(161))}}catch(l){Zt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oH(t,e,n){xe=t,z$(t)}function z$(t,e,n){for(var r=(t.mode&1)!==0;xe!==null;){var i=xe,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||vg;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Xn;s=vg;var c=Xn;if(vg=a,(Xn=l)&&!c)for(xe=i;xe!==null;)a=xe,l=a.child,a.tag===22&&a.memoizedState!==null?Gk(i):l!==null?(l.return=a,xe=l):Gk(i);for(;o!==null;)xe=o,z$(o),o=o.sibling;xe=i,vg=s,Xn=c}qk(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,xe=o):qk(t)}}function qk(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xn||H0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xi(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&kk(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kk(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&jh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Xn||e.flags&512&&S_(e)}catch(h){Zt(e,e.return,h)}}if(e===t){xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,xe=n;break}xe=e.return}}function Kk(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xe=n;break}xe=e.return}}function Gk(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{H0(4,e)}catch(l){Zt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Zt(e,i,l)}}var o=e.return;try{S_(e)}catch(l){Zt(e,o,l)}break;case 5:var a=e.return;try{S_(e)}catch(l){Zt(e,a,l)}}}catch(l){Zt(e,e.return,l)}if(e===t){xe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,xe=s;break}xe=e.return}}var aH=Math.ceil,Xy=aa.ReactCurrentDispatcher,FT=aa.ReactCurrentOwner,ii=aa.ReactCurrentBatchConfig,ot=0,Tn=null,cn=null,Mn=0,Rr=0,iu=Ps(0),pn=0,Hh=null,Wl=0,q0=0,BT=0,mh=null,vr=null,UT=0,Uu=1/0,Eo=null,Qy=!1,I_=null,Ja=null,xg=!1,za=null,Yy=0,gh=0,A_=null,sy=-1,ly=0;function dr(){return ot&6?on():sy!==-1?sy:sy=on()}function Za(t){return t.mode&1?ot&2&&Mn!==0?Mn&-Mn:zW.transition!==null?(ly===0&&(ly=AL()),ly):(t=xt,t!==0||(t=window.event,t=t===void 0?16:jL(t.type)),t):1}function ki(t,e,n,r){if(50<gh)throw gh=0,A_=null,Error(le(185));im(t,n,r),(!(ot&2)||t!==Tn)&&(t===Tn&&(!(ot&2)&&(q0|=n),pn===4&&ka(t,Mn)),Ir(t,r),n===1&&ot===0&&!(e.mode&1)&&(Uu=on()+500,U0&&ks()))}function Ir(t,e){var n=t.callbackNode;z7(t,e);var r=jy(t,t===Tn?Mn:0);if(r===0)n!==null&&rk(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&rk(n),e===1)t.tag===0?UW(Xk.bind(null,t)):ZL(Xk.bind(null,t)),$W(function(){!(ot&6)&&ks()}),n=null;else{switch(CL(r)){case 1:n=pT;break;case 4:n=TL;break;case 16:n=Ry;break;case 536870912:n=IL;break;default:n=Ry}n=Y$(n,W$.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function W$(t,e){if(sy=-1,ly=0,ot&6)throw Error(le(327));var n=t.callbackNode;if(pu()&&t.callbackNode!==n)return null;var r=jy(t,t===Tn?Mn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jy(t,r);else{e=r;var i=ot;ot|=2;var o=q$();(Tn!==t||Mn!==e)&&(Eo=null,Uu=on()+500,Nl(t,e));do try{cH();break}catch(s){H$(t,s)}while(!0);AT(),Xy.current=o,ot=i,cn!==null?e=0:(Tn=null,Mn=0,e=pn)}if(e!==0){if(e===2&&(i=e_(t),i!==0&&(r=i,e=C_(t,i))),e===1)throw n=Hh,Nl(t,0),ka(t,r),Ir(t,on()),n;if(e===6)ka(t,r);else{if(i=t.current.alternate,!(r&30)&&!sH(i)&&(e=Jy(t,r),e===2&&(o=e_(t),o!==0&&(r=o,e=C_(t,o))),e===1))throw n=Hh,Nl(t,0),ka(t,r),Ir(t,on()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(le(345));case 2:il(t,vr,Eo);break;case 3:if(ka(t,r),(r&130023424)===r&&(e=UT+500-on(),10<e)){if(jy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=l_(il.bind(null,t,vr,Eo),e);break}il(t,vr,Eo);break;case 4:if(ka(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Pi(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=on()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aH(r/1960))-r,10<r){t.timeoutHandle=l_(il.bind(null,t,vr,Eo),r);break}il(t,vr,Eo);break;case 5:il(t,vr,Eo);break;default:throw Error(le(329))}}}return Ir(t,on()),t.callbackNode===n?W$.bind(null,t):null}function C_(t,e){var n=mh;return t.current.memoizedState.isDehydrated&&(Nl(t,e).flags|=256),t=Jy(t,e),t!==2&&(e=vr,vr=n,e!==null&&P_(e)),t}function P_(t){vr===null?vr=t:vr.push.apply(vr,t)}function sH(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ji(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ka(t,e){for(e&=~BT,e&=~q0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pi(e),r=1<<n;t[n]=-1,e&=~r}}function Xk(t){if(ot&6)throw Error(le(327));pu();var e=jy(t,0);if(!(e&1))return Ir(t,on()),null;var n=Jy(t,e);if(t.tag!==0&&n===2){var r=e_(t);r!==0&&(e=r,n=C_(t,r))}if(n===1)throw n=Hh,Nl(t,0),ka(t,e),Ir(t,on()),n;if(n===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,il(t,vr,Eo),Ir(t,on()),null}function zT(t,e){var n=ot;ot|=1;try{return t(e)}finally{ot=n,ot===0&&(Uu=on()+500,U0&&ks())}}function Hl(t){za!==null&&za.tag===0&&!(ot&6)&&pu();var e=ot;ot|=1;var n=ii.transition,r=xt;try{if(ii.transition=null,xt=1,t)return t()}finally{xt=r,ii.transition=n,ot=e,!(ot&6)&&ks()}}function WT(){Rr=iu.current,Dt(iu)}function Nl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,LW(n)),cn!==null)for(n=cn.return;n!==null;){var r=n;switch(ET(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vy();break;case 3:Fu(),Dt(Er),Dt(tr),RT();break;case 5:OT(r);break;case 4:Fu();break;case 13:Dt(Ut);break;case 19:Dt(Ut);break;case 10:CT(r.type._context);break;case 22:case 23:WT()}n=n.return}if(Tn=t,cn=t=es(t.current,null),Mn=Rr=e,pn=0,Hh=null,BT=q0=Wl=0,vr=mh=null,vl!==null){for(e=0;e<vl.length;e++)if(n=vl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}vl=null}return t}function H$(t,e){do{var n=cn;try{if(AT(),iy.current=Gy,Ky){for(var r=Kt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ky=!1}if(zl=0,Sn=hn=Kt=null,hh=!1,Uh=0,FT.current=null,n===null||n.return===null){pn=1,Hh=e,cn=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Mn,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Mk(a);if(m!==null){m.flags&=-257,Lk(m,a,s,o,e),m.mode&1&&Dk(o,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){Dk(o,c,e),HT();break e}l=Error(le(426))}}else if($t&&s.mode&1){var v=Mk(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Lk(v,a,s,o,e),TT(Bu(l,s));break e}}o=l=Bu(l,s),pn!==4&&(pn=2),mh===null?mh=[o]:mh.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=C$(o,l,e);Pk(o,b);break e;case 1:s=l;var x=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ja===null||!Ja.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var S=P$(o,s,e);Pk(o,S);break e}}o=o.return}while(o!==null)}G$(n)}catch(A){e=A,cn===n&&n!==null&&(cn=n=n.return);continue}break}while(!0)}function q$(){var t=Xy.current;return Xy.current=Gy,t===null?Gy:t}function HT(){(pn===0||pn===3||pn===2)&&(pn=4),Tn===null||!(Wl&268435455)&&!(q0&268435455)||ka(Tn,Mn)}function Jy(t,e){var n=ot;ot|=2;var r=q$();(Tn!==t||Mn!==e)&&(Eo=null,Nl(t,e));do try{lH();break}catch(i){H$(t,i)}while(!0);if(AT(),ot=n,Xy.current=r,cn!==null)throw Error(le(261));return Tn=null,Mn=0,pn}function lH(){for(;cn!==null;)K$(cn)}function cH(){for(;cn!==null&&!j7();)K$(cn)}function K$(t){var e=Q$(t.alternate,t,Rr);t.memoizedProps=t.pendingProps,e===null?G$(t):cn=e,FT.current=null}function G$(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nH(n,e),n!==null){n.flags&=32767,cn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pn=6,cn=null;return}}else if(n=tH(n,e,Rr),n!==null){cn=n;return}if(e=e.sibling,e!==null){cn=e;return}cn=e=t}while(e!==null);pn===0&&(pn=5)}function il(t,e,n){var r=xt,i=ii.transition;try{ii.transition=null,xt=1,uH(t,e,n,r)}finally{ii.transition=i,xt=r}return null}function uH(t,e,n,r){do pu();while(za!==null);if(ot&6)throw Error(le(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(W7(t,o),t===Tn&&(cn=Tn=null,Mn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xg||(xg=!0,Y$(Ry,function(){return pu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ii.transition,ii.transition=null;var a=xt;xt=1;var s=ot;ot|=4,FT.current=null,iH(t,n),U$(n,t),kW(a_),Dy=!!o_,a_=o_=null,t.current=n,oH(n),D7(),ot=s,xt=a,ii.transition=o}else t.current=n;if(xg&&(xg=!1,za=t,Yy=i),o=t.pendingLanes,o===0&&(Ja=null),$7(n.stateNode),Ir(t,on()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qy)throw Qy=!1,t=I_,I_=null,t;return Yy&1&&t.tag!==0&&pu(),o=t.pendingLanes,o&1?t===A_?gh++:(gh=0,A_=t):gh=0,ks(),null}function pu(){if(za!==null){var t=CL(Yy),e=ii.transition,n=xt;try{if(ii.transition=null,xt=16>t?16:t,za===null)var r=!1;else{if(t=za,za=null,Yy=0,ot&6)throw Error(le(331));var i=ot;for(ot|=4,xe=t.current;xe!==null;){var o=xe,a=o.child;if(xe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(xe=c;xe!==null;){var d=xe;switch(d.tag){case 0:case 11:case 15:ph(8,d,o)}var f=d.child;if(f!==null)f.return=d,xe=f;else for(;xe!==null;){d=xe;var h=d.sibling,m=d.return;if(V$(d),d===c){xe=null;break}if(h!==null){h.return=m,xe=h;break}xe=m}}}var y=o.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}xe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,xe=a;else e:for(;xe!==null;){if(o=xe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ph(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,xe=b;break e}xe=o.return}}var x=t.current;for(xe=x;xe!==null;){a=xe;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,xe=w;else e:for(a=x;xe!==null;){if(s=xe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:H0(9,s)}}catch(A){Zt(s,s.return,A)}if(s===a){xe=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,xe=S;break e}xe=s.return}}if(ot=i,ks(),ro&&typeof ro.onPostCommitFiberRoot=="function")try{ro.onPostCommitFiberRoot(L0,t)}catch{}r=!0}return r}finally{xt=n,ii.transition=e}}return!1}function Qk(t,e,n){e=Bu(n,e),e=C$(t,e,1),t=Ya(t,e,1),e=dr(),t!==null&&(im(t,1,e),Ir(t,e))}function Zt(t,e,n){if(t.tag===3)Qk(t,t,n);else for(;e!==null;){if(e.tag===3){Qk(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ja===null||!Ja.has(r))){t=Bu(n,t),t=P$(e,t,1),e=Ya(e,t,1),t=dr(),e!==null&&(im(e,1,t),Ir(e,t));break}}e=e.return}}function dH(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dr(),t.pingedLanes|=t.suspendedLanes&n,Tn===t&&(Mn&n)===n&&(pn===4||pn===3&&(Mn&130023424)===Mn&&500>on()-UT?Nl(t,0):BT|=n),Ir(t,e)}function X$(t,e){e===0&&(t.mode&1?(e=cg,cg<<=1,!(cg&130023424)&&(cg=4194304)):e=1);var n=dr();t=Wo(t,e),t!==null&&(im(t,e,n),Ir(t,n))}function fH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),X$(t,n)}function hH(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(e),X$(t,n)}var Q$;Q$=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Er.current)xr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xr=!1,eH(t,e,n);xr=!!(t.flags&131072)}else xr=!1,$t&&e.flags&1048576&&e$(e,Uy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ay(t,e),t=e.pendingProps;var i=Lu(e,tr.current);hu(e,n),i=DT(null,e,r,t,i,n);var o=MT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tr(r)?(o=!0,Fy(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kT(e),i.updater=W0,e.stateNode=i,i._reactInternals=e,m_(e,r,t,n),e=v_(null,e,r,!0,o,n)):(e.tag=0,$t&&o&&ST(e),or(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ay(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=mH(r),t=xi(r,t),i){case 0:e=y_(null,e,r,t,n);break e;case 1:e=Fk(null,e,r,t,n);break e;case 11:e=$k(null,e,r,t,n);break e;case 14:e=Vk(null,e,r,xi(r.type,t),n);break e}throw Error(le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xi(r,i),y_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xi(r,i),Fk(t,e,r,i,n);case 3:e:{if(R$(e),t===null)throw Error(le(387));r=e.pendingProps,o=e.memoizedState,i=o.element,a$(t,e),Hy(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Bu(Error(le(423)),e),e=Bk(t,e,r,n,i);break e}else if(r!==i){i=Bu(Error(le(424)),e),e=Bk(t,e,r,n,i);break e}else for(Vr=Qa(e.stateNode.containerInfo.firstChild),Br=e,$t=!0,Ii=null,n=i$(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($u(),r===i){e=Ho(t,e,n);break e}or(t,e,r,n)}e=e.child}return e;case 5:return s$(e),t===null&&f_(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,s_(r,i)?a=null:o!==null&&s_(r,o)&&(e.flags|=32),O$(t,e),or(t,e,a,n),e.child;case 6:return t===null&&f_(e),null;case 13:return j$(t,e,n);case 4:return NT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vu(e,null,r,n):or(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xi(r,i),$k(t,e,r,i,n);case 7:return or(t,e,e.pendingProps,n),e.child;case 8:return or(t,e,e.pendingProps.children,n),e.child;case 12:return or(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Pt(zy,r._currentValue),r._currentValue=a,o!==null)if(ji(o.value,a)){if(o.children===i.children&&!Er.current){e=Ho(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Mo(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),h_(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(le(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),h_(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}or(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,hu(e,n),i=si(i),r=r(i),e.flags|=1,or(t,e,r,n),e.child;case 14:return r=e.type,i=xi(r,e.pendingProps),i=xi(r.type,i),Vk(t,e,r,i,n);case 15:return k$(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xi(r,i),ay(t,e),e.tag=1,Tr(r)?(t=!0,Fy(e)):t=!1,hu(e,n),A$(e,r,i),m_(e,r,i,n),v_(null,e,r,!0,t,n);case 19:return D$(t,e,n);case 22:return N$(t,e,n)}throw Error(le(156,e.tag))};function Y$(t,e){return EL(t,e)}function pH(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(t,e,n,r){return new pH(t,e,n,r)}function qT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mH(t){if(typeof t=="function")return qT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dT)return 11;if(t===fT)return 14}return 2}function es(t,e){var n=t.alternate;return n===null?(n=ei(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cy(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")qT(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Gc:return Ol(n.children,i,o,e);case uT:a=8,i|=8;break;case V1:return t=ei(12,n,e,i|2),t.elementType=V1,t.lanes=o,t;case F1:return t=ei(13,n,e,i),t.elementType=F1,t.lanes=o,t;case B1:return t=ei(19,n,e,i),t.elementType=B1,t.lanes=o,t;case sL:return K0(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oL:a=10;break e;case aL:a=9;break e;case dT:a=11;break e;case fT:a=14;break e;case Ia:a=16,r=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=ei(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ol(t,e,n,r){return t=ei(7,t,r,e),t.lanes=n,t}function K0(t,e,n,r){return t=ei(22,t,r,e),t.elementType=sL,t.lanes=n,t.stateNode={isHidden:!1},t}function Nw(t,e,n){return t=ei(6,t,null,e),t.lanes=n,t}function Ow(t,e,n){return e=ei(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gH(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fw(0),this.expirationTimes=fw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function KT(t,e,n,r,i,o,a,s,l){return t=new gH(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ei(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kT(o),t}function yH(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function J$(t){if(!t)return hs;t=t._reactInternals;e:{if(hc(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var n=t.type;if(Tr(n))return JL(t,n,e)}return e}function Z$(t,e,n,r,i,o,a,s,l){return t=KT(n,r,!0,t,i,o,a,s,l),t.context=J$(null),n=t.current,r=dr(),i=Za(n),o=Mo(r,i),o.callback=e??null,Ya(n,o,i),t.current.lanes=i,im(t,i,r),Ir(t,r),t}function G0(t,e,n,r){var i=e.current,o=dr(),a=Za(i);return n=J$(n),e.context===null?e.context=n:e.pendingContext=n,e=Mo(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ya(i,e,a),t!==null&&(ki(t,i,a,o),ry(t,i,a)),a}function Zy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function GT(t,e){Yk(t,e),(t=t.alternate)&&Yk(t,e)}function vH(){return null}var e4=typeof reportError=="function"?reportError:function(t){console.error(t)};function XT(t){this._internalRoot=t}X0.prototype.render=XT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));G0(t,e,null,null)};X0.prototype.unmount=XT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hl(function(){G0(null,t,null,null)}),e[zo]=null}};function X0(t){this._internalRoot=t}X0.prototype.unstable_scheduleHydration=function(t){if(t){var e=NL();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pa.length&&e!==0&&e<Pa[n].priority;n++);Pa.splice(n,0,t),n===0&&RL(t)}};function QT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Q0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jk(){}function xH(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Zy(a);o.call(c)}}var a=Z$(e,r,t,0,null,!1,!1,"",Jk);return t._reactRootContainer=a,t[zo]=a.current,Lh(t.nodeType===8?t.parentNode:t),Hl(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=Zy(l);s.call(c)}}var l=KT(t,0,!1,null,null,!1,!1,"",Jk);return t._reactRootContainer=l,t[zo]=l.current,Lh(t.nodeType===8?t.parentNode:t),Hl(function(){G0(e,l,n,r)}),l}function Y0(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Zy(a);s.call(l)}}G0(e,a,t,i)}else a=xH(n,e,t,i,r);return Zy(a)}PL=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yf(e.pendingLanes);n!==0&&(mT(e,n|1),Ir(e,on()),!(ot&6)&&(Uu=on()+500,ks()))}break;case 13:Hl(function(){var r=Wo(t,1);if(r!==null){var i=dr();ki(r,t,1,i)}}),GT(t,1)}};gT=function(t){if(t.tag===13){var e=Wo(t,134217728);if(e!==null){var n=dr();ki(e,t,134217728,n)}GT(t,134217728)}};kL=function(t){if(t.tag===13){var e=Za(t),n=Wo(t,e);if(n!==null){var r=dr();ki(n,t,e,r)}GT(t,e)}};NL=function(){return xt};OL=function(t,e){var n=xt;try{return xt=t,e()}finally{xt=n}};Y1=function(t,e,n){switch(e){case"input":if(W1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=B0(r);if(!i)throw Error(le(90));cL(r),W1(r,i)}}}break;case"textarea":dL(t,n);break;case"select":e=n.value,e!=null&&cu(t,!!n.multiple,e,!1)}};vL=zT;xL=Hl;var bH={usingClientEntryPoint:!1,Events:[am,Jc,B0,gL,yL,zT]},Nf={findFiberByHostInstance:yl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wH={bundleType:Nf.bundleType,version:Nf.version,rendererPackageName:Nf.rendererPackageName,rendererConfig:Nf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_L(t),t===null?null:t.stateNode},findFiberByHostInstance:Nf.findFiberByHostInstance||vH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bg.isDisabled&&bg.supportsFiber)try{L0=bg.inject(wH),ro=bg}catch{}}Hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bH;Hr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QT(e))throw Error(le(200));return yH(t,e,null,n)};Hr.createRoot=function(t,e){if(!QT(t))throw Error(le(299));var n=!1,r="",i=e4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=KT(t,1,!1,null,null,n,!1,r,i),t[zo]=e.current,Lh(t.nodeType===8?t.parentNode:t),new XT(e)};Hr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=_L(e),t=t===null?null:t.stateNode,t};Hr.flushSync=function(t){return Hl(t)};Hr.hydrate=function(t,e,n){if(!Q0(e))throw Error(le(200));return Y0(null,t,e,!0,n)};Hr.hydrateRoot=function(t,e,n){if(!QT(t))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=e4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Z$(e,null,t,1,n??null,i,!1,o,a),t[zo]=e.current,Lh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new X0(e)};Hr.render=function(t,e,n){if(!Q0(e))throw Error(le(200));return Y0(null,t,e,!1,n)};Hr.unmountComponentAtNode=function(t){if(!Q0(t))throw Error(le(40));return t._reactRootContainer?(Hl(function(){Y0(null,null,t,!1,function(){t._reactRootContainer=null,t[zo]=null})}),!0):!1};Hr.unstable_batchedUpdates=zT;Hr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Q0(n))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return Y0(t,e,n,!1,r)};Hr.version="18.3.1-next-f1338f8080-20240426";function t4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t4)}catch(t){console.error(t)}}t4(),tL.exports=Hr;var Dd=tL.exports;const _H=St(Dd);var Zk=Dd;L1.createRoot=Zk.createRoot,L1.hydrateRoot=Zk.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qh(){return qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qh.apply(this,arguments)}var Wa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wa||(Wa={}));const e2="popstate";function SH(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return k_("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ev(i)}return TH(e,n,null,t)}function nn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function n4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EH(){return Math.random().toString(36).substr(2,8)}function t2(t,e){return{usr:t.state,key:t.key,idx:e}}function k_(t,e,n,r){return n===void 0&&(n=null),qh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Md(e):e,{state:n,key:e&&e.key||r||EH()})}function ev(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Md(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function TH(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=Wa.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(qh({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){s=Wa.Pop;let v=d(),b=v==null?null:v-c;c=v,l&&l({action:s,location:g.location,delta:b})}function h(v,b){s=Wa.Push;let x=k_(g.location,v,b);c=d()+1;let w=t2(x,c),S=g.createHref(x);try{a.pushState(w,"",S)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(S)}o&&l&&l({action:s,location:g.location,delta:1})}function m(v,b){s=Wa.Replace;let x=k_(g.location,v,b);c=d();let w=t2(x,c),S=g.createHref(x);a.replaceState(w,"",S),o&&l&&l({action:s,location:g.location,delta:0})}function y(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof v=="string"?v:ev(v);return x=x.replace(/ $/,"%20"),nn(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let g={get action(){return s},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(e2,f),l=v,()=>{i.removeEventListener(e2,f),l=null}},createHref(v){return e(i,v)},createURL:y,encodeLocation(v){let b=y(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(v){return a.go(v)}};return g}var n2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(n2||(n2={}));function IH(t,e,n){return n===void 0&&(n="/"),AH(t,e,n,!1)}function AH(t,e,n,r){let i=typeof e=="string"?Md(e):e,o=zu(i.pathname||"/",n);if(o==null)return null;let a=r4(t);CH(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let c=VH(o);s=LH(a[l],c,r)}return s}function r4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(nn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ts([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(nn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),r4(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:DH(c,o.index),routesMeta:d})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of i4(o.path))i(o,a,l)}),e}function i4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=i4(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function CH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:MH(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const PH=/^:[\w-]+$/,kH=3,NH=2,OH=1,RH=10,jH=-2,r2=t=>t==="*";function DH(t,e){let n=t.split("/"),r=n.length;return n.some(r2)&&(r+=jH),e&&(r+=NH),n.filter(i=>!r2(i)).reduce((i,o)=>i+(PH.test(o)?kH:o===""?OH:RH),r)}function MH(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function LH(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=tv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=tv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:ts([o,f.pathname]),pathnameBase:zH(ts([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=ts([o,f.pathnameBase]))}return a}function tv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$H(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=s[f]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const y=s[f];return m&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:a,pattern:t}}function $H(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),n4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function VH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return n4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function FH(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Md(t):t;return{pathname:n?n.startsWith("/")?n:BH(n,e):e,search:WH(r),hash:HH(i)}}function BH(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Rw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UH(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function o4(t,e){let n=UH(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function a4(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Md(t):(i=qh({},t),nn(!i.pathname||!i.pathname.includes("?"),Rw("?","pathname","search",i)),nn(!i.pathname||!i.pathname.includes("#"),Rw("#","pathname","hash",i)),nn(!i.search||!i.search.includes("#"),Rw("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=FH(i,s),c=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ts=t=>t.join("/").replace(/\/\/+/g,"/"),zH=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WH=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HH=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qH(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const s4=["post","put","patch","delete"];new Set(s4);const KH=["get",...s4];new Set(KH);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(this,arguments)}const J0=_.createContext(null),l4=_.createContext(null),Ns=_.createContext(null),Z0=_.createContext(null),sa=_.createContext({outlet:null,matches:[],isDataRoute:!1}),c4=_.createContext(null);function GH(t,e){let{relative:n}=e===void 0?{}:e;lm()||nn(!1);let{basename:r,navigator:i}=_.useContext(Ns),{hash:o,pathname:a,search:s}=ex(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:ts([r,a])),i.createHref({pathname:l,search:s,hash:o})}function lm(){return _.useContext(Z0)!=null}function pc(){return lm()||nn(!1),_.useContext(Z0).location}function u4(t){_.useContext(Ns).static||_.useLayoutEffect(t)}function nr(){let{isDataRoute:t}=_.useContext(sa);return t?cq():XH()}function XH(){lm()||nn(!1);let t=_.useContext(J0),{basename:e,future:n,navigator:r}=_.useContext(Ns),{matches:i}=_.useContext(sa),{pathname:o}=pc(),a=JSON.stringify(o4(i,n.v7_relativeSplatPath)),s=_.useRef(!1);return u4(()=>{s.current=!0}),_.useCallback(function(c,d){if(d===void 0&&(d={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=a4(c,JSON.parse(a),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ts([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,o,t])}const QH=_.createContext(null);function YH(t){let e=_.useContext(sa).outlet;return e&&_.createElement(QH.Provider,{value:t},e)}function d4(){let{matches:t}=_.useContext(sa),e=t[t.length-1];return e?e.params:{}}function ex(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(Ns),{matches:i}=_.useContext(sa),{pathname:o}=pc(),a=JSON.stringify(o4(i,r.v7_relativeSplatPath));return _.useMemo(()=>a4(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function JH(t,e){return ZH(t,e)}function ZH(t,e,n,r){lm()||nn(!1);let{navigator:i}=_.useContext(Ns),{matches:o}=_.useContext(sa),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=pc(),d;if(e){var f;let v=typeof e=="string"?Md(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||nn(!1),d=v}else d=c;let h=d.pathname||"/",m=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=IH(t,{pathname:m}),g=iq(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:ts([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:ts([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&g?_.createElement(Z0.Provider,{value:{location:Kh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Wa.Pop}},g):g}function eq(){let t=lq(),e=qH(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,null)}const tq=_.createElement(eq,null);class nq extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(sa.Provider,{value:this.props.routeContext},_.createElement(c4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rq(t){let{routeContext:e,match:n,children:r}=t,i=_.useContext(J0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(sa.Provider,{value:e},r)}function iq(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let d=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||nn(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let m,y=!1,g=null,v=null;n&&(m=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||tq,l&&(c<0&&h===0?(y=!0,v=null):c===h&&(y=!0,v=f.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,h+1)),x=()=>{let w;return m?w=g:y?w=v:f.route.Component?w=_.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,_.createElement(rq,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?_.createElement(nq,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var f4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(f4||{}),nv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(nv||{});function oq(t){let e=_.useContext(J0);return e||nn(!1),e}function aq(t){let e=_.useContext(l4);return e||nn(!1),e}function sq(t){let e=_.useContext(sa);return e||nn(!1),e}function h4(t){let e=sq(),n=e.matches[e.matches.length-1];return n.route.id||nn(!1),n.route.id}function lq(){var t;let e=_.useContext(c4),n=aq(nv.UseRouteError),r=h4(nv.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function cq(){let{router:t}=oq(f4.UseNavigateStable),e=h4(nv.UseNavigateStable),n=_.useRef(!1);return u4(()=>{n.current=!0}),_.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Kh({fromRouteId:e},o)))},[t,e])}function uq(t){return YH(t.context)}function an(t){nn(!1)}function dq(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Wa.Pop,navigator:o,static:a=!1,future:s}=t;lm()&&nn(!1);let l=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:o,static:a,future:Kh({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Md(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:y="default"}=r,g=_.useMemo(()=>{let v=zu(d,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:y},navigationType:i}},[l,d,f,h,m,y,i]);return g==null?null:_.createElement(Ns.Provider,{value:c},_.createElement(Z0.Provider,{children:n,value:g}))}function fq(t){let{children:e,location:n}=t;return JH(N_(e),n)}new Promise(()=>{});function N_(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let o=[...e,i];if(r.type===_.Fragment){n.push.apply(n,N_(r.props.children,o));return}r.type!==an&&nn(!1),!r.props.index||!r.props.children||nn(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=N_(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(this,arguments)}function p4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pq(t,e){return t.button===0&&(!e||e==="_self")&&!hq(t)}const mq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],gq=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],yq="6";try{window.__reactRouterVersion=yq}catch{}const vq=_.createContext({isTransitioning:!1}),xq="startTransition",i2=ZM[xq];function bq(t){let{basename:e,children:n,future:r,window:i}=t,o=_.useRef();o.current==null&&(o.current=SH({window:i,v5Compat:!0}));let a=o.current,[s,l]=_.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},d=_.useCallback(f=>{c&&i2?i2(()=>l(f)):l(f)},[l,c]);return _.useLayoutEffect(()=>a.listen(d),[a,d]),_.createElement(dq,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const wq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_q=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cm=_.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,h=p4(e,mq),{basename:m}=_.useContext(Ns),y,g=!1;if(typeof c=="string"&&_q.test(c)&&(y=c,wq))try{let w=new URL(window.location.href),S=c.startsWith("//")?new URL(w.protocol+c):new URL(c),A=zu(S.pathname,m);S.origin===w.origin&&A!=null?c=A+S.search+S.hash:g=!0}catch{}let v=GH(c,{relative:i}),b=Eq(c,{replace:a,state:s,target:l,preventScrollReset:d,relative:i,viewTransition:f});function x(w){r&&r(w),w.defaultPrevented||b(w)}return _.createElement("a",rv({},h,{href:y||v,onClick:g||o?r:x,ref:n,target:l}))}),Kr=_.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:a=!1,style:s,to:l,viewTransition:c,children:d}=e,f=p4(e,gq),h=ex(l,{relative:f.relative}),m=pc(),y=_.useContext(l4),{navigator:g,basename:v}=_.useContext(Ns),b=y!=null&&Tq(h)&&c===!0,x=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,w=m.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(w=w.toLowerCase(),S=S?S.toLowerCase():null,x=x.toLowerCase()),S&&v&&(S=zu(S,v)||S);const A=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let C=w===x||!a&&w.startsWith(x)&&w.charAt(A)==="/",T=S!=null&&(S===x||!a&&S.startsWith(x)&&S.charAt(x.length)==="/"),E={isActive:C,isPending:T,isTransitioning:b},N=C?r:void 0,P;typeof o=="function"?P=o(E):P=[o,C?"active":null,T?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(E):s;return _.createElement(cm,rv({},f,{"aria-current":N,className:P,ref:n,style:R,to:l,viewTransition:c}),typeof d=="function"?d(E):d)});var O_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(O_||(O_={}));var o2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(o2||(o2={}));function Sq(t){let e=_.useContext(J0);return e||nn(!1),e}function Eq(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,l=nr(),c=pc(),d=ex(t,{relative:a});return _.useCallback(f=>{if(pq(f,n)){f.preventDefault();let h=r!==void 0?r:ev(c)===ev(d);l(t,{replace:h,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[c,l,d,r,i,n,t,o,a,s])}function Tq(t,e){e===void 0&&(e={});let n=_.useContext(vq);n==null&&nn(!1);let{basename:r}=Sq(O_.useViewTransitionState),i=ex(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=zu(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=zu(n.nextLocation.pathname,r)||n.nextLocation.pathname;return tv(i.pathname,a)!=null||tv(i.pathname,o)!=null}function m4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=m4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function st(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=m4(t))&&(r&&(r+=" "),r+=e);return r}const YT="-",Iq=t=>{const e=Cq(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const s=a.split(YT);return s[0]===""&&s.length!==1&&s.shift(),g4(s,e)||Aq(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},g4=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?g4(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(YT);return(a=e.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId},a2=/^\[(.+)\]$/,Aq=t=>{if(a2.test(t)){const e=a2.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Cq=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return kq(Object.entries(t.classGroups),n).forEach(([o,a])=>{R_(a,r,o,e)}),r},R_=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:s2(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(Pq(i)){R_(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{R_(a,s2(e,o),n,r)})})},s2=(t,e)=>{let n=t;return e.split(YT).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Pq=t=>t.isThemeGetter,kq=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[e+a,s])):o);return[n,i]}):t,Nq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},y4="!",Oq=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,a=s=>{const l=[];let c=0,d=0,f;for(let v=0;v<s.length;v++){let b=s[v];if(c===0){if(b===i&&(r||s.slice(v,v+o)===e)){l.push(s.slice(d,v)),d=v+o;continue}if(b==="/"){f=v;continue}}b==="["?c++:b==="]"&&c--}const h=l.length===0?s:s.substring(d),m=h.startsWith(y4),y=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:g}};return n?s=>n({className:s,parseClassName:a}):a},Rq=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},jq=t=>({cache:Nq(t.cacheSize),parseClassName:Oq(t),...Iq(t)}),Dq=/\s+/,Mq=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],a=t.trim().split(Dq);let s="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(c);let y=!!m,g=r(y?h.substring(0,m):h);if(!g){if(!y){s=c+(s.length>0?" "+s:s);continue}if(g=r(h),!g){s=c+(s.length>0?" "+s:s);continue}y=!1}const v=Rq(d).join(":"),b=f?v+y4:v,x=b+g;if(o.includes(x))continue;o.push(x);const w=i(g,y);for(let S=0;S<w.length;++S){const A=w[S];o.push(b+A)}s=c+(s.length>0?" "+s:s)}return s};function Lq(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=v4(e))&&(r&&(r+=" "),r+=n);return r}const v4=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=v4(t[r]))&&(n&&(n+=" "),n+=e);return n};function $q(t,...e){let n,r,i,o=a;function a(l){const c=e.reduce((d,f)=>f(d),t());return n=jq(c),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const c=r(l);if(c)return c;const d=Mq(l,n);return i(l,d),d}return function(){return o(Lq.apply(null,arguments))}}const Nt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},x4=/^\[(?:([a-z-]+):)?(.+)\]$/i,Vq=/^\d+\/\d+$/,Fq=new Set(["px","full","screen"]),Bq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Uq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Wq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Hq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wo=t=>mu(t)||Fq.has(t)||Vq.test(t),va=t=>Ld(t,"length",Zq),mu=t=>!!t&&!Number.isNaN(Number(t)),jw=t=>Ld(t,"number",mu),Of=t=>!!t&&Number.isInteger(Number(t)),qq=t=>t.endsWith("%")&&mu(t.slice(0,-1)),We=t=>x4.test(t),xa=t=>Bq.test(t),Kq=new Set(["length","size","percentage"]),Gq=t=>Ld(t,Kq,b4),Xq=t=>Ld(t,"position",b4),Qq=new Set(["image","url"]),Yq=t=>Ld(t,Qq,tK),Jq=t=>Ld(t,"",eK),Rf=()=>!0,Ld=(t,e,n)=>{const r=x4.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Zq=t=>Uq.test(t)&&!zq.test(t),b4=()=>!1,eK=t=>Wq.test(t),tK=t=>Hq.test(t),nK=()=>{const t=Nt("colors"),e=Nt("spacing"),n=Nt("blur"),r=Nt("brightness"),i=Nt("borderColor"),o=Nt("borderRadius"),a=Nt("borderSpacing"),s=Nt("borderWidth"),l=Nt("contrast"),c=Nt("grayscale"),d=Nt("hueRotate"),f=Nt("invert"),h=Nt("gap"),m=Nt("gradientColorStops"),y=Nt("gradientColorStopPositions"),g=Nt("inset"),v=Nt("margin"),b=Nt("opacity"),x=Nt("padding"),w=Nt("saturate"),S=Nt("scale"),A=Nt("sepia"),C=Nt("skew"),T=Nt("space"),E=Nt("translate"),N=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",We,e],O=()=>[We,e],j=()=>["",wo,va],$=()=>["auto",mu,We],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",We],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[mu,We];return{cacheSize:500,separator:":",theme:{colors:[Rf],spacing:[wo,va],blur:["none","",xa,We],brightness:ee(),borderColor:[t],borderRadius:["none","","full",xa,We],borderSpacing:O(),borderWidth:j(),contrast:ee(),grayscale:K(),hueRotate:ee(),invert:K(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[qq,va],inset:R(),margin:R(),opacity:ee(),padding:O(),saturate:ee(),scale:ee(),sepia:K(),skew:ee(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",We]}],container:["container"],columns:[{columns:[xa]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),We]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Of,We]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",We]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",Of,We]}],"grid-cols":[{"grid-cols":[Rf]}],"col-start-end":[{col:["auto",{span:["full",Of,We]},We]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Rf]}],"row-start-end":[{row:["auto",{span:[Of,We]},We]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",We]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",We]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",We,e]}],"min-w":[{"min-w":[We,e,"min","max","fit"]}],"max-w":[{"max-w":[We,e,"none","full","min","max","fit","prose",{screen:[xa]},xa]}],h:[{h:[We,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[We,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[We,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[We,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xa,va]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jw]}],"font-family":[{font:[Rf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",We]}],"line-clamp":[{"line-clamp":["none",mu,jw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wo,We]}],"list-image":[{"list-image":["none",We]}],"list-style-type":[{list:["none","disc","decimal",We]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wo,va]}],"underline-offset":[{"underline-offset":["auto",wo,We]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),Xq]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Gq]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Yq]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[wo,We]}],"outline-w":[{outline:[wo,va]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[wo,va]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xa,Jq]}],"shadow-color":[{shadow:[Rf]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",xa,We]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",We]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",We]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",We]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Of,We]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",We]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[wo,va,jw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rK=$q(nK);function we(...t){return rK(st(t))}function iK(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function w4(...t){return e=>t.forEach(n=>iK(n,e))}function At(...t){return _.useCallback(w4(...t),t)}var ql=_.forwardRef((t,e)=>{const{children:n,...r}=t,i=_.Children.toArray(n),o=i.find(oK);if(o){const a=o.props.children,s=i.map(l=>l===o?_.Children.count(a)>1?_.Children.only(null):_.isValidElement(a)?a.props.children:null:l);return u.jsx(j_,{...r,ref:e,children:_.isValidElement(a)?_.cloneElement(a,void 0,s):null})}return u.jsx(j_,{...r,ref:e,children:n})});ql.displayName="Slot";var j_=_.forwardRef((t,e)=>{const{children:n,...r}=t;if(_.isValidElement(n)){const i=sK(n);return _.cloneElement(n,{...aK(r,n.props),ref:e?w4(e,i):i})}return _.Children.count(n)>1?_.Children.only(null):null});j_.displayName="SlotClone";var _4=({children:t})=>u.jsx(u.Fragment,{children:t});function oK(t){return _.isValidElement(t)&&t.type===_4}function aK(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{o(...s),i(...s)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function sK(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const l2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,c2=st,JT=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return c2(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=o==null?void 0:o[c];if(d===null)return null;const h=l2(d)||l2(f);return i[c][h]}),s=n&&Object.entries(n).reduce((c,d)=>{let[f,h]=d;return h===void 0||(c[f]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...o,...s}[g]):{...o,...s}[g]===v})?[...c,f,h]:c},[]);return c2(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)},S4=JT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const a=r?ql:"button";return u.jsx(a,{className:we(S4({variant:e,size:n,className:t})),ref:o,...i})});ie.displayName="Button";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),E4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>_.createElement("svg",{ref:l,...cK,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:E4("lucide",i),...s},[...a.map(([c,d])=>_.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const n=_.forwardRef(({className:r,...i},o)=>_.createElement(uK,{ref:o,iconNode:e,className:E4(`lucide-${lK(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=Ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=Ee("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=Ee("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=Ee("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=Ee("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=Ee("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=Ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=Ee("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=Ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=Ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=Ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=Ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=Ee("FileChartColumnIncreasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=Ee("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=Ee("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=Ee("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=Ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=Ee("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=Ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=Ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=Ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=Ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=Ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=Ee("MoonStar",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9",key:"4ay0iu"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=Ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=Ee("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=Ee("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Ee("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=Ee("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=Ee("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=Ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=Ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=Ee("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=Ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=Ee("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=Ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=Ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=Ee("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=Ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var m2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$K=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},V4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|s>>4;let h=(s&15)<<2|c>>6,m=c&63;l||(m=64,a||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$K(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||c==null||f==null)throw new VK;const h=o<<2|s>>4;if(r.push(h),c!==64){const m=s<<4&240|c>>2;if(r.push(m),f!==64){const y=c<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FK=function(t){const e=$4(t);return V4.encodeByteArray(e,!0)},F4=function(t){return FK(t).replace(/\./g,"")},B4=function(t){try{return V4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UK=()=>BK().__FIREBASE_DEFAULTS__,zK=()=>{if(typeof process>"u"||typeof m2>"u")return;const t=m2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WK=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&B4(t[1]);return e&&JSON.parse(e)},sx=()=>{try{return UK()||zK()||WK()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HK=t=>{var e,n;return(n=(e=sx())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},U4=()=>{var t;return(t=sx())===null||t===void 0?void 0:t.config},z4=t=>{var e;return(e=sx())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function GK(){var t;const e=(t=sx())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XK(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QK(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YK(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JK(){const t=gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function W4(){return!GK()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H4(){try{return typeof indexedDB=="object"}catch{return!1}}function ZK(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eG="FirebaseError";class go extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eG,Object.setPrototypeOf(this,go.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,um.prototype.create)}}class um{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?tG(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new go(i,s,r)}}function tG(t,e){return t.replace(nG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nG=/\{\$([^}]+)}/g;function rG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(g2(o)&&g2(a)){if(!Xh(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function g2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function eh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iG(t,e){const n=new oG(t,e);return n.subscribe.bind(n)}class oG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Mw),i.error===void 0&&(i.error=Mw),i.complete===void 0&&(i.complete=Mw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t){return t&&t._delegate?t._delegate:t}class Kl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sG=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qK;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cG(e))try{this.getOrInitializeService({instanceIdentifier:ol})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ol){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ol){return this.instances.has(e)}getOptions(e=ol){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ol){return this.component?this.component.multipleInstances?e:ol:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function lG(t){return t===ol?void 0:t}function cG(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ze||(Ze={}));const dG={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},fG=Ze.INFO,hG={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},pG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nI{constructor(e){this.name=e,this._logLevel=fG,this._logHandler=pG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const mG=(t,e)=>e.some(n=>t instanceof n);let y2,v2;function gG(){return y2||(y2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yG(){return v2||(v2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const q4=new WeakMap,$_=new WeakMap,K4=new WeakMap,Lw=new WeakMap,rI=new WeakMap;function vG(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(ns(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&q4.set(n,t)}).catch(()=>{}),rI.set(e,t),e}function xG(t){if($_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});$_.set(t,e)}let V_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||K4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bG(t){V_=t(V_)}function wG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($w(this),e,...n);return K4.set(r,e.sort?e.sort():[e]),ns(r)}:yG().includes(t)?function(...e){return t.apply($w(this),e),ns(q4.get(this))}:function(...e){return ns(t.apply($w(this),e))}}function _G(t){return typeof t=="function"?wG(t):(t instanceof IDBTransaction&&xG(t),mG(t,gG())?new Proxy(t,V_):t)}function ns(t){if(t instanceof IDBRequest)return vG(t);if(Lw.has(t))return Lw.get(t);const e=_G(t);return e!==t&&(Lw.set(t,e),rI.set(e,t)),e}const $w=t=>rI.get(t);function SG(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=ns(a);return r&&a.addEventListener("upgradeneeded",l=>{r(ns(a.result),l.oldVersion,l.newVersion,ns(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),s}const EG=["get","getKey","getAll","getAllKeys","count"],TG=["put","add","delete","clear"],Vw=new Map;function x2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vw.get(e))return Vw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=TG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EG.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(s.shift())),(await Promise.all([c[n](...s),i&&l.done]))[0]};return Vw.set(e,o),o}bG(t=>({...t,get:(e,n,r)=>x2(e,n)||t.get(e,n,r),has:(e,n)=>!!x2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AG(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const F_="@firebase/app",b2="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new nI("@firebase/app"),CG="@firebase/app-compat",PG="@firebase/analytics-compat",kG="@firebase/analytics",NG="@firebase/app-check-compat",OG="@firebase/app-check",RG="@firebase/auth",jG="@firebase/auth-compat",DG="@firebase/database",MG="@firebase/data-connect",LG="@firebase/database-compat",$G="@firebase/functions",VG="@firebase/functions-compat",FG="@firebase/installations",BG="@firebase/installations-compat",UG="@firebase/messaging",zG="@firebase/messaging-compat",WG="@firebase/performance",HG="@firebase/performance-compat",qG="@firebase/remote-config",KG="@firebase/remote-config-compat",GG="@firebase/storage",XG="@firebase/storage-compat",QG="@firebase/firestore",YG="@firebase/vertexai",JG="@firebase/firestore-compat",ZG="firebase",eX="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="[DEFAULT]",tX={[F_]:"fire-core",[CG]:"fire-core-compat",[kG]:"fire-analytics",[PG]:"fire-analytics-compat",[OG]:"fire-app-check",[NG]:"fire-app-check-compat",[RG]:"fire-auth",[jG]:"fire-auth-compat",[DG]:"fire-rtdb",[MG]:"fire-data-connect",[LG]:"fire-rtdb-compat",[$G]:"fire-fn",[VG]:"fire-fn-compat",[FG]:"fire-iid",[BG]:"fire-iid-compat",[UG]:"fire-fcm",[zG]:"fire-fcm-compat",[WG]:"fire-perf",[HG]:"fire-perf-compat",[qG]:"fire-rc",[KG]:"fire-rc-compat",[GG]:"fire-gcs",[XG]:"fire-gcs-compat",[QG]:"fire-fst",[JG]:"fire-fst-compat",[YG]:"fire-vertex","fire-js":"fire-js",[ZG]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=new Map,nX=new Map,U_=new Map;function w2(t,e){try{t.container.addComponent(e)}catch(n){qo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wu(t){const e=t.name;if(U_.has(e))return qo.debug(`There were multiple attempts to register component ${e}.`),!1;U_.set(e,t);for(const n of av.values())w2(n,t);for(const n of nX.values())w2(n,t);return!0}function iI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Lr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new um("app","Firebase",rX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=eX;function G4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:B_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw rs.create("bad-app-name",{appName:String(i)});if(n||(n=U4()),!n)throw rs.create("no-options");const o=av.get(i);if(o){if(Xh(n,o.options)&&Xh(r,o.config))return o;throw rs.create("duplicate-app",{appName:i})}const a=new uG(i);for(const l of U_.values())a.addComponent(l);const s=new iX(n,r,a);return av.set(i,s),s}function oX(t=B_){const e=av.get(t);if(!e&&t===B_&&U4())return G4();if(!e)throw rs.create("no-app",{appName:t});return e}function is(t,e,n){var r;let i=(r=tX[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qo.warn(s.join(" "));return}Wu(new Kl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aX="firebase-heartbeat-database",sX=1,Qh="firebase-heartbeat-store";let Fw=null;function X4(){return Fw||(Fw=SG(aX,sX,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qh)}catch(n){console.warn(n)}}}}).catch(t=>{throw rs.create("idb-open",{originalErrorMessage:t.message})})),Fw}async function lX(t){try{const n=(await X4()).transaction(Qh),r=await n.objectStore(Qh).get(Q4(t));return await n.done,r}catch(e){if(e instanceof go)qo.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qo.warn(n.message)}}}async function _2(t,e){try{const r=(await X4()).transaction(Qh,"readwrite");await r.objectStore(Qh).put(e,Q4(t)),await r.done}catch(n){if(n instanceof go)qo.warn(n.message);else{const r=rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qo.warn(r.message)}}}function Q4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cX=1024,uX=30;class dX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=S2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>uX){const a=pX(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=S2(),{heartbeatsToSend:r,unsentEntries:i}=fX(this._heartbeatsCache.heartbeats),o=F4(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return qo.warn(n),""}}}function S2(){return new Date().toISOString().substring(0,10)}function fX(t,e=cX){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),E2(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),E2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H4()?ZK().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lX(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function E2(t){return F4(JSON.stringify({version:2,heartbeats:t})).length}function pX(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mX(t){Wu(new Kl("platform-logger",e=>new IG(e),"PRIVATE")),Wu(new Kl("heartbeat",e=>new dX(e),"PRIVATE")),is(F_,b2,t),is(F_,b2,"esm2017"),is("fire-js","")}mX("");var gX="firebase",yX="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */is(gX,yX,"app");const Nn=[];for(let t=0;t<256;++t)Nn.push((t+256).toString(16).slice(1));function vX(t,e=0){return(Nn[t[e+0]]+Nn[t[e+1]]+Nn[t[e+2]]+Nn[t[e+3]]+"-"+Nn[t[e+4]]+Nn[t[e+5]]+"-"+Nn[t[e+6]]+Nn[t[e+7]]+"-"+Nn[t[e+8]]+Nn[t[e+9]]+"-"+Nn[t[e+10]]+Nn[t[e+11]]+Nn[t[e+12]]+Nn[t[e+13]]+Nn[t[e+14]]+Nn[t[e+15]]).toLowerCase()}let Bw;const xX=new Uint8Array(16);function bX(){if(!Bw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Bw=crypto.getRandomValues.bind(crypto)}return Bw(xX)}const wX=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),T2={randomUUID:wX};function Vd(t,e,n){var i;if(T2.randomUUID&&!e&&!t)return T2.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??bX();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,vX(r)}var I2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var os,Y4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function N(){}N.prototype=E.prototype,T.D=E.prototype,T.prototype=new N,T.prototype.constructor=T,T.C=function(P,R,O){for(var j=Array(arguments.length-2),$=2;$<arguments.length;$++)j[$-2]=arguments[$];return E.prototype[R].apply(P,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,E,N){N||(N=0);var P=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)P[R]=E.charCodeAt(N++)|E.charCodeAt(N++)<<8|E.charCodeAt(N++)<<16|E.charCodeAt(N++)<<24;else for(R=0;16>R;++R)P[R]=E[N++]|E[N++]<<8|E[N++]<<16|E[N++]<<24;E=T.g[0],N=T.g[1],R=T.g[2];var O=T.g[3],j=E+(O^N&(R^O))+P[0]+3614090360&4294967295;E=N+(j<<7&4294967295|j>>>25),j=O+(R^E&(N^R))+P[1]+3905402710&4294967295,O=E+(j<<12&4294967295|j>>>20),j=R+(N^O&(E^N))+P[2]+606105819&4294967295,R=O+(j<<17&4294967295|j>>>15),j=N+(E^R&(O^E))+P[3]+3250441966&4294967295,N=R+(j<<22&4294967295|j>>>10),j=E+(O^N&(R^O))+P[4]+4118548399&4294967295,E=N+(j<<7&4294967295|j>>>25),j=O+(R^E&(N^R))+P[5]+1200080426&4294967295,O=E+(j<<12&4294967295|j>>>20),j=R+(N^O&(E^N))+P[6]+2821735955&4294967295,R=O+(j<<17&4294967295|j>>>15),j=N+(E^R&(O^E))+P[7]+4249261313&4294967295,N=R+(j<<22&4294967295|j>>>10),j=E+(O^N&(R^O))+P[8]+1770035416&4294967295,E=N+(j<<7&4294967295|j>>>25),j=O+(R^E&(N^R))+P[9]+2336552879&4294967295,O=E+(j<<12&4294967295|j>>>20),j=R+(N^O&(E^N))+P[10]+4294925233&4294967295,R=O+(j<<17&4294967295|j>>>15),j=N+(E^R&(O^E))+P[11]+2304563134&4294967295,N=R+(j<<22&4294967295|j>>>10),j=E+(O^N&(R^O))+P[12]+1804603682&4294967295,E=N+(j<<7&4294967295|j>>>25),j=O+(R^E&(N^R))+P[13]+4254626195&4294967295,O=E+(j<<12&4294967295|j>>>20),j=R+(N^O&(E^N))+P[14]+2792965006&4294967295,R=O+(j<<17&4294967295|j>>>15),j=N+(E^R&(O^E))+P[15]+1236535329&4294967295,N=R+(j<<22&4294967295|j>>>10),j=E+(R^O&(N^R))+P[1]+4129170786&4294967295,E=N+(j<<5&4294967295|j>>>27),j=O+(N^R&(E^N))+P[6]+3225465664&4294967295,O=E+(j<<9&4294967295|j>>>23),j=R+(E^N&(O^E))+P[11]+643717713&4294967295,R=O+(j<<14&4294967295|j>>>18),j=N+(O^E&(R^O))+P[0]+3921069994&4294967295,N=R+(j<<20&4294967295|j>>>12),j=E+(R^O&(N^R))+P[5]+3593408605&4294967295,E=N+(j<<5&4294967295|j>>>27),j=O+(N^R&(E^N))+P[10]+38016083&4294967295,O=E+(j<<9&4294967295|j>>>23),j=R+(E^N&(O^E))+P[15]+3634488961&4294967295,R=O+(j<<14&4294967295|j>>>18),j=N+(O^E&(R^O))+P[4]+3889429448&4294967295,N=R+(j<<20&4294967295|j>>>12),j=E+(R^O&(N^R))+P[9]+568446438&4294967295,E=N+(j<<5&4294967295|j>>>27),j=O+(N^R&(E^N))+P[14]+3275163606&4294967295,O=E+(j<<9&4294967295|j>>>23),j=R+(E^N&(O^E))+P[3]+4107603335&4294967295,R=O+(j<<14&4294967295|j>>>18),j=N+(O^E&(R^O))+P[8]+1163531501&4294967295,N=R+(j<<20&4294967295|j>>>12),j=E+(R^O&(N^R))+P[13]+2850285829&4294967295,E=N+(j<<5&4294967295|j>>>27),j=O+(N^R&(E^N))+P[2]+4243563512&4294967295,O=E+(j<<9&4294967295|j>>>23),j=R+(E^N&(O^E))+P[7]+1735328473&4294967295,R=O+(j<<14&4294967295|j>>>18),j=N+(O^E&(R^O))+P[12]+2368359562&4294967295,N=R+(j<<20&4294967295|j>>>12),j=E+(N^R^O)+P[5]+4294588738&4294967295,E=N+(j<<4&4294967295|j>>>28),j=O+(E^N^R)+P[8]+2272392833&4294967295,O=E+(j<<11&4294967295|j>>>21),j=R+(O^E^N)+P[11]+1839030562&4294967295,R=O+(j<<16&4294967295|j>>>16),j=N+(R^O^E)+P[14]+4259657740&4294967295,N=R+(j<<23&4294967295|j>>>9),j=E+(N^R^O)+P[1]+2763975236&4294967295,E=N+(j<<4&4294967295|j>>>28),j=O+(E^N^R)+P[4]+1272893353&4294967295,O=E+(j<<11&4294967295|j>>>21),j=R+(O^E^N)+P[7]+4139469664&4294967295,R=O+(j<<16&4294967295|j>>>16),j=N+(R^O^E)+P[10]+3200236656&4294967295,N=R+(j<<23&4294967295|j>>>9),j=E+(N^R^O)+P[13]+681279174&4294967295,E=N+(j<<4&4294967295|j>>>28),j=O+(E^N^R)+P[0]+3936430074&4294967295,O=E+(j<<11&4294967295|j>>>21),j=R+(O^E^N)+P[3]+3572445317&4294967295,R=O+(j<<16&4294967295|j>>>16),j=N+(R^O^E)+P[6]+76029189&4294967295,N=R+(j<<23&4294967295|j>>>9),j=E+(N^R^O)+P[9]+3654602809&4294967295,E=N+(j<<4&4294967295|j>>>28),j=O+(E^N^R)+P[12]+3873151461&4294967295,O=E+(j<<11&4294967295|j>>>21),j=R+(O^E^N)+P[15]+530742520&4294967295,R=O+(j<<16&4294967295|j>>>16),j=N+(R^O^E)+P[2]+3299628645&4294967295,N=R+(j<<23&4294967295|j>>>9),j=E+(R^(N|~O))+P[0]+4096336452&4294967295,E=N+(j<<6&4294967295|j>>>26),j=O+(N^(E|~R))+P[7]+1126891415&4294967295,O=E+(j<<10&4294967295|j>>>22),j=R+(E^(O|~N))+P[14]+2878612391&4294967295,R=O+(j<<15&4294967295|j>>>17),j=N+(O^(R|~E))+P[5]+4237533241&4294967295,N=R+(j<<21&4294967295|j>>>11),j=E+(R^(N|~O))+P[12]+1700485571&4294967295,E=N+(j<<6&4294967295|j>>>26),j=O+(N^(E|~R))+P[3]+2399980690&4294967295,O=E+(j<<10&4294967295|j>>>22),j=R+(E^(O|~N))+P[10]+4293915773&4294967295,R=O+(j<<15&4294967295|j>>>17),j=N+(O^(R|~E))+P[1]+2240044497&4294967295,N=R+(j<<21&4294967295|j>>>11),j=E+(R^(N|~O))+P[8]+1873313359&4294967295,E=N+(j<<6&4294967295|j>>>26),j=O+(N^(E|~R))+P[15]+4264355552&4294967295,O=E+(j<<10&4294967295|j>>>22),j=R+(E^(O|~N))+P[6]+2734768916&4294967295,R=O+(j<<15&4294967295|j>>>17),j=N+(O^(R|~E))+P[13]+1309151649&4294967295,N=R+(j<<21&4294967295|j>>>11),j=E+(R^(N|~O))+P[4]+4149444226&4294967295,E=N+(j<<6&4294967295|j>>>26),j=O+(N^(E|~R))+P[11]+3174756917&4294967295,O=E+(j<<10&4294967295|j>>>22),j=R+(E^(O|~N))+P[2]+718787259&4294967295,R=O+(j<<15&4294967295|j>>>17),j=N+(O^(R|~E))+P[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(R+(j<<21&4294967295|j>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+O&4294967295}r.prototype.u=function(T,E){E===void 0&&(E=T.length);for(var N=E-this.blockSize,P=this.B,R=this.h,O=0;O<E;){if(R==0)for(;O<=N;)i(this,T,O),O+=this.blockSize;if(typeof T=="string"){for(;O<E;)if(P[R++]=T.charCodeAt(O++),R==this.blockSize){i(this,P),R=0;break}}else for(;O<E;)if(P[R++]=T[O++],R==this.blockSize){i(this,P),R=0;break}}this.h=R,this.o+=E},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;var N=8*this.o;for(E=T.length-8;E<T.length;++E)T[E]=N&255,N/=256;for(this.u(T),T=Array(16),E=N=0;4>E;++E)for(var P=0;32>P;P+=8)T[N++]=this.g[E]>>>P&255;return T};function o(T,E){var N=s;return Object.prototype.hasOwnProperty.call(N,T)?N[T]:N[T]=E(T)}function a(T,E){this.h=E;for(var N=[],P=!0,R=T.length-1;0<=R;R--){var O=T[R]|0;P&&O==E||(N[R]=O,P=!1)}this.g=N}var s={};function l(T){return-128<=T&&128>T?o(T,function(E){return new a([E|0],0>E?-1:0)}):new a([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return v(c(-T));for(var E=[],N=1,P=0;T>=N;P++)E[P]=T/N|0,N*=4294967296;return new a(E,0)}function d(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return v(d(T.substring(1),E));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=c(Math.pow(E,8)),P=f,R=0;R<T.length;R+=8){var O=Math.min(8,T.length-R),j=parseInt(T.substring(R,R+O),E);8>O?(O=c(Math.pow(E,O)),P=P.j(O).add(c(j))):(P=P.j(N),P=P.add(c(j)))}return P}var f=l(0),h=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-v(this).m();for(var T=0,E=1,N=0;N<this.g.length;N++){var P=this.i(N);T+=(0<=P?P:4294967296+P)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(y(this))return"0";if(g(this))return"-"+v(this).toString(T);for(var E=c(Math.pow(T,6)),N=this,P="";;){var R=S(N,E).g;N=b(N,R.j(E));var O=((0<N.g.length?N.g[0]:N.h)>>>0).toString(T);if(N=R,y(N))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function y(T){if(T.h!=0)return!1;for(var E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function g(T){return T.h==-1}t.l=function(T){return T=b(this,T),g(T)?-1:y(T)?0:1};function v(T){for(var E=T.g.length,N=[],P=0;P<E;P++)N[P]=~T.g[P];return new a(N,~T.h).add(h)}t.abs=function(){return g(this)?v(this):this},t.add=function(T){for(var E=Math.max(this.g.length,T.g.length),N=[],P=0,R=0;R<=E;R++){var O=P+(this.i(R)&65535)+(T.i(R)&65535),j=(O>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);P=j>>>16,O&=65535,j&=65535,N[R]=j<<16|O}return new a(N,N[N.length-1]&-2147483648?-1:0)};function b(T,E){return T.add(v(E))}t.j=function(T){if(y(this)||y(T))return f;if(g(this))return g(T)?v(this).j(v(T)):v(v(this).j(T));if(g(T))return v(this.j(v(T)));if(0>this.l(m)&&0>T.l(m))return c(this.m()*T.m());for(var E=this.g.length+T.g.length,N=[],P=0;P<2*E;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(var R=0;R<T.g.length;R++){var O=this.i(P)>>>16,j=this.i(P)&65535,$=T.i(R)>>>16,V=T.i(R)&65535;N[2*P+2*R]+=j*V,x(N,2*P+2*R),N[2*P+2*R+1]+=O*V,x(N,2*P+2*R+1),N[2*P+2*R+1]+=j*$,x(N,2*P+2*R+1),N[2*P+2*R+2]+=O*$,x(N,2*P+2*R+2)}for(P=0;P<E;P++)N[P]=N[2*P+1]<<16|N[2*P];for(P=E;P<2*E;P++)N[P]=0;return new a(N,0)};function x(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function w(T,E){this.g=T,this.h=E}function S(T,E){if(y(E))throw Error("division by zero");if(y(T))return new w(f,f);if(g(T))return E=S(v(T),E),new w(v(E.g),v(E.h));if(g(E))return E=S(T,v(E)),new w(v(E.g),E.h);if(30<T.g.length){if(g(T)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var N=h,P=E;0>=P.l(T);)N=A(N),P=A(P);var R=C(N,1),O=C(P,1);for(P=C(P,2),N=C(N,2);!y(P);){var j=O.add(P);0>=j.l(T)&&(R=R.add(N),O=j),P=C(P,1),N=C(N,1)}return E=b(T,R.j(E)),new w(R,E)}for(R=f;0<=T.l(E);){for(N=Math.max(1,Math.floor(T.m()/E.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=c(N),j=O.j(E);g(j)||0<j.l(T);)N-=P,O=c(N),j=O.j(E);y(O)&&(O=h),R=R.add(O),T=b(T,j)}return new w(R,T)}t.A=function(T){return S(this,T).h},t.and=function(T){for(var E=Math.max(this.g.length,T.g.length),N=[],P=0;P<E;P++)N[P]=this.i(P)&T.i(P);return new a(N,this.h&T.h)},t.or=function(T){for(var E=Math.max(this.g.length,T.g.length),N=[],P=0;P<E;P++)N[P]=this.i(P)|T.i(P);return new a(N,this.h|T.h)},t.xor=function(T){for(var E=Math.max(this.g.length,T.g.length),N=[],P=0;P<E;P++)N[P]=this.i(P)^T.i(P);return new a(N,this.h^T.h)};function A(T){for(var E=T.g.length+1,N=[],P=0;P<E;P++)N[P]=T.i(P)<<1|T.i(P-1)>>>31;return new a(N,T.h)}function C(T,E){var N=E>>5;E%=32;for(var P=T.g.length-N,R=[],O=0;O<P;O++)R[O]=0<E?T.i(O+N)>>>E|T.i(O+N+1)<<32-E:T.i(O+N);return new a(R,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Y4=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=d,os=a}).apply(typeof I2<"u"?I2:typeof self<"u"?self:typeof window<"u"?window:{});var wg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J4,th,Z4,uy,z_,e5,t5,n5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,I,k){return p==Array.prototype||p==Object.prototype||(p[I]=k.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof wg=="object"&&wg];for(var I=0;I<p.length;++I){var k=p[I];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(p,I){if(I)e:{var k=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var W=p[D];if(!(W in k))break e;k=k[W]}p=p[p.length-1],D=k[p],I=I(D),I!=D&&I!=null&&e(k,p,{configurable:!0,writable:!0,value:I})}}function o(p,I){p instanceof String&&(p+="");var k=0,D=!1,W={next:function(){if(!D&&k<p.length){var X=k++;return{value:I(X,p[X]),done:!1}}return D=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(p){return p||function(){return o(this,function(I,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(p){var I=typeof p;return I=I!="object"?I:p?Array.isArray(p)?"array":I:"null",I=="array"||I=="object"&&typeof p.length=="number"}function c(p){var I=typeof p;return I=="object"&&p!=null||I=="function"}function d(p,I,k){return p.call.apply(p.bind,arguments)}function f(p,I,k){if(!p)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,D),p.apply(I,W)}}return function(){return p.apply(I,arguments)}}function h(p,I,k){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function m(p,I){var k=Array.prototype.slice.call(arguments,1);return function(){var D=k.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function y(p,I){function k(){}k.prototype=I.prototype,p.aa=I.prototype,p.prototype=new k,p.prototype.constructor=p,p.Qb=function(D,W,X){for(var he=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)he[Tt-2]=arguments[Tt];return I.prototype[W].apply(D,he)}}function g(p){const I=p.length;if(0<I){const k=Array(I);for(let D=0;D<I;D++)k[D]=p[D];return k}return[]}function v(p,I){for(let k=1;k<arguments.length;k++){const D=arguments[k];if(l(D)){const W=p.length||0,X=D.length||0;p.length=W+X;for(let he=0;he<X;he++)p[W+he]=D[he]}else p.push(D)}}class b{constructor(I,k){this.i=I,this.j=k,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function x(p){return/^[\s\xa0]*$/.test(p)}function w(){var p=s.navigator;return p&&(p=p.userAgent)?p:""}function S(p){return S[" "](p),p}S[" "]=function(){};var A=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function C(p,I,k){for(const D in p)I.call(k,p[D],D,p)}function T(p,I){for(const k in p)I.call(void 0,p[k],k,p)}function E(p){const I={};for(const k in p)I[k]=p[k];return I}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(p,I){let k,D;for(let W=1;W<arguments.length;W++){D=arguments[W];for(k in D)p[k]=D[k];for(let X=0;X<N.length;X++)k=N[X],Object.prototype.hasOwnProperty.call(D,k)&&(p[k]=D[k])}}function R(p){var I=1;p=p.split(":");const k=[];for(;0<I&&p.length;)k.push(p.shift()),I--;return p.length&&k.push(p.join(":")),k}function O(p){s.setTimeout(()=>{throw p},0)}function j(){var p=K;let I=null;return p.g&&(I=p.g,p.g=p.g.next,p.g||(p.h=null),I.next=null),I}class ${constructor(){this.h=this.g=null}add(I,k){const D=V.get();D.set(I,k),this.h?this.h.next=D:this.g=D,this.h=D}}var V=new b(()=>new U,p=>p.reset());class U{constructor(){this.next=this.g=this.h=null}set(I,k){this.h=I,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let q,L=!1,K=new $,Q=()=>{const p=s.Promise.resolve(void 0);q=()=>{p.then(ee)}};var ee=()=>{for(var p;p=j();){try{p.h.call(p.g)}catch(k){O(k)}var I=V;I.j(p),100>I.h&&(I.h++,p.next=I.g,I.g=p)}L=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(p,I){this.type=p,this.g=this.target=I,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var p=!1,I=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const k=()=>{};s.addEventListener("test",k,I),s.removeEventListener("test",k,I)}catch{}return p}();function fe(p,I){if(oe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var k=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=I,I=p.relatedTarget){if(A){e:{try{S(I.nodeName);var W=!0;break e}catch{}W=!1}W||(I=null)}}else k=="mouseover"?I=p.fromElement:k=="mouseout"&&(I=p.toElement);this.relatedTarget=I,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ce[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&fe.aa.h.call(this)}}y(fe,oe);var Ce={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function ce(p,I,k,D,W){this.listener=p,this.proxy=null,this.src=I,this.type=k,this.capture=!!D,this.ha=W,this.key=++Ae,this.da=this.fa=!1}function ue(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function se(p){this.src=p,this.g={},this.h=0}se.prototype.add=function(p,I,k,D,W){var X=p.toString();p=this.g[X],p||(p=this.g[X]=[],this.h++);var he=ke(p,I,D,W);return-1<he?(I=p[he],k||(I.fa=!1)):(I=new ce(I,this.src,X,!!D,W),I.fa=k,p.push(I)),I};function G(p,I){var k=I.type;if(k in p.g){var D=p.g[k],W=Array.prototype.indexOf.call(D,I,void 0),X;(X=0<=W)&&Array.prototype.splice.call(D,W,1),X&&(ue(I),p.g[k].length==0&&(delete p.g[k],p.h--))}}function ke(p,I,k,D){for(var W=0;W<p.length;++W){var X=p[W];if(!X.da&&X.listener==I&&X.capture==!!k&&X.ha==D)return W}return-1}var M="closure_lm_"+(1e6*Math.random()|0),F={};function H(p,I,k,D,W){if(Array.isArray(I)){for(var X=0;X<I.length;X++)H(p,I[X],k,D,W);return null}return k=Mt(k),p&&p[te]?p.K(I,k,c(D)?!!D.capture:!!D,W):ge(p,I,k,!1,D,W)}function ge(p,I,k,D,W,X){if(!I)throw Error("Invalid event type");var he=c(W)?!!W.capture:!!W,Tt=Pe(p);if(Tt||(p[M]=Tt=new se(p)),k=Tt.add(I,k,D,he,X),k.proxy)return k;if(D=Se(),k.proxy=D,D.src=p,D.listener=k,p.addEventListener)J||(W=he),W===void 0&&(W=!1),p.addEventListener(I.toString(),D,W);else if(p.attachEvent)p.attachEvent(de(I.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Se(){function p(k){return I.call(p.src,p.listener,k)}const I=Ke;return p}function je(p,I,k,D,W){if(Array.isArray(I))for(var X=0;X<I.length;X++)je(p,I[X],k,D,W);else D=c(D)?!!D.capture:!!D,k=Mt(k),p&&p[te]?(p=p.i,I=String(I).toString(),I in p.g&&(X=p.g[I],k=ke(X,k,D,W),-1<k&&(ue(X[k]),Array.prototype.splice.call(X,k,1),X.length==0&&(delete p.g[I],p.h--)))):p&&(p=Pe(p))&&(I=p.g[I.toString()],p=-1,I&&(p=ke(I,k,D,W)),(k=-1<p?I[p]:null)&&Oe(k))}function Oe(p){if(typeof p!="number"&&p&&!p.da){var I=p.src;if(I&&I[te])G(I.i,p);else{var k=p.type,D=p.proxy;I.removeEventListener?I.removeEventListener(k,D,p.capture):I.detachEvent?I.detachEvent(de(k),D):I.addListener&&I.removeListener&&I.removeListener(D),(k=Pe(I))?(G(k,p),k.h==0&&(k.src=null,I[M]=null)):ue(p)}}}function de(p){return p in F?F[p]:F[p]="on"+p}function Ke(p,I){if(p.da)p=!0;else{I=new fe(I,this);var k=p.listener,D=p.ha||p.src;p.fa&&Oe(p),p=k.call(D,I)}return p}function Pe(p){return p=p[M],p instanceof se?p:null}var nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mt(p){return typeof p=="function"?p:(p[nt]||(p[nt]=function(I){return p.handleEvent(I)}),p[nt])}function Je(){ne.call(this),this.i=new se(this),this.M=this,this.F=null}y(Je,ne),Je.prototype[te]=!0,Je.prototype.removeEventListener=function(p,I,k,D){je(this,p,I,k,D)};function Xe(p,I){var k,D=p.F;if(D)for(k=[];D;D=D.F)k.push(D);if(p=p.M,D=I.type||I,typeof I=="string")I=new oe(I,p);else if(I instanceof oe)I.target=I.target||p;else{var W=I;I=new oe(D,p),P(I,W)}if(W=!0,k)for(var X=k.length-1;0<=X;X--){var he=I.g=k[X];W=Qe(he,D,!0,I)&&W}if(he=I.g=p,W=Qe(he,D,!0,I)&&W,W=Qe(he,D,!1,I)&&W,k)for(X=0;X<k.length;X++)he=I.g=k[X],W=Qe(he,D,!1,I)&&W}Je.prototype.N=function(){if(Je.aa.N.call(this),this.i){var p=this.i,I;for(I in p.g){for(var k=p.g[I],D=0;D<k.length;D++)ue(k[D]);delete p.g[I],p.h--}}this.F=null},Je.prototype.K=function(p,I,k,D){return this.i.add(String(p),I,!1,k,D)},Je.prototype.L=function(p,I,k,D){return this.i.add(String(p),I,!0,k,D)};function Qe(p,I,k,D){if(I=p.i.g[String(I)],!I)return!0;I=I.concat();for(var W=!0,X=0;X<I.length;++X){var he=I[X];if(he&&!he.da&&he.capture==k){var Tt=he.listener,kn=he.ha||he.src;he.fa&&G(p.i,he),W=Tt.call(kn,D)!==!1&&W}}return W&&!D.defaultPrevented}function Bt(p,I,k){if(typeof p=="function")k&&(p=h(p,k));else if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:s.setTimeout(p,I||0)}function rt(p){p.g=Bt(()=>{p.g=null,p.i&&(p.i=!1,rt(p))},p.l);const I=p.h;p.h=null,p.m.apply(null,I)}class Pr extends ne{constructor(I,k){super(),this.m=I,this.l=k,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:rt(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cn(p){ne.call(this),this.h=p,this.g={}}y(Cn,ne);var xn=[];function bn(p){C(p.g,function(I,k){this.g.hasOwnProperty(k)&&Oe(I)},p),p.g={}}Cn.prototype.N=function(){Cn.aa.N.call(this),bn(this)},Cn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Et=s.JSON.stringify,Bi=s.JSON.parse,Ue=class{stringify(p){return s.JSON.stringify(p,void 0)}parse(p){return s.JSON.parse(p,void 0)}};function Ui(){}Ui.prototype.h=null;function ha(p){return p.h||(p.h=p.i())}function hf(){}var qs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ks(){oe.call(this,"d")}y(Ks,oe);function _c(){oe.call(this,"c")}y(_c,oe);var zi={},pf=null;function Sc(){return pf=pf||new Je}zi.La="serverreachability";function mf(p){oe.call(this,zi.La,p)}y(mf,oe);function Gs(p){const I=Sc();Xe(I,new mf(I))}zi.STAT_EVENT="statevent";function Bm(p,I){oe.call(this,zi.STAT_EVENT,p),this.stat=I}y(Bm,oe);function Pn(p){const I=Sc();Xe(I,new Bm(I,p))}zi.Ma="timingevent";function Um(p,I){oe.call(this,zi.Ma,p),this.size=I}y(Um,oe);function Xs(p,I){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){p()},I)}function Qt(){this.g=!0}Qt.prototype.xa=function(){this.g=!1};function yr(p,I,k,D,W,X){p.info(function(){if(p.g)if(X)for(var he="",Tt=X.split("&"),kn=0;kn<Tt.length;kn++){var at=Tt[kn].split("=");if(1<at.length){var Fn=at[0];at=at[1];var Bn=Fn.split("_");he=2<=Bn.length&&Bn[1]=="type"?he+(Fn+"="+at+"&"):he+(Fn+"=redacted&")}}else he=null;else he=X;return"XMLHTTP REQ ("+D+") [attempt "+W+"]: "+I+`
`+k+`
`+he})}function Qs(p,I,k,D,W,X,he){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+W+"]: "+I+`
`+k+`
`+X+" "+he})}function hi(p,I,k,D){p.info(function(){return"XMLHTTP TEXT ("+I+"): "+Cz(p,k)+(D?" "+D:"")})}function Az(p,I){p.info(function(){return"TIMEOUT: "+I})}Qt.prototype.info=function(){};function Cz(p,I){if(!p.g)return I;if(!I)return null;try{var k=JSON.parse(I);if(k){for(p=0;p<k.length;p++)if(Array.isArray(k[p])){var D=k[p];if(!(2>D.length)){var W=D[1];if(Array.isArray(W)&&!(1>W.length)){var X=W[0];if(X!="noop"&&X!="stop"&&X!="close")for(var he=1;he<W.length;he++)W[he]=""}}}}return Et(k)}catch{return I}}var zm={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oP={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gb;function Wm(){}y(Wm,Ui),Wm.prototype.g=function(){return new XMLHttpRequest},Wm.prototype.i=function(){return{}},Gb=new Wm;function pa(p,I,k,D){this.j=p,this.i=I,this.l=k,this.R=D||1,this.U=new Cn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new aP}function aP(){this.i=null,this.g="",this.h=!1}var sP={},Xb={};function Qb(p,I,k){p.L=1,p.v=Gm(xo(I)),p.m=k,p.P=!0,lP(p,null)}function lP(p,I){p.F=Date.now(),Hm(p),p.A=xo(p.v);var k=p.A,D=p.R;Array.isArray(D)||(D=[String(D)]),_P(k.i,"t",D),p.C=0,k=p.j.J,p.h=new aP,p.g=FP(p.j,k?I:null,!p.m),0<p.O&&(p.M=new Pr(h(p.Y,p,p.g),p.O)),I=p.U,k=p.g,D=p.ca;var W="readystatechange";Array.isArray(W)||(W&&(xn[0]=W.toString()),W=xn);for(var X=0;X<W.length;X++){var he=H(k,W[X],D||I.handleEvent,!1,I.h||I);if(!he)break;I.g[he.key]=he}I=p.H?E(p.H):{},p.m?(p.u||(p.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,I)):(p.u="GET",p.g.ea(p.A,p.u,null,I)),Gs(),yr(p.i,p.u,p.A,p.l,p.R,p.m)}pa.prototype.ca=function(p){p=p.target;const I=this.M;I&&bo(p)==3?I.j():this.Y(p)},pa.prototype.Y=function(p){try{if(p==this.g)e:{const Bn=bo(this.g);var I=this.g.Ba();const Ic=this.g.Z();if(!(3>Bn)&&(Bn!=3||this.g&&(this.h.h||this.g.oa()||PP(this.g)))){this.J||Bn!=4||I==7||(I==8||0>=Ic?Gs(3):Gs(2)),Yb(this);var k=this.g.Z();this.X=k;t:if(cP(this)){var D=PP(this.g);p="";var W=D.length,X=bo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ys(this),gf(this);var he="";break t}this.h.i=new s.TextDecoder}for(I=0;I<W;I++)this.h.h=!0,p+=this.h.i.decode(D[I],{stream:!(X&&I==W-1)});D.length=0,this.h.g+=p,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=k==200,Qs(this.i,this.u,this.A,this.l,this.R,Bn,k),this.o){if(this.T&&!this.K){t:{if(this.g){var Tt,kn=this.g;if((Tt=kn.g?kn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Tt)){var at=Tt;break t}}at=null}if(k=at)hi(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jb(this,k);else{this.o=!1,this.s=3,Pn(12),Ys(this),gf(this);break e}}if(this.P){k=!0;let pi;for(;!this.J&&this.C<he.length;)if(pi=Pz(this,he),pi==Xb){Bn==4&&(this.s=4,Pn(14),k=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(pi==sP){this.s=4,Pn(15),hi(this.i,this.l,he,"[Invalid Chunk]"),k=!1;break}else hi(this.i,this.l,pi,null),Jb(this,pi);if(cP(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bn!=4||he.length!=0||this.h.h||(this.s=1,Pn(16),k=!1),this.o=this.o&&k,!k)hi(this.i,this.l,he,"[Invalid Chunked Response]"),Ys(this),gf(this);else if(0<he.length&&!this.W){this.W=!0;var Fn=this.j;Fn.g==this&&Fn.ba&&!Fn.M&&(Fn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),iw(Fn),Fn.M=!0,Pn(11))}}else hi(this.i,this.l,he,null),Jb(this,he);Bn==4&&Ys(this),this.o&&!this.J&&(Bn==4?MP(this.j,this):(this.o=!1,Hm(this)))}else qz(this.g),k==400&&0<he.indexOf("Unknown SID")?(this.s=3,Pn(12)):(this.s=0,Pn(13)),Ys(this),gf(this)}}}catch{}finally{}};function cP(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Pz(p,I){var k=p.C,D=I.indexOf(`
`,k);return D==-1?Xb:(k=Number(I.substring(k,D)),isNaN(k)?sP:(D+=1,D+k>I.length?Xb:(I=I.slice(D,D+k),p.C=D+k,I)))}pa.prototype.cancel=function(){this.J=!0,Ys(this)};function Hm(p){p.S=Date.now()+p.I,uP(p,p.I)}function uP(p,I){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Xs(h(p.ba,p),I)}function Yb(p){p.B&&(s.clearTimeout(p.B),p.B=null)}pa.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Az(this.i,this.A),this.L!=2&&(Gs(),Pn(17)),Ys(this),this.s=2,gf(this)):uP(this,this.S-p)};function gf(p){p.j.G==0||p.J||MP(p.j,p)}function Ys(p){Yb(p);var I=p.M;I&&typeof I.ma=="function"&&I.ma(),p.M=null,bn(p.U),p.g&&(I=p.g,p.g=null,I.abort(),I.ma())}function Jb(p,I){try{var k=p.j;if(k.G!=0&&(k.g==p||Zb(k.h,p))){if(!p.K&&Zb(k.h,p)&&k.G==3){try{var D=k.Da.g.parse(I)}catch{D=null}if(Array.isArray(D)&&D.length==3){var W=D;if(W[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<p.F)eg(k),Jm(k);else break e;rw(k),Pn(18)}}else k.za=W[1],0<k.za-k.T&&37500>W[2]&&k.F&&k.v==0&&!k.C&&(k.C=Xs(h(k.Za,k),6e3));if(1>=hP(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Zs(k,11)}else if((p.K||k.g==p)&&eg(k),!x(I))for(W=k.Da.g.parse(I),I=0;I<W.length;I++){let at=W[I];if(k.T=at[0],at=at[1],k.G==2)if(at[0]=="c"){k.K=at[1],k.ia=at[2];const Fn=at[3];Fn!=null&&(k.la=Fn,k.j.info("VER="+k.la));const Bn=at[4];Bn!=null&&(k.Aa=Bn,k.j.info("SVER="+k.Aa));const Ic=at[5];Ic!=null&&typeof Ic=="number"&&0<Ic&&(D=1.5*Ic,k.L=D,k.j.info("backChannelRequestTimeoutMs_="+D)),D=k;const pi=p.g;if(pi){const ng=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ng){var X=D.h;X.g||ng.indexOf("spdy")==-1&&ng.indexOf("quic")==-1&&ng.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ew(X,X.h),X.h=null))}if(D.D){const ow=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;ow&&(D.ya=ow,kt(D.I,D.D,ow))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-p.F,k.j.info("Handshake RTT: "+k.R+"ms")),D=k;var he=p;if(D.qa=VP(D,D.J?D.ia:null,D.W),he.K){pP(D.h,he);var Tt=he,kn=D.L;kn&&(Tt.I=kn),Tt.B&&(Yb(Tt),Hm(Tt)),D.g=he}else jP(D);0<k.i.length&&Zm(k)}else at[0]!="stop"&&at[0]!="close"||Zs(k,7);else k.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?Zs(k,7):nw(k):at[0]!="noop"&&k.l&&k.l.ta(at),k.v=0)}}Gs(4)}catch{}}var kz=class{constructor(p,I){this.g=p,this.map=I}};function dP(p){this.l=p||10,s.PerformanceNavigationTiming?(p=s.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fP(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function hP(p){return p.h?1:p.g?p.g.size:0}function Zb(p,I){return p.h?p.h==I:p.g?p.g.has(I):!1}function ew(p,I){p.g?p.g.add(I):p.h=I}function pP(p,I){p.h&&p.h==I?p.h=null:p.g&&p.g.has(I)&&p.g.delete(I)}dP.prototype.cancel=function(){if(this.i=mP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function mP(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let I=p.i;for(const k of p.g.values())I=I.concat(k.D);return I}return g(p.i)}function Nz(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var I=[],k=p.length,D=0;D<k;D++)I.push(p[D]);return I}I=[],k=0;for(D in p)I[k++]=p[D];return I}function Oz(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var I=[];p=p.length;for(var k=0;k<p;k++)I.push(k);return I}I=[],k=0;for(const D in p)I[k++]=D;return I}}}function gP(p,I){if(p.forEach&&typeof p.forEach=="function")p.forEach(I,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,I,void 0);else for(var k=Oz(p),D=Nz(p),W=D.length,X=0;X<W;X++)I.call(void 0,D[X],k&&k[X],p)}var yP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rz(p,I){if(p){p=p.split("&");for(var k=0;k<p.length;k++){var D=p[k].indexOf("="),W=null;if(0<=D){var X=p[k].substring(0,D);W=p[k].substring(D+1)}else X=p[k];I(X,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Js(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Js){this.h=p.h,qm(this,p.j),this.o=p.o,this.g=p.g,Km(this,p.s),this.l=p.l;var I=p.i,k=new xf;k.i=I.i,I.g&&(k.g=new Map(I.g),k.h=I.h),vP(this,k),this.m=p.m}else p&&(I=String(p).match(yP))?(this.h=!1,qm(this,I[1]||"",!0),this.o=yf(I[2]||""),this.g=yf(I[3]||"",!0),Km(this,I[4]),this.l=yf(I[5]||"",!0),vP(this,I[6]||"",!0),this.m=yf(I[7]||"")):(this.h=!1,this.i=new xf(null,this.h))}Js.prototype.toString=function(){var p=[],I=this.j;I&&p.push(vf(I,xP,!0),":");var k=this.g;return(k||I=="file")&&(p.push("//"),(I=this.o)&&p.push(vf(I,xP,!0),"@"),p.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&p.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&p.push("/"),p.push(vf(k,k.charAt(0)=="/"?Mz:Dz,!0))),(k=this.i.toString())&&p.push("?",k),(k=this.m)&&p.push("#",vf(k,$z)),p.join("")};function xo(p){return new Js(p)}function qm(p,I,k){p.j=k?yf(I,!0):I,p.j&&(p.j=p.j.replace(/:$/,""))}function Km(p,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);p.s=I}else p.s=null}function vP(p,I,k){I instanceof xf?(p.i=I,Vz(p.i,p.h)):(k||(I=vf(I,Lz)),p.i=new xf(I,p.h))}function kt(p,I,k){p.i.set(I,k)}function Gm(p){return kt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function yf(p,I){return p?I?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function vf(p,I,k){return typeof p=="string"?(p=encodeURI(p).replace(I,jz),k&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function jz(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var xP=/[#\/\?@]/g,Dz=/[#\?:]/g,Mz=/[#\?]/g,Lz=/[#\?@]/g,$z=/#/g;function xf(p,I){this.h=this.g=null,this.i=p||null,this.j=!!I}function ma(p){p.g||(p.g=new Map,p.h=0,p.i&&Rz(p.i,function(I,k){p.add(decodeURIComponent(I.replace(/\+/g," ")),k)}))}t=xf.prototype,t.add=function(p,I){ma(this),this.i=null,p=Ec(this,p);var k=this.g.get(p);return k||this.g.set(p,k=[]),k.push(I),this.h+=1,this};function bP(p,I){ma(p),I=Ec(p,I),p.g.has(I)&&(p.i=null,p.h-=p.g.get(I).length,p.g.delete(I))}function wP(p,I){return ma(p),I=Ec(p,I),p.g.has(I)}t.forEach=function(p,I){ma(this),this.g.forEach(function(k,D){k.forEach(function(W){p.call(I,W,D,this)},this)},this)},t.na=function(){ma(this);const p=Array.from(this.g.values()),I=Array.from(this.g.keys()),k=[];for(let D=0;D<I.length;D++){const W=p[D];for(let X=0;X<W.length;X++)k.push(I[D])}return k},t.V=function(p){ma(this);let I=[];if(typeof p=="string")wP(this,p)&&(I=I.concat(this.g.get(Ec(this,p))));else{p=Array.from(this.g.values());for(let k=0;k<p.length;k++)I=I.concat(p[k])}return I},t.set=function(p,I){return ma(this),this.i=null,p=Ec(this,p),wP(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[I]),this.h+=1,this},t.get=function(p,I){return p?(p=this.V(p),0<p.length?String(p[0]):I):I};function _P(p,I,k){bP(p,I),0<k.length&&(p.i=null,p.g.set(Ec(p,I),g(k)),p.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],I=Array.from(this.g.keys());for(var k=0;k<I.length;k++){var D=I[k];const X=encodeURIComponent(String(D)),he=this.V(D);for(D=0;D<he.length;D++){var W=X;he[D]!==""&&(W+="="+encodeURIComponent(String(he[D]))),p.push(W)}}return this.i=p.join("&")};function Ec(p,I){return I=String(I),p.j&&(I=I.toLowerCase()),I}function Vz(p,I){I&&!p.j&&(ma(p),p.i=null,p.g.forEach(function(k,D){var W=D.toLowerCase();D!=W&&(bP(this,D),_P(this,W,k))},p)),p.j=I}function Fz(p,I){const k=new Qt;if(s.Image){const D=new Image;D.onload=m(ga,k,"TestLoadImage: loaded",!0,I,D),D.onerror=m(ga,k,"TestLoadImage: error",!1,I,D),D.onabort=m(ga,k,"TestLoadImage: abort",!1,I,D),D.ontimeout=m(ga,k,"TestLoadImage: timeout",!1,I,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else I(!1)}function Bz(p,I){const k=new Qt,D=new AbortController,W=setTimeout(()=>{D.abort(),ga(k,"TestPingServer: timeout",!1,I)},1e4);fetch(p,{signal:D.signal}).then(X=>{clearTimeout(W),X.ok?ga(k,"TestPingServer: ok",!0,I):ga(k,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(W),ga(k,"TestPingServer: error",!1,I)})}function ga(p,I,k,D,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),D(k)}catch{}}function Uz(){this.g=new Ue}function zz(p,I,k){const D=k||"";try{gP(p,function(W,X){let he=W;c(W)&&(he=Et(W)),I.push(D+X+"="+encodeURIComponent(he))})}catch(W){throw I.push(D+"type="+encodeURIComponent("_badmap")),W}}function Xm(p){this.l=p.Ub||null,this.j=p.eb||!1}y(Xm,Ui),Xm.prototype.g=function(){return new Qm(this.l,this.j)},Xm.prototype.i=function(p){return function(){return p}}({});function Qm(p,I){Je.call(this),this.D=p,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Qm,Je),t=Qm.prototype,t.open=function(p,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=I,this.readyState=1,wf(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(I.body=p),(this.D||s).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bf(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,wf(this)),this.g&&(this.readyState=3,wf(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;SP(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function SP(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var I=p.value?p.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!p.done}))&&(this.response=this.responseText+=I)}p.done?bf(this):wf(this),this.readyState==3&&SP(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,bf(this))},t.Qa=function(p){this.g&&(this.response=p,bf(this))},t.ga=function(){this.g&&bf(this)};function bf(p){p.readyState=4,p.l=null,p.j=null,p.v=null,wf(p)}t.setRequestHeader=function(p,I){this.u.append(p,I)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],I=this.h.entries();for(var k=I.next();!k.done;)k=k.value,p.push(k[0]+": "+k[1]),k=I.next();return p.join(`\r
`)};function wf(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Qm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function EP(p){let I="";return C(p,function(k,D){I+=D,I+=":",I+=k,I+=`\r
`}),I}function tw(p,I,k){e:{for(D in k){var D=!1;break e}D=!0}D||(k=EP(k),typeof p=="string"?k!=null&&encodeURIComponent(String(k)):kt(p,I,k))}function Yt(p){Je.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Yt,Je);var Wz=/^https?$/i,Hz=["POST","PUT"];t=Yt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,I,k,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);I=I?I.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gb.g(),this.v=this.o?ha(this.o):ha(Gb),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(I,String(p),!0),this.B=!1}catch(X){TP(this,X);return}if(p=k||"",k=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var W in D)k.set(W,D[W]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const X of D.keys())k.set(X,D.get(X));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(k.keys()).find(X=>X.toLowerCase()=="content-type"),W=s.FormData&&p instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Hz,I,void 0))||D||W||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,he]of k)this.g.setRequestHeader(X,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{CP(this),this.u=!0,this.g.send(p),this.u=!1}catch(X){TP(this,X)}};function TP(p,I){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=I,p.m=5,IP(p),Ym(p)}function IP(p){p.A||(p.A=!0,Xe(p,"complete"),Xe(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Xe(this,"complete"),Xe(this,"abort"),Ym(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ym(this,!0)),Yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?AP(this):this.bb())},t.bb=function(){AP(this)};function AP(p){if(p.h&&typeof a<"u"&&(!p.v[1]||bo(p)!=4||p.Z()!=2)){if(p.u&&bo(p)==4)Bt(p.Ea,0,p);else if(Xe(p,"readystatechange"),bo(p)==4){p.h=!1;try{const he=p.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var k;if(!(k=I)){var D;if(D=he===0){var W=String(p.D).match(yP)[1]||null;!W&&s.self&&s.self.location&&(W=s.self.location.protocol.slice(0,-1)),D=!Wz.test(W?W.toLowerCase():"")}k=D}if(k)Xe(p,"complete"),Xe(p,"success");else{p.m=6;try{var X=2<bo(p)?p.g.statusText:""}catch{X=""}p.l=X+" ["+p.Z()+"]",IP(p)}}finally{Ym(p)}}}}function Ym(p,I){if(p.g){CP(p);const k=p.g,D=p.v[0]?()=>{}:null;p.g=null,p.v=null,I||Xe(p,"ready");try{k.onreadystatechange=D}catch{}}}function CP(p){p.I&&(s.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function bo(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<bo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var I=this.g.responseText;return p&&I.indexOf(p)==0&&(I=I.substring(p.length)),Bi(I)}};function PP(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function qz(p){const I={};p=(p.g&&2<=bo(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(x(p[D]))continue;var k=R(p[D]);const W=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const X=I[W]||[];I[W]=X,X.push(k)}T(I,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _f(p,I,k){return k&&k.internalChannelParams&&k.internalChannelParams[p]||I}function kP(p){this.Aa=0,this.i=[],this.j=new Qt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_f("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_f("baseRetryDelayMs",5e3,p),this.cb=_f("retryDelaySeedMs",1e4,p),this.Wa=_f("forwardChannelMaxRetries",2,p),this.wa=_f("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new dP(p&&p.concurrentRequestLimit),this.Da=new Uz,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kP.prototype,t.la=8,t.G=1,t.connect=function(p,I,k,D){Pn(0),this.W=p,this.H=I||{},k&&D!==void 0&&(this.H.OSID=k,this.H.OAID=D),this.F=this.X,this.I=VP(this,null,this.W),Zm(this)};function nw(p){if(NP(p),p.G==3){var I=p.U++,k=xo(p.I);if(kt(k,"SID",p.K),kt(k,"RID",I),kt(k,"TYPE","terminate"),Sf(p,k),I=new pa(p,p.j,I),I.L=2,I.v=Gm(xo(k)),k=!1,s.navigator&&s.navigator.sendBeacon)try{k=s.navigator.sendBeacon(I.v.toString(),"")}catch{}!k&&s.Image&&(new Image().src=I.v,k=!0),k||(I.g=FP(I.j,null),I.g.ea(I.v)),I.F=Date.now(),Hm(I)}$P(p)}function Jm(p){p.g&&(iw(p),p.g.cancel(),p.g=null)}function NP(p){Jm(p),p.u&&(s.clearTimeout(p.u),p.u=null),eg(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&s.clearTimeout(p.s),p.s=null)}function Zm(p){if(!fP(p.h)&&!p.s){p.s=!0;var I=p.Ga;q||Q(),L||(q(),L=!0),K.add(I,p),p.B=0}}function Kz(p,I){return hP(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=I.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Xs(h(p.Ga,p,I),LP(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const W=new pa(this,this.j,p);let X=this.o;if(this.S&&(X?(X=E(X),P(X,this.S)):X=this.S),this.m!==null||this.O||(W.H=X,X=null),this.P)e:{for(var I=0,k=0;k<this.i.length;k++){t:{var D=this.i[k];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(I+=D,4096<I){I=k;break e}if(I===4096||k===this.i.length-1){I=k+1;break e}}I=1e3}else I=1e3;I=RP(this,W,I),k=xo(this.I),kt(k,"RID",p),kt(k,"CVER",22),this.D&&kt(k,"X-HTTP-Session-Id",this.D),Sf(this,k),X&&(this.O?I="headers="+encodeURIComponent(String(EP(X)))+"&"+I:this.m&&tw(k,this.m,X)),ew(this.h,W),this.Ua&&kt(k,"TYPE","init"),this.P?(kt(k,"$req",I),kt(k,"SID","null"),W.T=!0,Qb(W,k,null)):Qb(W,k,I),this.G=2}}else this.G==3&&(p?OP(this,p):this.i.length==0||fP(this.h)||OP(this))};function OP(p,I){var k;I?k=I.l:k=p.U++;const D=xo(p.I);kt(D,"SID",p.K),kt(D,"RID",k),kt(D,"AID",p.T),Sf(p,D),p.m&&p.o&&tw(D,p.m,p.o),k=new pa(p,p.j,k,p.B+1),p.m===null&&(k.H=p.o),I&&(p.i=I.D.concat(p.i)),I=RP(p,k,1e3),k.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),ew(p.h,k),Qb(k,D,I)}function Sf(p,I){p.H&&C(p.H,function(k,D){kt(I,D,k)}),p.l&&gP({},function(k,D){kt(I,D,k)})}function RP(p,I,k){k=Math.min(p.i.length,k);var D=p.l?h(p.l.Na,p.l,p):null;e:{var W=p.i;let X=-1;for(;;){const he=["count="+k];X==-1?0<k?(X=W[0].g,he.push("ofs="+X)):X=0:he.push("ofs="+X);let Tt=!0;for(let kn=0;kn<k;kn++){let at=W[kn].g;const Fn=W[kn].map;if(at-=X,0>at)X=Math.max(0,W[kn].g-100),Tt=!1;else try{zz(Fn,he,"req"+at+"_")}catch{D&&D(Fn)}}if(Tt){D=he.join("&");break e}}}return p=p.i.splice(0,k),I.D=p,D}function jP(p){if(!p.g&&!p.u){p.Y=1;var I=p.Fa;q||Q(),L||(q(),L=!0),K.add(I,p),p.v=0}}function rw(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Xs(h(p.Fa,p),LP(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,DP(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Xs(h(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pn(10),Jm(this),DP(this))};function iw(p){p.A!=null&&(s.clearTimeout(p.A),p.A=null)}function DP(p){p.g=new pa(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var I=xo(p.qa);kt(I,"RID","rpc"),kt(I,"SID",p.K),kt(I,"AID",p.T),kt(I,"CI",p.F?"0":"1"),!p.F&&p.ja&&kt(I,"TO",p.ja),kt(I,"TYPE","xmlhttp"),Sf(p,I),p.m&&p.o&&tw(I,p.m,p.o),p.L&&(p.g.I=p.L);var k=p.g;p=p.ia,k.L=1,k.v=Gm(xo(I)),k.m=null,k.P=!0,lP(k,p)}t.Za=function(){this.C!=null&&(this.C=null,Jm(this),rw(this),Pn(19))};function eg(p){p.C!=null&&(s.clearTimeout(p.C),p.C=null)}function MP(p,I){var k=null;if(p.g==I){eg(p),iw(p),p.g=null;var D=2}else if(Zb(p.h,I))k=I.D,pP(p.h,I),D=1;else return;if(p.G!=0){if(I.o)if(D==1){k=I.m?I.m.length:0,I=Date.now()-I.F;var W=p.B;D=Sc(),Xe(D,new Um(D,k)),Zm(p)}else jP(p);else if(W=I.s,W==3||W==0&&0<I.X||!(D==1&&Kz(p,I)||D==2&&rw(p)))switch(k&&0<k.length&&(I=p.h,I.i=I.i.concat(k)),W){case 1:Zs(p,5);break;case 4:Zs(p,10);break;case 3:Zs(p,6);break;default:Zs(p,2)}}}function LP(p,I){let k=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(k*=2),k*I}function Zs(p,I){if(p.j.info("Error code "+I),I==2){var k=h(p.fb,p),D=p.Xa;const W=!D;D=new Js(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||qm(D,"https"),Gm(D),W?Fz(D.toString(),k):Bz(D.toString(),k)}else Pn(2);p.G=0,p.l&&p.l.sa(I),$P(p),NP(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Pn(2)):(this.j.info("Failed to ping google.com"),Pn(1))};function $P(p){if(p.G=0,p.ka=[],p.l){const I=mP(p.h);(I.length!=0||p.i.length!=0)&&(v(p.ka,I),v(p.ka,p.i),p.h.i.length=0,g(p.i),p.i.length=0),p.l.ra()}}function VP(p,I,k){var D=k instanceof Js?xo(k):new Js(k);if(D.g!="")I&&(D.g=I+"."+D.g),Km(D,D.s);else{var W=s.location;D=W.protocol,I=I?I+"."+W.hostname:W.hostname,W=+W.port;var X=new Js(null);D&&qm(X,D),I&&(X.g=I),W&&Km(X,W),k&&(X.l=k),D=X}return k=p.D,I=p.ya,k&&I&&kt(D,k,I),kt(D,"VER",p.la),Sf(p,D),D}function FP(p,I,k){if(I&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=p.Ca&&!p.pa?new Yt(new Xm({eb:k})):new Yt(p.pa),I.Ha(p.J),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function BP(){}t=BP.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function tg(){}tg.prototype.g=function(p,I){return new kr(p,I)};function kr(p,I){Je.call(this),this.g=new kP(I),this.l=p,this.h=I&&I.messageUrlParams||null,p=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(p?p["X-WebChannel-Content-Type"]=I.messageContentType:p={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(p?p["X-WebChannel-Client-Profile"]=I.va:p={"X-WebChannel-Client-Profile":I.va}),this.g.S=p,(p=I&&I.Sb)&&!x(p)&&(this.g.m=p),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!x(I)&&(this.g.D=I,p=this.h,p!==null&&I in p&&(p=this.h,I in p&&delete p[I])),this.j=new Tc(this)}y(kr,Je),kr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kr.prototype.close=function(){nw(this.g)},kr.prototype.o=function(p){var I=this.g;if(typeof p=="string"){var k={};k.__data__=p,p=k}else this.u&&(k={},k.__data__=Et(p),p=k);I.i.push(new kz(I.Ya++,p)),I.G==3&&Zm(I)},kr.prototype.N=function(){this.g.l=null,delete this.j,nw(this.g),delete this.g,kr.aa.N.call(this)};function UP(p){Ks.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var I=p.__sm__;if(I){e:{for(const k in I){p=k;break e}p=void 0}(this.i=p)&&(p=this.i,I=I!==null&&p in I?I[p]:void 0),this.data=I}else this.data=p}y(UP,Ks);function zP(){_c.call(this),this.status=1}y(zP,_c);function Tc(p){this.g=p}y(Tc,BP),Tc.prototype.ua=function(){Xe(this.g,"a")},Tc.prototype.ta=function(p){Xe(this.g,new UP(p))},Tc.prototype.sa=function(p){Xe(this.g,new zP)},Tc.prototype.ra=function(){Xe(this.g,"b")},tg.prototype.createWebChannel=tg.prototype.g,kr.prototype.send=kr.prototype.o,kr.prototype.open=kr.prototype.m,kr.prototype.close=kr.prototype.close,n5=function(){return new tg},t5=function(){return Sc()},e5=zi,z_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zm.NO_ERROR=0,zm.TIMEOUT=8,zm.HTTP_ERROR=6,uy=zm,oP.COMPLETE="complete",Z4=oP,hf.EventType=qs,qs.OPEN="a",qs.CLOSE="b",qs.ERROR="c",qs.MESSAGE="d",Je.prototype.listen=Je.prototype.K,th=hf,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,J4=Yt}).apply(typeof wg<"u"?wg:typeof self<"u"?self:typeof window<"u"?window:{});const A2="@firebase/firestore",C2="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=new nI("@firebase/firestore");function zc(){return Gl.logLevel}function ae(t,...e){if(Gl.logLevel<=Ze.DEBUG){const n=e.map(oI);Gl.debug(`Firestore (${Fd}): ${t}`,...n)}}function cr(t,...e){if(Gl.logLevel<=Ze.ERROR){const n=e.map(oI);Gl.error(`Firestore (${Fd}): ${t}`,...n)}}function Yh(t,...e){if(Gl.logLevel<=Ze.WARN){const n=e.map(oI);Gl.warn(`Firestore (${Fd}): ${t}`,...n)}}function oI(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t="Unexpected state"){const e=`FIRESTORE (${Fd}) INTERNAL ASSERTION FAILED: `+t;throw cr(e),new Error(e)}function Ie(t,e){t||_e()}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends go{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ar.UNAUTHENTICATED))}shutdown(){}}class EX{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ni,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ni)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string"),new _X(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new ar(e)}}class TX{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ar.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class IX{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new TX(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AX{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Lr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0);const r=o=>{o.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,ae("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new P2(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string"),this.R=n.token,new P2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=CX(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function Hu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function i5(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=-62135596800,N2=1e6;class Gt{static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*N2);return new Gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<k2)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N2}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-k2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Gt(0,0))}static max(){return new Re(new Gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="__name__";class qi{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(),r===void 0?r=e.length-n:r>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=qi.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=qi.isNumericId(e),i=qi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?qi.extractNumericId(e).compare(qi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class dt extends qi{construct(e,n,r){return new dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new dt(n)}static emptyPath(){return new dt([])}}const PX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends qi{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return PX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O2}static keyField(){return new Wt([O2])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new pe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new pe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new pe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(dt.fromString(e))}static fromName(e){return new ye(dt.fromString(e).popFirst(5))}static empty(){return new ye(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=-1;class sv{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function W_(t){return t.fields.find(e=>e.kind===2)}function al(t){return t.fields.filter(e=>e.kind!==2)}sv.UNKNOWN_ID=-1;class dy{constructor(e,n){this.fieldPath=e,this.kind=n}}class Zh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Zh(0,Wr.min())}}function kX(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(r===1e9?new Gt(n+1,0):new Gt(n,r));return new Wr(i,ye.empty(),e)}function o5(t){return new Wr(t.readTime,t.key,Jh)}class Wr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wr(Re.min(),ye.empty(),Jh)}static max(){return new Wr(Re.max(),ye.empty(),Jh)}}function aI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==a5)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(d=>{a[c]=d,++s,s===o&&r(a)},d=>i(d))}})}static doWhile(e,n){return new z((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="SimpleDb";class lx{static open(e,n,r,i){try{return new lx(n,e.transaction(i,r))}catch(o){throw new yh(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.m=new Ni,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{n.error?this.m.reject(new yh(e,n.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=sI(r.target.error);this.m.reject(new yh(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(ae(Dr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new OX(n)}}class as{static delete(e){return ae(Dr,"Removing database:",e),fl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!H4())return!1;if(as.v())return!0;const e=gn(),n=as.C(e),r=0<n&&n<10,i=l5(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static C(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.O=r,as.C(gn())===12.2&&cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(ae(Dr,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const a=o.target.result;n(a)},i.onblocked=()=>{r(new yh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const a=o.target.error;a.name==="VersionError"?r(new pe(Z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new pe(Z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new yh(e,a))},i.onupgradeneeded=o=>{ae(Dr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const a=o.target.result;this.O.B(a,i.transaction,o.oldVersion,this.version).next(()=>{ae(Dr,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.N(e);const s=lx.open(this.db,e,o?"readonly":"readwrite",r),l=i(s).next(c=>(s.S(),c)).catch(c=>(s.abort(c),z.reject(c))).toPromise();return l.catch(()=>{}),await s.p,l}catch(s){const l=s,c=l.name!=="FirebaseError"&&a<3;if(ae(Dr,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function l5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class NX{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return fl(this.q.delete())}}class yh extends pe{constructor(e,n){super(Z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Os(t){return t.name==="IndexedDbTransactionError"}class OX{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ae(Dr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(ae(Dr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),fl(r)}add(e){return ae(Dr,"ADD",this.store.name,e,e),fl(this.store.add(e))}get(e){return fl(this.store.get(e)).next(n=>(n===void 0&&(n=null),ae(Dr,"GET",this.store.name,e,n),n))}delete(e){return ae(Dr,"DELETE",this.store.name,e),fl(this.store.delete(e))}count(){return ae(Dr,"COUNT",this.store.name),fl(this.store.count())}G(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new z((a,s)=>{o.onerror=l=>{s(l.target.error)},o.onsuccess=l=>{a(l.target.result)}})}{const o=this.cursor(r),a=[];return this.j(o,(s,l)=>{a.push(l)}).next(()=>a)}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new z((i,o)=>{r.onerror=a=>{o(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}J(e,n){ae(Dr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.j(i,(o,a,s)=>s.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.j(i,n)}X(e){const n=this.cursor({});return new z((r,i)=>{n.onerror=o=>{const a=sI(o.target.error);i(a)},n.onsuccess=o=>{const a=o.target.result;a?e(a.primaryKey,a.value).next(s=>{s?a.continue():r()}):r()}})}j(e,n){const r=[];return new z((i,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{const s=a.target.result;if(!s)return void i();const l=new NX(s),c=n(s.primaryKey,s.value,l);if(c instanceof z){const d=c.catch(f=>(l.done(),z.reject(f)));r.push(d)}l.isDone?i():l.U===null?s.continue():s.continue(l.U)}}).next(()=>z.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function fl(t){return new z((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=sI(r.target.error);n(i)}})}let R2=!1;function sI(t){const e=as.C(gn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return R2||(R2=!0,setTimeout(()=>{throw r},0)),r}}return t}const vh="IndexBackfiller";class RX{constructor(e,n){this.asyncQueue=e,this.ee=n,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){ae(vh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.ee.ne();ae(vh,`Documents written: ${n}`)}catch(n){Os(n)?ae(vh,"Ignoring IndexedDB error during index backfill: ",n):await mc(n)}await this.te(6e4)})}}class jX{constructor(e,n){this.localStore=e,this.persistence=n}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.re(n,e))}re(e,n){const r=new Set;let i=n,o=!0;return z.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!r.has(a))return ae(vh,`Processing collection: ${a}`),this.ie(e,a,i).next(s=>{i-=s,r.add(a)});o=!1})).next(()=>n-i)}ie(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const a=o.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.se(i,o)).next(s=>(ae(vh,`Updating offset: ${s}`),this.localStore.indexManager.updateCollectionGroup(e,n,s))).next(()=>a.size)}))}se(e,n){let r=e;return n.changes.forEach((i,o)=>{const a=o5(o);aI(a,r)>0&&(r=a)}),new Wr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ti.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=-1;function cx(t){return t==null}function ep(t){return t===0&&1/t==-1/0}function DX(t){return typeof t=="number"&&Number.isInteger(t)&&!ep(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="";function er(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=j2(e)),e=MX(t.get(n),e);return j2(e)}function MX(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case lv:n+="";break;default:n+=o}}return n}function j2(t){return t+lv+""}function eo(t){const e=t.length;if(Ie(e>=2),e===2)return Ie(t.charAt(0)===lv&&t.charAt(1)===""),dt.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const a=t.indexOf(lv,o);switch((a<0||a>n)&&_e(),t.charAt(a+1)){case"":const s=t.substring(o,a);let l;i.length===0?l=s:(i+=s,l=i,i=""),r.push(l);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:_e()}o=a+2}return new dt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl="remoteDocuments",fm="owner",Pc="owner",tp="mutationQueues",LX="userId",Si="mutations",D2="batchId",bl="userMutationsIndex",M2=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t,e){return[t,er(e)]}function c5(t,e,n){return[t,er(e),n]}const $X={},qu="documentMutations",cv="remoteDocumentsV14",VX=["prefixPath","collectionGroup","readTime","documentId"],hy="documentKeyIndex",FX=["prefixPath","collectionGroup","documentId"],u5="collectionGroupIndex",BX=["collectionGroup","readTime","prefixPath","documentId"],np="remoteDocumentGlobal",H_="remoteDocumentGlobalKey",Ku="targets",d5="queryTargetsIndex",UX=["canonicalId","targetId"],Gu="targetDocuments",zX=["targetId","path"],lI="documentTargetsIndex",WX=["path","targetId"],uv="targetGlobalKey",jl="targetGlobal",rp="collectionParents",HX=["collectionId","parent"],Xu="clientMetadata",qX="clientId",ux="bundles",KX="bundleId",dx="namedQueries",GX="name",cI="indexConfiguration",XX="indexId",q_="collectionGroupIndex",QX="collectionGroup",dv="indexState",YX=["indexId","uid"],f5="sequenceNumberIndex",JX=["uid","sequenceNumber"],fv="indexEntries",ZX=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],h5="documentKeyIndex",eQ=["indexId","uid","orderedDocumentKey"],fx="documentOverlays",tQ=["userId","collectionPath","documentId"],K_="collectionPathOverlayIndex",nQ=["userId","collectionPath","largestBatchId"],p5="collectionGroupOverlayIndex",rQ=["userId","collectionGroup","largestBatchId"],uI="globals",iQ="name",m5=[tp,Si,qu,sl,Ku,fm,jl,Gu,Xu,np,rp,ux,dx],oQ=[...m5,fx],g5=[tp,Si,qu,cv,Ku,fm,jl,Gu,Xu,np,rp,ux,dx,fx],y5=g5,dI=[...y5,cI,dv,fv],aQ=dI,sQ=[...dI,uI];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_ extends s5{constructor(e,n){super(),this.ue=e,this.currentSequenceNumber=n}}function yn(t,e){const n=Ve(t);return as.M(n.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Rs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lQ(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function v5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){this.comparator=e,this.root=n||jn.EMPTY}insert(e,n){return new Ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _g(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _g(this.root,e,this.comparator,!1)}getReverseIterator(){return new _g(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _g(this.root,e,this.comparator,!0)}}class _g{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??jn.RED,this.left=i??jn.EMPTY,this.right=o??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new jn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,r,i,o){return this}insert(e,n,r){return new jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $2(this.data.getIterator())}getIteratorFrom(e){return new $2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class $2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function kc(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new br([])}unionWith(e){let n=new bt(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new x5("Invalid base64 string: "+o):o}}(e);return new dn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const cQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ko(t){if(Ie(!!t),typeof t=="string"){let e=0;const n=cQ.exec(t);if(Ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lt(t.seconds),nanos:Lt(t.nanos)}}function Lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Go(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="server_timestamp",w5="__type__",_5="__previous_value__",S5="__local_write_time__";function fI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[w5])===null||n===void 0?void 0:n.stringValue)===b5}function hx(t){const e=t.mapValue.fields[_5];return fI(e)?hx(e):e}function ip(t){const e=Ko(t.mapValue.fields[S5].timestampValue);return new Gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(e,n,r,i,o,a,s,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=c}}const hv="(default)";class Xl{constructor(e,n){this.projectId=e,this.database=n||hv}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===hv}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="__type__",E5="__max__",Ha={mapValue:{fields:{__type__:{stringValue:E5}}}},pI="__vector__",Qu="value",py={nullValue:"NULL_VALUE"};function ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fI(t)?4:T5(t)?9007199254740991:px(t)?10:11:_e()}function fo(t,e){if(t===e)return!0;const n=ps(t);if(n!==ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ip(t).isEqual(ip(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Ko(i.timestampValue),s=Ko(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Go(i.bytesValue).isEqual(Go(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Lt(i.geoPointValue.latitude)===Lt(o.geoPointValue.latitude)&&Lt(i.geoPointValue.longitude)===Lt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Lt(i.integerValue)===Lt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Lt(i.doubleValue),s=Lt(o.doubleValue);return a===s?ep(a)===ep(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return Hu(t.arrayValue.values||[],e.arrayValue.values||[],fo);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(L2(a)!==L2(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!fo(a[l],s[l])))return!1;return!0}(t,e);default:return _e()}}function op(t,e){return(t.values||[]).find(n=>fo(n,e))!==void 0}function ms(t,e){if(t===e)return 0;const n=ps(t),r=ps(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=Lt(o.integerValue||o.doubleValue),l=Lt(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return V2(t.timestampValue,e.timestampValue);case 4:return V2(ip(t),ip(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(o,a){const s=Go(o),l=Go(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let c=0;c<s.length&&c<l.length;c++){const d=Fe(s[c],l[c]);if(d!==0)return d}return Fe(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=Fe(Lt(o.latitude),Lt(a.latitude));return s!==0?s:Fe(Lt(o.longitude),Lt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return F2(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,c,d;const f=o.fields||{},h=a.fields||{},m=(s=f[Qu])===null||s===void 0?void 0:s.arrayValue,y=(l=h[Qu])===null||l===void 0?void 0:l.arrayValue,g=Fe(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return g!==0?g:F2(m,y)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Ha.mapValue&&a===Ha.mapValue)return 0;if(o===Ha.mapValue)return 1;if(a===Ha.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),c=a.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=Fe(l[f],d[f]);if(h!==0)return h;const m=ms(s[l[f]],c[d[f]]);if(m!==0)return m}return Fe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw _e()}}function V2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Ko(t),r=Ko(e),i=Fe(n.seconds,r.seconds);return i!==0?i:Fe(n.nanos,r.nanos)}function F2(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ms(n[i],r[i]);if(o)return o}return Fe(n.length,r.length)}function Yu(t){return X_(t)}function X_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ko(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Go(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=X_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${X_(n.fields[a])}`;return i+"}"}(t.mapValue):_e()}function my(t){switch(ps(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hx(t);return e?16+my(e):16;case 5:return 2*t.stringValue.length;case 6:return Go(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+my(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Rs(r.fields,(o,a)=>{i+=o.length+my(a)}),i}(t.mapValue);default:throw _e()}}function ap(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Q_(t){return!!t&&"integerValue"in t}function sp(t){return!!t&&"arrayValue"in t}function B2(t){return!!t&&"nullValue"in t}function U2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gy(t){return!!t&&"mapValue"in t}function px(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[hI])===null||n===void 0?void 0:n.stringValue)===pI}function xh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Rs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function T5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===E5}const I5={mapValue:{fields:{[hI]:{stringValue:pI},[Qu]:{arrayValue:{}}}}};function dQ(t){return"nullValue"in t?py:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ap(Xl.empty(),ye.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?px(t)?I5:{mapValue:{}}:_e()}function fQ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ap(Xl.empty(),ye.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?I5:"mapValue"in t?px(t)?{mapValue:{}}:Ha:_e()}function z2(t,e){const n=ms(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function W2(t,e){const n=ms(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xh(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=xh(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());gy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Rs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Jn(xh(this.value))}}function A5(t){const e=[];return Rs(t.fields,(n,r)=>{const i=new Wt([n]);if(gy(r)){const o=A5(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new tn(e,0,Re.min(),Re.min(),Re.min(),Jn.empty(),0)}static newFoundDocument(e,n,r,i){return new tn(e,1,n,Re.min(),r,i,0)}static newNoDocument(e,n){return new tn(e,2,n,Re.min(),Re.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Re.min(),Re.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.position=e,this.inclusive=n}}function H2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ye.comparator(ye.fromName(a.referenceValue),n.key):r=ms(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function q2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n="asc"){this.field=e,this.dir=n}}function hQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{}class tt extends C5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pQ(e,n,r):n==="array-contains"?new yQ(e,r):n==="in"?new j5(e,r):n==="not-in"?new vQ(e,r):n==="array-contains-any"?new xQ(e,r):new tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mQ(e,r):new gQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ms(n,this.value)):n!==null&&ps(this.value)===ps(n)&&this.matchesComparison(ms(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gt extends C5{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new gt(e,n)}matches(e){return Zu(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Zu(t){return t.op==="and"}function Y_(t){return t.op==="or"}function mI(t){return P5(t)&&Zu(t)}function P5(t){for(const e of t.filters)if(e instanceof gt)return!1;return!0}function J_(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+Yu(t.value);if(mI(t))return t.filters.map(e=>J_(e)).join(",");{const e=t.filters.map(n=>J_(n)).join(",");return`${t.op}(${e})`}}function k5(t,e){return t instanceof tt?function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&fo(r.value,i.value)}(t,e):t instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&k5(a,i.filters[s]),!0):!1}(t,e):void _e()}function N5(t,e){const n=t.filters.concat(e);return gt.create(n,t.op)}function O5(t){return t instanceof tt?function(n){return`${n.field.canonicalString()} ${n.op} ${Yu(n.value)}`}(t):t instanceof gt?function(n){return n.op.toString()+" {"+n.getFilters().map(O5).join(" ,")+"}"}(t):"Filter"}class pQ extends tt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class mQ extends tt{constructor(e,n){super(e,"in",n),this.keys=R5("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gQ extends tt{constructor(e,n){super(e,"not-in",n),this.keys=R5("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function R5(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class yQ extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sp(n)&&op(n.arrayValue,this.value)}}class j5 extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&op(this.value.arrayValue,n)}}class vQ extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(op(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!op(this.value.arrayValue,n)}}class xQ extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>op(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.le=null}}function Z_(t,e=null,n=[],r=[],i=null,o=null,a=null){return new bQ(t,e,n,r,i,o,a)}function Ql(t){const e=Ve(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>J_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),cx(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yu(r)).join(",")),e.le=n}return e.le}function hm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!k5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!q2(t.startAt,e.startAt)&&q2(t.endAt,e.endAt)}function pv(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function mv(t,e){return t.filters.filter(n=>n instanceof tt&&n.field.isEqual(e))}function K2(t,e,n){let r=py,i=!0;for(const o of mv(t,e)){let a=py,s=!0;switch(o.op){case"<":case"<=":a=dQ(o.value);break;case"==":case"in":case">=":a=o.value;break;case">":a=o.value,s=!1;break;case"!=":case"not-in":a=py}z2({value:r,inclusive:i},{value:a,inclusive:s})<0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];z2({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function G2(t,e,n){let r=Ha,i=!0;for(const o of mv(t,e)){let a=Ha,s=!0;switch(o.op){case">=":case">":a=fQ(o.value),s=!1;break;case"==":case"in":case"<=":a=o.value;break;case"<":a=o.value,s=!1;break;case"!=":case"not-in":a=Ha}W2({value:r,inclusive:i},{value:a,inclusive:s})>0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];W2({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function wQ(t,e,n,r,i,o,a,s){return new Bd(t,e,n,r,i,o,a,s)}function mx(t){return new Bd(t)}function X2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function D5(t){return t.collectionGroup!==null}function bh(t){const e=Ve(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new bt(Wt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(s=s.add(c.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new lp(o,r))}),n.has(Wt.keyField().canonicalString())||e.he.push(new lp(Wt.keyField(),r))}return e.he}function oi(t){const e=Ve(t);return e.Pe||(e.Pe=M5(e,bh(t))),e.Pe}function _Q(t){const e=Ve(t);return e.Te||(e.Te=M5(e,t.explicitOrderBy)),e.Te}function M5(t,e){if(t.limitType==="F")return Z_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new lp(i.field,o)});const n=t.endAt?new Ju(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ju(t.startAt.position,t.startAt.inclusive):null;return Z_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eS(t,e){const n=t.filters.concat([e]);return new Bd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gv(t,e,n){return new Bd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gx(t,e){return hm(oi(t),oi(e))&&t.limitType===e.limitType}function L5(t){return`${Ql(oi(t))}|lt:${t.limitType}`}function Wc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>O5(i)).join(", ")}]`),cx(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Yu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Yu(i)).join(",")),`Target(${r})`}(oi(t))}; limitType=${t.limitType})`}function pm(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of bh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const c=H2(a,s,l);return a.inclusive?c<=0:c<0}(r.startAt,bh(r),i)||r.endAt&&!function(a,s,l){const c=H2(a,s,l);return a.inclusive?c>=0:c>0}(r.endAt,bh(r),i))}(t,e)}function SQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $5(t){return(e,n)=>{let r=!1;for(const i of bh(t)){const o=EQ(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function EQ(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),c=s.data.field(o);return l!==null&&c!==null?ms(l,c):_e()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return v5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TQ=new Ft(ye.comparator);function Fr(){return TQ}const V5=new Ft(ye.comparator);function nh(...t){let e=V5;for(const n of t)e=e.insert(n.key,n);return e}function F5(t){let e=V5;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function to(){return wh()}function B5(){return wh()}function wh(){return new la(t=>t.toString(),(t,e)=>t.isEqual(e))}const IQ=new Ft(ye.comparator),AQ=new bt(ye.comparator);function Ge(...t){let e=AQ;for(const n of t)e=e.add(n);return e}const CQ=new bt(Fe);function PQ(){return CQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ep(e)?"-0":e}}function U5(t){return{integerValue:""+t}}function kQ(t,e){return DX(e)?U5(e):gI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this._=void 0}}function NQ(t,e,n){return t instanceof ed?function(i,o){const a={fields:{[w5]:{stringValue:b5},[S5]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&fI(o)&&(o=hx(o)),o&&(a.fields[_5]=o),{mapValue:a}}(n,e):t instanceof td?W5(t,e):t instanceof nd?H5(t,e):function(i,o){const a=z5(i,o),s=Q2(a)+Q2(i.Ie);return Q_(a)&&Q_(i.Ie)?U5(s):gI(i.serializer,s)}(t,e)}function OQ(t,e,n){return t instanceof td?W5(t,e):t instanceof nd?H5(t,e):n}function z5(t,e){return t instanceof cp?function(r){return Q_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ed extends yx{}class td extends yx{constructor(e){super(),this.elements=e}}function W5(t,e){const n=q5(e);for(const r of t.elements)n.some(i=>fo(i,r))||n.push(r);return{arrayValue:{values:n}}}class nd extends yx{constructor(e){super(),this.elements=e}}function H5(t,e){let n=q5(e);for(const r of t.elements)n=n.filter(i=>!fo(i,r));return{arrayValue:{values:n}}}class cp extends yx{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Q2(t){return Lt(t.integerValue||t.doubleValue)}function q5(t){return sp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n){this.field=e,this.transform=n}}function RQ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof td&&i instanceof td||r instanceof nd&&i instanceof nd?Hu(r.elements,i.elements,fo):r instanceof cp&&i instanceof cp?fo(r.Ie,i.Ie):r instanceof ed&&i instanceof ed}(t.transform,e.transform)}class jQ{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let vx=class{};function G5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xx(t.key,Zn.none()):new Ud(t.key,t.data,Zn.none());{const n=t.data,r=Jn.empty();let i=new bt(Wt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new ca(t.key,r,new br(i.toArray()),Zn.none())}}function DQ(t,e,n){t instanceof Ud?function(i,o,a){const s=i.value.clone(),l=J2(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof ca?function(i,o,a){if(!yy(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=J2(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(X5(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function _h(t,e,n,r){return t instanceof Ud?function(o,a,s,l){if(!yy(o.precondition,a))return s;const c=o.value.clone(),d=Z2(o.fieldTransforms,l,a);return c.setAll(d),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ca?function(o,a,s,l){if(!yy(o.precondition,a))return s;const c=Z2(o.fieldTransforms,l,a),d=a.data;return d.setAll(X5(o)),d.setAll(c),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return yy(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function MQ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=z5(r.transform,i||null);o!=null&&(n===null&&(n=Jn.empty()),n.set(r.field,o))}return n||null}function Y2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hu(r,i,(o,a)=>RQ(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ud extends vx{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ca extends vx{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function X5(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function J2(t,e,n){const r=new Map;Ie(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,OQ(a,s,n[i]))}return r}function Z2(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,NQ(o,a,e))}return r}class xx extends vx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q5 extends vx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&DQ(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_h(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_h(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=B5();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=G5(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ge())}isEqual(e){return this.batchId===e.batchId&&Hu(this.mutations,e.mutations,(n,r)=>Y2(n,r))&&Hu(this.baseMutations,e.baseMutations,(n,r)=>Y2(n,r))}}class vI{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length);let i=function(){return IQ}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new vI(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LQ{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,it;function VQ(t){switch(t){case Z.OK:return _e();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return _e()}}function Y5(t){if(t===void 0)return cr("GRPC error has no .code"),Z.UNKNOWN;switch(t){case sn.OK:return Z.OK;case sn.CANCELLED:return Z.CANCELLED;case sn.UNKNOWN:return Z.UNKNOWN;case sn.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case sn.INTERNAL:return Z.INTERNAL;case sn.UNAVAILABLE:return Z.UNAVAILABLE;case sn.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case sn.NOT_FOUND:return Z.NOT_FOUND;case sn.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case sn.ABORTED:return Z.ABORTED;case sn.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case sn.DATA_LOSS:return Z.DATA_LOSS;default:return _e()}}(it=sn||(sn={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FQ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ=new os([4294967295,4294967295],0);function eN(t){const e=FQ().encode(t),n=new Y4;return n.update(e),new Uint8Array(n.digest())}function tN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new os([n,r],0),new os([i,o],0)]}class bI{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rh(`Invalid padding: ${n}`);if(r<0)throw new rh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rh(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=os.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(os.fromNumber(r)));return i.compare(BQ)===1&&(i=new os([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=eN(e),[r,i]=tN(n);for(let o=0;o<this.hashCount;o++){const a=this.Ae(r,i,o);if(!this.Re(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new bI(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ee===0)return;const n=eN(e),[r,i]=tN(n);for(let o=0;o<this.hashCount;o++){const a=this.Ae(r,i,o);this.Ve(a)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,mm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bx(Re.min(),i,new Ft(Fe),Fr(),Ge())}}class mm{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mm(r,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class J5{constructor(e,n){this.targetId=e,this.ge=n}}class Z5{constructor(e,n,r=dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class nN{constructor(){this.pe=0,this.ye=rN(),this.we=dn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ge(),n=Ge(),r=Ge();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e()}}),new mm(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=rN()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ie(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class UQ{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Fr(),this.$e=Sg(),this.Ke=Sg(),this.Ue=new Ft(Fe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:_e()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const o=i.target;if(pv(o))if(r===0){const a=new ye(o.path);this.ze(n,a,tn.newNoDocument(a,Re.min()))}else Ie(r===1);else{const a=this.et(n);if(a!==r){const s=this.tt(e),l=s?this.nt(s,e,a):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=Go(r).toUint8Array()}catch(l){if(l instanceof x5)return Yh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new bI(a,i,o)}catch(l){return Yh(l instanceof rh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ee===0?null:s}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.ke.it(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.ze(n,o,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((o,a)=>{const s=this.Xe(a);if(s){if(o.current&&pv(s.target)){const l=new ye(s.target.path);this._t(l).has(a)||this.ut(a,l)||this.ze(a,l,tn.newNoDocument(l,e))}o.ve&&(n.set(a,o.Fe()),o.Me())}});let r=Ge();this.Ke.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.Qe.forEach((o,a)=>a.setReadTime(e));const i=new bx(e,n,this.Ue,this.Qe,r);return this.Qe=Fr(),this.$e=Sg(),this.Ke=Sg(),this.Ue=new Ft(Fe),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new nN,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new bt(Fe),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new bt(Fe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new nN),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Sg(){return new Ft(ye.comparator)}function rN(){return new Ft(ye.comparator)}const zQ={asc:"ASCENDING",desc:"DESCENDING"},WQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HQ={and:"AND",or:"OR"};class qQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tS(t,e){return t.useProto3Json||cx(e)?e:{value:e}}function rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KQ(t,e){return rd(t,e.toTimestamp())}function fr(t){return Ie(!!t),Re.fromTimestamp(function(n){const r=Ko(n);return new Gt(r.seconds,r.nanos)}(t))}function wI(t,e){return nS(t,e).canonicalString()}function nS(t,e){const n=function(i){return new dt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function t6(t){const e=dt.fromString(t);return Ie(c6(e)),e}function yv(t,e){return wI(t.databaseId,e.path)}function Dl(t,e){const n=t6(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(i6(n))}function n6(t,e){return wI(t.databaseId,e)}function r6(t){const e=t6(t);return e.length===4?dt.emptyPath():i6(e)}function rS(t){return new dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function i6(t){return Ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function iN(t,e,n){return{name:yv(t,e),fields:n.value.mapValue.fields}}function GQ(t,e,n){const r=Dl(t,e.name),i=fr(e.updateTime),o=e.createTime?fr(e.createTime):Re.min(),a=new Jn({mapValue:{fields:e.fields}}),s=tn.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function XQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(Ie(d===void 0||typeof d=="string"),dn.fromBase64String(d||"")):(Ie(d===void 0||d instanceof Buffer||d instanceof Uint8Array),dn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(c){const d=c.code===void 0?Z.UNKNOWN:Y5(c.code);return new pe(d,c.message||"")}(a);n=new Z5(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Dl(t,r.document.name),o=fr(r.document.updateTime),a=r.document.createTime?fr(r.document.createTime):Re.min(),s=new Jn({mapValue:{fields:r.document.fields}}),l=tn.newFoundDocument(i,o,a,s),c=r.targetIds||[],d=r.removedTargetIds||[];n=new vy(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Dl(t,r.document),o=r.readTime?fr(r.readTime):Re.min(),a=tn.newNoDocument(i,o),s=r.removedTargetIds||[];n=new vy([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Dl(t,r.document),o=r.removedTargetIds||[];n=new vy([],o,i,null)}else{if(!("filter"in e))return _e();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new $Q(i,o),s=r.targetId;n=new J5(s,a)}}return n}function vv(t,e){let n;if(e instanceof Ud)n={update:iN(t,e.key,e.value)};else if(e instanceof xx)n={delete:yv(t,e.key)};else if(e instanceof ca)n={update:iN(t,e.key,e.data),updateMask:nY(e.fieldMask)};else{if(!(e instanceof Q5))return _e();n={verify:yv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof ed)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof td)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof nd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof cp)return{fieldPath:a.field.canonicalString(),increment:s.Ie};throw _e()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:KQ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:_e()}(t,e.precondition)),n}function iS(t,e){const n=e.currentDocument?function(o){return o.updateTime!==void 0?Zn.updateTime(fr(o.updateTime)):o.exists!==void 0?Zn.exists(o.exists):Zn.none()}(e.currentDocument):Zn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,s){let l=null;if("setToServerValue"in s)Ie(s.setToServerValue==="REQUEST_TIME"),l=new ed;else if("appendMissingElements"in s){const d=s.appendMissingElements.values||[];l=new td(d)}else if("removeAllFromArray"in s){const d=s.removeAllFromArray.values||[];l=new nd(d)}else"increment"in s?l=new cp(a,s.increment):_e();const c=Wt.fromServerFormat(s.fieldPath);return new K5(c,l)}(t,i)):[];if(e.update){e.update.name;const i=Dl(t,e.update.name),o=new Jn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(l){const c=l.fieldPaths||[];return new br(c.map(d=>Wt.fromServerFormat(d)))}(e.updateMask);return new ca(i,o,a,n,r)}return new Ud(i,o,n,r)}if(e.delete){const i=Dl(t,e.delete);return new xx(i,n)}if(e.verify){const i=Dl(t,e.verify);return new Q5(i,n)}return _e()}function QQ(t,e){return t&&t.length>0?(Ie(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?fr(i.updateTime):fr(o);return a.isEqual(Re.min())&&(a=fr(o)),new jQ(a,i.transformResults||[])}(n,e))):[]}function o6(t,e){return{documents:[n6(t,e.path)]}}function _I(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=n6(t,i);const o=function(c){if(c.length!==0)return l6(gt.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(c){if(c.length!==0)return c.map(d=>function(h){return{field:Na(h.field),direction:ZQ(h.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=tS(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i}}function YQ(t,e,n,r){const{ht:i,parent:o}=_I(t,e),a={},s=[];let l=0;return n.forEach(c=>{const d="aggregate_"+l++;a[d]=c.alias,c.aggregateType==="count"?s.push({alias:d,count:{}}):c.aggregateType==="avg"?s.push({alias:d,avg:{field:Na(c.fieldPath)}}):c.aggregateType==="sum"&&s.push({alias:d,sum:{field:Na(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:s,structuredQuery:i.structuredQuery},parent:i.parent},Pt:a,parent:o}}function a6(t){let e=r6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ie(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=s6(f);return h instanceof gt&&mI(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(h=>function(y){return new lp(Hc(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,cx(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new Ju(m,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,m=f.values||[];return new Ju(m,h)}(n.endAt)),wQ(e,i,a,o,s,"F",l,c)}function JQ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function s6(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Hc(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Hc(n.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Hc(n.unaryFilter.field);return tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Hc(n.unaryFilter.field);return tt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(t):t.fieldFilter!==void 0?function(n){return tt.create(Hc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gt.create(n.compositeFilter.filters.map(r=>s6(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(t):_e()}function ZQ(t){return zQ[t]}function eY(t){return WQ[t]}function tY(t){return HQ[t]}function Na(t){return{fieldPath:t.canonicalString()}}function Hc(t){return Wt.fromServerFormat(t.fieldPath)}function l6(t){return t instanceof tt?function(n){if(n.op==="=="){if(U2(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NAN"}};if(B2(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(U2(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NOT_NAN"}};if(B2(n.value))return{unaryFilter:{field:Na(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(n.field),op:eY(n.op),value:n.value}}}(t):t instanceof gt?function(n){const r=n.getFilters().map(i=>l6(i));return r.length===1?r[0]:{compositeFilter:{op:tY(n.op),filters:r}}}(t):_e()}function nY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function c6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n,r,i,o=Re.min(),a=Re.min(),s=dn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new Po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.Tt=e}}function rY(t,e){let n;if(e.document)n=GQ(t.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ye.fromSegments(e.noDocument.path),i=Jl(e.noDocument.readTime);n=tn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return _e();{const r=ye.fromSegments(e.unknownDocument.path),i=Jl(e.unknownDocument.version);n=tn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new Gt(i[0],i[1]);return Re.fromTimestamp(o)}(e.readTime)),n}function oN(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:xv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,a){return{name:yv(o,a.key),fields:a.data.value.mapValue.fields,updateTime:rd(o,a.version.toTimestamp()),createTime:rd(o,a.createTime.toTimestamp())}}(t.Tt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Yl(e.version)};else{if(!e.isUnknownDocument())return _e();r.unknownDocument={path:n.path.toArray(),version:Yl(e.version)}}return r}function xv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Yl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Jl(t){const e=new Gt(t.seconds,t.nanoseconds);return Re.fromTimestamp(e)}function hl(t,e){const n=(e.baseMutations||[]).map(o=>iS(t.Tt,o));for(let o=0;o<e.mutations.length-1;++o){const a=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const s=e.mutations[o+1];a.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>iS(t.Tt,o)),i=Gt.fromMillis(e.localWriteTimeMs);return new yI(e.batchId,i,n,r)}function ih(t){const e=Jl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Jl(t.lastLimboFreeSnapshotVersion):Re.min();let r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return Ie(o.documents.length===1),oi(mx(r6(o.documents[0])))}(t.query):function(o){return oi(a6(o))}(t.query),new Po(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,dn.fromBase64String(t.resumeToken))}function d6(t,e){const n=Yl(e.snapshotVersion),r=Yl(e.lastLimboFreeSnapshotVersion);let i;i=pv(e.target)?o6(t.Tt,e.target):_I(t.Tt,e.target).ht;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ql(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function f6(t){const e=a6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gv(e,e.limit,"L"):e}function Uw(t,e){return new xI(e.largestBatchId,iS(t.Tt,e.overlayMutation))}function aN(t,e){const n=e.path.lastSegment();return[t,er(e.path.popLast()),n]}function sN(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Yl(r.readTime),documentKey:er(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{getBundleMetadata(e,n){return lN(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:Jl(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return lN(e).put(function(i){return{bundleId:i.id,createTime:Yl(fr(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return cN(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:f6(o.bundledQuery),readTime:Jl(o.readTime)}}(r)})}saveNamedQuery(e,n){return cN(e).put(function(i){return{name:i.name,readTime:Yl(fr(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function lN(t){return yn(t,ux)}function cN(t){return yn(t,dx)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n){this.serializer=e,this.userId=n}static It(e,n){const r=n.uid||"";return new wx(e,r)}getOverlay(e,n){return jf(e).get(aN(this.userId,n)).next(r=>r?Uw(this.serializer,r):null)}getOverlays(e,n){const r=to();return z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,a)=>{const s=new xI(n,a);i.push(this.Et(e,s))}),z.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(a=>i.add(er(a.getCollectionPath())));const o=[];return i.forEach(a=>{const s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);o.push(jf(e).J(K_,s))}),z.waitFor(o)}getOverlaysForCollection(e,n,r){const i=to(),o=er(n),a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return jf(e).G(K_,a).next(s=>{for(const l of s){const c=Uw(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=to();let a;const s=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return jf(e).Z({index:p5,range:s},(l,c,d)=>{const f=Uw(this.serializer,c);o.size()<i||f.largestBatchId===a?(o.set(f.getKey(),f),a=f.largestBatchId):d.done()}).next(()=>o)}Et(e,n){return jf(e).put(function(i,o,a){const[s,l,c]=aN(o,a.mutation.key);return{userId:o,collectionPath:l,documentId:c,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:vv(i.Tt,a.mutation)}}(this.serializer,this.userId,n))}}function jf(t){return yn(t,fx)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oY{dt(e){return yn(e,uI)}getSessionToken(e){return this.dt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?dn.fromUint8Array(r):dn.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.dt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){}At(e,n){this.Rt(e,n),n.Vt()}Rt(e,n){if("nullValue"in e)this.ft(n,5);else if("booleanValue"in e)this.ft(n,10),n.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(n,15),n.gt(Lt(e.integerValue));else if("doubleValue"in e){const r=Lt(e.doubleValue);isNaN(r)?this.ft(n,13):(this.ft(n,15),ep(r)?n.gt(0):n.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(n,20),typeof r=="string"&&(r=Ko(r)),n.yt(`${r.seconds||""}`),n.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,n),this.St(n);else if("bytesValue"in e)this.ft(n,30),n.bt(Go(e.bytesValue)),this.St(n);else if("referenceValue"in e)this.Dt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(n,45),n.gt(r.latitude||0),n.gt(r.longitude||0)}else"mapValue"in e?T5(e)?this.ft(n,Number.MAX_SAFE_INTEGER):px(e)?this.vt(e.mapValue,n):(this.Ct(e.mapValue,n),this.St(n)):"arrayValue"in e?(this.Ft(e.arrayValue,n),this.St(n)):_e()}wt(e,n){this.ft(n,25),this.Mt(e,n)}Mt(e,n){n.yt(e)}Ct(e,n){const r=e.fields||{};this.ft(n,55);for(const i of Object.keys(r))this.wt(i,n),this.Rt(r[i],n)}vt(e,n){var r,i;const o=e.fields||{};this.ft(n,53);const a=Qu,s=((i=(r=o[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(n,15),n.gt(Lt(s)),this.wt(a,n),this.Rt(o[a],n)}Ft(e,n){const r=e.values||[];this.ft(n,50);for(const i of r)this.Rt(i,n)}Dt(e,n){this.ft(n,37),ye.fromName(e).path.forEach(r=>{this.ft(n,60),this.Mt(r,n)})}ft(e,n){e.gt(n)}St(e){e.gt(2)}}pl.xt=new pl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=255;function aY(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function uN(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const a=aY(255&r[o]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class sY{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Nt(r.value),r=n.next();this.Bt()}Lt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.kt(r.value),r=n.next();this.qt()}Qt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=n.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=n.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const n=this.Ut(e),r=uN(n);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Gt(e){const n=this.Ut(e),r=uN(n);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}zt(){this.jt(Nc),this.jt(255)}Ht(){this.Jt(Nc),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const n=function(o){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,o,!1),new Uint8Array(a.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Nt(e){const n=255&e;n===0?(this.jt(0),this.jt(255)):n===Nc?(this.jt(Nc),this.jt(0)):this.jt(n)}kt(e){const n=255&e;n===0?(this.Jt(0),this.Jt(255)):n===Nc?(this.Jt(Nc),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class lY{constructor(e){this.Zt=e}bt(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class cY{constructor(e){this.Zt=e}bt(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class Df{constructor(){this.Zt=new sY,this.Xt=new lY(this.Zt),this.en=new cY(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ml(this.indexId,this.documentKey,this.arrayValue,r)}}function ba(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=dN(t.arrayValue,e.arrayValue),n!==0?n:(n=dN(t.directionalValue,e.directionalValue),n!==0?n:ye.comparator(t.documentKey,e.documentKey)))}function dN(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.rn=new bt((n,r)=>Wt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const n of e.filters){const r=n;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Ie(e.collectionGroup===this.collectionId),this.an)return!1;const n=W_(e);if(n!==void 0&&!this.cn(n))return!1;const r=al(e);let i=new Set,o=0,a=0;for(;o<r.length&&this.cn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.rn.size>0){const s=this.rn.getIterator().getNext();if(!i.has(s.field.canonicalString())){const l=r[o];if(!this.ln(s,l)||!this.hn(this.sn[a++],l))return!1}++o}for(;o<r.length;++o){const s=r[o];if(a>=this.sn.length||!this.hn(this.sn[a++],s))return!1}return!0}Pn(){if(this.an)return null;let e=new bt(Wt.comparator);const n=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new dy(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new dy(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new dy(r.field,r.dir==="asc"?0:1)));return new sv(sv.UNKNOWN_ID,this.collectionId,n,Zh.empty())}cn(e){for(const n of this._n)if(this.ln(n,e))return!0;return!1}ln(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}hn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t){var e,n;if(Ie(t instanceof tt||t instanceof gt),t instanceof tt){if(t instanceof j5){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>tt.create(t.field,"==",o)))||[];return gt.create(i,"or")}return t}const r=t.filters.map(i=>h6(i));return gt.create(r,t.op)}function uY(t){if(t.getFilters().length===0)return[];const e=sS(h6(t));return Ie(p6(e)),oS(e)||aS(e)?[e]:e.getFilters()}function oS(t){return t instanceof tt}function aS(t){return t instanceof gt&&mI(t)}function p6(t){return oS(t)||aS(t)||function(n){if(n instanceof gt&&Y_(n)){for(const r of n.getFilters())if(!oS(r)&&!aS(r))return!1;return!0}return!1}(t)}function sS(t){if(Ie(t instanceof tt||t instanceof gt),t instanceof tt)return t;if(t.filters.length===1)return sS(t.filters[0]);const e=t.filters.map(r=>sS(r));let n=gt.create(e,t.op);return n=bv(n),p6(n)?n:(Ie(n instanceof gt),Ie(Zu(n)),Ie(n.filters.length>1),n.filters.reduce((r,i)=>SI(r,i)))}function SI(t,e){let n;return Ie(t instanceof tt||t instanceof gt),Ie(e instanceof tt||e instanceof gt),n=t instanceof tt?e instanceof tt?function(i,o){return gt.create([i,o],"and")}(t,e):hN(t,e):e instanceof tt?hN(e,t):function(i,o){if(Ie(i.filters.length>0&&o.filters.length>0),Zu(i)&&Zu(o))return N5(i,o.getFilters());const a=Y_(i)?i:o,s=Y_(i)?o:i,l=a.filters.map(c=>SI(c,s));return gt.create(l,"or")}(t,e),bv(n)}function hN(t,e){if(Zu(e))return N5(e,t.getFilters());{const n=e.filters.map(r=>SI(t,r));return gt.create(n,"or")}}function bv(t){if(Ie(t instanceof tt||t instanceof gt),t instanceof tt)return t;const e=t.getFilters();if(e.length===1)return bv(e[0]);if(P5(t))return t;const n=e.map(i=>bv(i)),r=[];return n.forEach(i=>{i instanceof tt?r.push(i):i instanceof gt&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:gt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(){this.Tn=new EI}addToCollectionParentIndex(e,n){return this.Tn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Wr.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class EI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new bt(dt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new bt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="IndexedDbIndexManager",Eg=new Uint8Array(0);class fY{constructor(e,n){this.databaseId=n,this.In=new EI,this.En=new la(r=>Ql(r),(r,i)=>hm(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.In.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.In.add(n)});const o={collectionId:r,parent:er(i)};return mN(e).put(o)}return z.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[i5(n),""],!1,!0);return mN(e).G(i).next(o=>{for(const a of o){if(a.collectionId!==n)break;r.push(eo(a.parent))}return r})}addFieldIndex(e,n){const r=Mf(e),i=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const a=Rc(e);return o.next(s=>{a.put(sN(s,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=Mf(e),i=Rc(e),o=Oc(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Mf(e),r=Oc(e),i=Rc(e);return n.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,n){return z.forEach(this.dn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new fN(r).Pn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=Oc(e);let i=!0;const o=new Map;return z.forEach(this.dn(n),a=>this.An(e,a).next(s=>{i&&(i=!!s),o.set(a,s)})).next(()=>{if(i){let a=Ge();const s=[];return z.forEach(o,(l,c)=>{ae(pN,`Using index ${function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(S=>`${S.fieldPath}:${S.kind}`).join(",")}`}(l)} to execute ${Ql(n)}`);const d=function(w,S){const A=W_(S);if(A===void 0)return null;for(const C of mv(w,A.fieldPath))switch(C.op){case"array-contains-any":return C.value.arrayValue.values||[];case"array-contains":return[C.value]}return null}(c,l),f=function(w,S){const A=new Map;for(const C of al(S))for(const T of mv(w,C.fieldPath))switch(T.op){case"==":case"in":A.set(C.fieldPath.canonicalString(),T.value);break;case"not-in":case"!=":return A.set(C.fieldPath.canonicalString(),T.value),Array.from(A.values())}return null}(c,l),h=function(w,S){const A=[];let C=!0;for(const T of al(S)){const E=T.kind===0?K2(w,T.fieldPath,w.startAt):G2(w,T.fieldPath,w.startAt);A.push(E.value),C&&(C=E.inclusive)}return new Ju(A,C)}(c,l),m=function(w,S){const A=[];let C=!0;for(const T of al(S)){const E=T.kind===0?G2(w,T.fieldPath,w.endAt):K2(w,T.fieldPath,w.endAt);A.push(E.value),C&&(C=E.inclusive)}return new Ju(A,C)}(c,l),y=this.Rn(l,c,h),g=this.Rn(l,c,m),v=this.Vn(l,c,f),b=this.mn(l.indexId,d,y,h.inclusive,g,m.inclusive,v);return z.forEach(b,x=>r.H(x,n.limit).next(w=>{w.forEach(S=>{const A=ye.fromSegments(S.documentKey);a.has(A)||(a=a.add(A),s.push(A))})}))}).next(()=>s)}return z.resolve(null)})}dn(e){let n=this.En.get(e);return n||(e.filters.length===0?n=[e]:n=uY(gt.create(e.filters,"and")).map(r=>Z_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,n),n)}mn(e,n,r,i,o,a,s){const l=(n!=null?n.length:1)*Math.max(r.length,o.length),c=l/(n!=null?n.length:1),d=[];for(let f=0;f<l;++f){const h=n?this.fn(n[f/c]):Eg,m=this.gn(e,h,r[f%c],i),y=this.pn(e,h,o[f%c],a),g=s.map(v=>this.gn(e,h,v,!0));d.push(...this.createRange(m,y,g))}return d}gn(e,n,r,i){const o=new ml(e,ye.empty(),n,r);return i?o:o.nn()}pn(e,n,r,i){const o=new ml(e,ye.empty(),n,r);return i?o.nn():o}An(e,n){const r=new fN(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let a=null;for(const s of o)r.un(s)&&(!a||s.fields.length>a.fields.length)&&(a=s);return a})}getIndexType(e,n){let r=2;const i=this.dn(n);return z.forEach(i,o=>this.An(e,o).next(a=>{a?r!==0&&a.fields.length<function(l){let c=new bt(Wt.comparator),d=!1;for(const f of l.filters)for(const h of f.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?d=!0:c=c.add(h.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(d?1:0)}(o)&&(r=1):r=0})).next(()=>function(a){return a.limit!==null}(n)&&i.length>1&&r===2?1:r)}yn(e,n){const r=new Df;for(const i of al(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const a=r.tn(i.kind);pl.xt.At(o,a)}return r.Yt()}fn(e){const n=new Df;return pl.xt.At(e,n.tn(0)),n.Yt()}wn(e,n){const r=new Df;return pl.xt.At(ap(this.databaseId,n),r.tn(function(o){const a=al(o);return a.length===0?0:a[a.length-1].kind}(e))),r.Yt()}Vn(e,n,r){if(r===null)return[];let i=[];i.push(new Df);let o=0;for(const a of al(e)){const s=r[o++];for(const l of i)if(this.Sn(n,a.fieldPath)&&sp(s))i=this.bn(i,a,s);else{const c=l.tn(a.kind);pl.xt.At(s,c)}}return this.Dn(i)}Rn(e,n,r){return this.Vn(e,n,r.position)}Dn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Yt();return n}bn(e,n,r){const i=[...e],o=[];for(const a of r.arrayValue.values||[])for(const s of i){const l=new Df;l.seed(s.Yt()),pl.xt.At(a,l.tn(n.kind)),o.push(l)}return o}Sn(e,n){return!!e.filters.find(r=>r instanceof tt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Mf(e),i=Rc(e);return(n?r.G(q_,IDBKeyRange.bound(n,n)):r.G()).next(o=>{const a=[];return z.forEach(o,s=>i.get([s.indexId,this.uid]).next(l=>{a.push(function(d,f){const h=f?new Zh(f.sequenceNumber,new Wr(Jl(f.readTime),new ye(eo(f.documentKey)),f.largestBatchId)):Zh.empty(),m=d.fields.map(([y,g])=>new dy(Wt.fromServerFormat(y),g));return new sv(d.indexId,d.collectionGroup,m,h)}(s,l))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Fe(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Mf(e),o=Rc(e);return this.vn(e).next(a=>i.G(q_,IDBKeyRange.bound(n,n)).next(s=>z.forEach(s,l=>o.put(sN(l.indexId,this.uid,a,r)))))}updateIndexEntries(e,n){const r=new Map;return z.forEach(n,(i,o)=>{const a=r.get(i.collectionGroup);return(a?z.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(s=>(r.set(i.collectionGroup,s),z.forEach(s,l=>this.Cn(e,i,l).next(c=>{const d=this.Fn(o,l);return c.isEqual(d)?z.resolve():this.Mn(e,o,l,c,d)}))))})}xn(e,n,r,i){return Oc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,n.key),documentKey:n.key.path.toArray()})}On(e,n,r,i){return Oc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,n.key),n.key.path.toArray()])}Cn(e,n,r){const i=Oc(e);let o=new bt(ba);return i.Z({index:h5,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,n)])},(a,s)=>{o=o.add(new ml(r.indexId,n,s.arrayValue,s.directionalValue))}).next(()=>o)}Fn(e,n){let r=new bt(ba);const i=this.yn(n,e);if(i==null)return r;const o=W_(n);if(o!=null){const a=e.data.field(o.fieldPath);if(sp(a))for(const s of a.arrayValue.values||[])r=r.add(new ml(n.indexId,e.key,this.fn(s),i))}else r=r.add(new ml(n.indexId,e.key,Eg,i));return r}Mn(e,n,r,i,o){ae(pN,"Updating index entries for document '%s'",n.key);const a=[];return function(l,c,d,f,h){const m=l.getIterator(),y=c.getIterator();let g=kc(m),v=kc(y);for(;g||v;){let b=!1,x=!1;if(g&&v){const w=d(g,v);w<0?x=!0:w>0&&(b=!0)}else g!=null?x=!0:b=!0;b?(f(v),v=kc(y)):x?(h(g),g=kc(m)):(g=kc(m),v=kc(y))}}(i,o,ba,s=>{a.push(this.xn(e,n,r,s))},s=>{a.push(this.On(e,n,r,s))}),z.waitFor(a)}vn(e){let n=1;return Rc(e).Z({index:f5,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((a,s)=>ba(a,s)).filter((a,s,l)=>!s||ba(a,l[s-1])!==0);const i=[];i.push(e);for(const a of r){const s=ba(a,e),l=ba(a,n);if(s===0)i[0]=e.nn();else if(s>0&&l<0)i.push(a),i.push(a.nn());else if(l>0)break}i.push(n);const o=[];for(let a=0;a<i.length;a+=2){if(this.Nn(i[a],i[a+1]))return[];const s=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,Eg,[]],l=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,Eg,[]];o.push(IDBKeyRange.bound(s,l))}return o}Nn(e,n){return ba(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(gN)}getMinOffset(e,n){return z.mapArray(this.dn(n),r=>this.An(e,r).next(i=>i||_e())).next(gN)}}function mN(t){return yn(t,rp)}function Oc(t){return yn(t,fv)}function Mf(t){return yn(t,cI)}function Rc(t){return yn(t,dv)}function gN(t){Ie(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;aI(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Wr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m6=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(t,e,n){const r=t.store(Si),i=t.store(qu),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const l=r.Z({range:a},(d,f,h)=>(s++,h.delete()));o.push(l.next(()=>{Ie(s===1)}));const c=[];for(const d of n.mutations){const f=c5(e,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return z.waitFor(o).next(()=>c)}function wv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw _e();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(m6,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);class _x{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,n,r,i){Ie(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new _x(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wa(e).Z({index:bl,range:r},(i,o,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=qc(e),a=wa(e);return a.add({}).next(s=>{Ie(typeof s=="number");const l=new yI(s,n,r,i),c=function(m,y,g){const v=g.baseMutations.map(x=>vv(m.Tt,x)),b=g.mutations.map(x=>vv(m.Tt,x));return{userId:y,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:v,mutations:b}}(this.serializer,this.userId,l),d=[];let f=new bt((h,m)=>Fe(h.canonicalString(),m.canonicalString()));for(const h of i){const m=c5(this.userId,h.key.path,s);f=f.add(h.key.path.popLast()),d.push(a.put(c)),d.push(o.put(m,$X))}return f.forEach(h=>{d.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Bn[s]=l.keys()}),z.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return wa(e).get(n).next(r=>r?(Ie(r.userId===this.userId),hl(this.serializer,r)):null)}Ln(e,n){return this.Bn[n]?z.resolve(this.Bn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Bn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return wa(e).Z({index:bl,range:i},(a,s,l)=>{s.userId===this.userId&&(Ie(s.batchId>=r),o=hl(this.serializer,s)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Rl;return wa(e).Z({index:bl,range:n,reverse:!0},(i,o,a)=>{r=o.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Rl],[this.userId,Number.POSITIVE_INFINITY]);return wa(e).G(bl,n).next(r=>r.map(i=>hl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=fy(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return qc(e).Z({range:i},(a,s,l)=>{const[c,d,f]=a,h=eo(d);if(c===this.userId&&n.path.isEqual(h))return wa(e).get(f).next(m=>{if(!m)throw _e();Ie(m.userId===this.userId),o.push(hl(this.serializer,m))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(Fe);const i=[];return n.forEach(o=>{const a=fy(this.userId,o.path),s=IDBKeyRange.lowerBound(a),l=qc(e).Z({range:s},(c,d,f)=>{const[h,m,y]=c,g=eo(m);h===this.userId&&o.path.isEqual(g)?r=r.add(y):f.done()});i.push(l)}),z.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=fy(this.userId,r),a=IDBKeyRange.lowerBound(o);let s=new bt(Fe);return qc(e).Z({range:a},(l,c,d)=>{const[f,h,m]=l,y=eo(h);f===this.userId&&r.isPrefixOf(y)?y.length===i&&(s=s.add(m)):d.done()}).next(()=>this.kn(e,s))}kn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(wa(e).get(o).next(a=>{if(a===null)throw _e();Ie(a.userId===this.userId),r.push(hl(this.serializer,a))}))}),z.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return g6(e.ue,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.qn(n.batchId)}),z.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return z.resolve();const r=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return qc(e).Z({range:r},(o,a,s)=>{if(o[0]===this.userId){const l=eo(o[1]);i.push(l)}else s.done()}).next(()=>{Ie(i.length===0)})})}containsKey(e,n){return y6(e,this.userId,n)}Qn(e){return v6(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:Rl,lastStreamToken:""})}}function y6(t,e,n){const r=fy(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return qc(t).Z({range:o,Y:!0},(s,l,c)=>{const[d,f,h]=s;d===e&&f===i&&(a=!0),c.done()}).next(()=>a)}function wa(t){return yn(t,Si)}function qc(t){return yn(t,qu)}function v6(t){return yn(t,tp)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Zl(0)}static Un(){return new Zl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Wn(e).next(n=>{const r=new Zl(n.highestTargetId);return n.highestTargetId=r.next(),this.Gn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(n=>Re.fromTimestamp(new Gt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Gn(e,i)))}addTargetData(e,n){return this.zn(e,n).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(n,r),this.Gn(e,r))))}updateTargetData(e,n){return this.zn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>jc(e).delete(n.targetId)).next(()=>this.Wn(e)).next(r=>(Ie(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return jc(e).Z((a,s)=>{const l=ih(s);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>z.waitFor(o)).next(()=>i)}forEachTarget(e,n){return jc(e).Z((r,i)=>{const o=ih(i);n(o)})}Wn(e){return vN(e).get(uv).next(n=>(Ie(n!==null),n))}Gn(e,n){return vN(e).put(uv,n)}zn(e,n){return jc(e).put(d6(this.serializer,n))}jn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Ql(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return jc(e).Z({range:i,index:d5},(a,s,l)=>{const c=ih(s);hm(n,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=Oa(e);return n.forEach(a=>{const s=er(a.path);i.push(o.put({targetId:r,path:s})),i.push(this.referenceDelegate.addReference(e,r,a))}),z.waitFor(i)}removeMatchingKeys(e,n,r){const i=Oa(e);return z.forEach(n,o=>{const a=er(o.path);return z.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Oa(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Oa(e);let o=Ge();return i.Z({range:r,Y:!0},(a,s,l)=>{const c=eo(a[1]),d=new ye(c);o=o.add(d)}).next(()=>o)}containsKey(e,n){const r=er(n.path),i=IDBKeyRange.bound([r],[i5(r)],!1,!0);let o=0;return Oa(e).Z({index:lI,Y:!0,range:i},([a,s],l,c)=>{a!==0&&(o++,c.done())}).next(()=>o>0)}lt(e,n){return jc(e).get(n).next(r=>r?ih(r):null)}}function jc(t){return yn(t,Ku)}function vN(t){return yn(t,jl)}function Oa(t){return yn(t,Gu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="LruGarbageCollector",x6=1048576;function bN([t,e],[n,r]){const i=Fe(t,n);return i===0?Fe(e,r):i}class pY{constructor(e){this.Hn=e,this.buffer=new bt(bN),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class b6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ae(xN,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Os(n)?ae(xN,"Ignoring IndexedDB error during garbage collection: ",n):await mc(n)}await this.er(3e5)})}}class mY{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(ti.ae);const r=new pY(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(yN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yN):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,o,a,s,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,s=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),zc()<=Ze.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function w6(t,e){return new mY(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(e,n){this.db=e,this.garbageCollector=w6(this,n)}nr(e){const n=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}rr(e,n){return this._r(e,(r,i)=>n(i))}addReference(e,n,r){return Tg(e,r)}removeReference(e,n,r){return Tg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Tg(e,n)}ar(e,n){return function(i,o){let a=!1;return v6(i).X(s=>y6(i,s,o).next(l=>(l&&(a=!0),z.resolve(!l)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this._r(e,(a,s)=>{if(s<=n){const l=this.ar(e,a).next(c=>{if(!c)return o++,r.getEntry(e,a).next(()=>(r.removeEntry(a,Re.min()),Oa(e).delete(function(f){return[0,er(f.path)]}(a))))});i.push(l)}}).next(()=>z.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Tg(e,n)}_r(e,n){const r=Oa(e);let i,o=ti.ae;return r.Z({index:lI},([a,s],{path:l,sequenceNumber:c})=>{a===0?(o!==ti.ae&&n(new ye(eo(i)),o),o=c,i=l):o=ti.ae}).next(()=>{o!==ti.ae&&n(new ye(eo(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Tg(t,e){return Oa(t).put(function(r,i){return{targetId:0,path:er(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.changes=new la(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return el(e).put(r)}removeEntry(e,n,r){return el(e).delete(function(o,a){const s=o.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],xv(a),s[s.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.ur(e,r)))}getEntry(e,n){let r=tn.newInvalidDocument(n);return el(e).Z({index:hy,range:IDBKeyRange.only(Lf(n))},(i,o)=>{r=this.cr(n,o)}).next(()=>r)}lr(e,n){let r={size:0,document:tn.newInvalidDocument(n)};return el(e).Z({index:hy,range:IDBKeyRange.only(Lf(n))},(i,o)=>{r={document:this.cr(n,o),size:wv(o)}}).next(()=>r)}getEntries(e,n){let r=Fr();return this.hr(e,n,(i,o)=>{const a=this.cr(i,o);r=r.insert(i,a)}).next(()=>r)}Pr(e,n){let r=Fr(),i=new Ft(ye.comparator);return this.hr(e,n,(o,a)=>{const s=this.cr(o,a);r=r.insert(o,s),i=i.insert(o,wv(a))}).next(()=>({documents:r,Tr:i}))}hr(e,n,r){if(n.isEmpty())return z.resolve();let i=new bt(SN);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(Lf(i.first()),Lf(i.last())),a=i.getIterator();let s=a.getNext();return el(e).Z({index:hy,range:o},(l,c,d)=>{const f=ye.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;s&&SN(s,f)<0;)r(s,null),s=a.getNext();s&&s.isEqual(f)&&(r(s,c),s=a.hasNext()?a.getNext():null),s?d.W(Lf(s)):d.done()}).next(()=>{for(;s;)r(s,null),s=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const a=n.path,s=[a.popLast().toArray(),a.lastSegment(),xv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return el(e).G(IDBKeyRange.bound(s,l,!0)).next(c=>{o==null||o.incrementDocumentReadCount(c.length);let d=Fr();for(const f of c){const h=this.cr(ye.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h.isFoundDocument()&&(pm(n,h)||i.has(h.key))&&(d=d.insert(h.key,h))}return d})}getAllFromCollectionGroup(e,n,r,i){let o=Fr();const a=_N(n,r),s=_N(n,Wr.max());return el(e).Z({index:u5,range:IDBKeyRange.bound(a,s,!0)},(l,c,d)=>{const f=this.cr(ye.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(f.key,f),o.size===i&&d.done()}).next(()=>o)}newChangeBuffer(e){return new vY(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return wN(e).get(H_).next(n=>(Ie(!!n),n))}ur(e,n){return wN(e).put(H_,n)}cr(e,n){if(n){const r=rY(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Re.min())))return r}return tn.newInvalidDocument(e)}}function S6(t){return new yY(t)}class vY extends _6{constructor(e,n){super(),this.Ir=e,this.trackRemovals=n,this.Er=new la(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new bt((o,a)=>Fe(o.canonicalString(),a.canonicalString()));return this.changes.forEach((o,a)=>{const s=this.Er.get(o);if(n.push(this.Ir.removeEntry(e,o,s.readTime)),a.isValidDocument()){const l=oN(this.Ir.serializer,a);i=i.add(o.path.popLast());const c=wv(l);r+=c-s.size,n.push(this.Ir.addEntry(e,o,l))}else if(r-=s.size,this.trackRemovals){const l=oN(this.Ir.serializer,a.convertToNoDocument(Re.min()));n.push(this.Ir.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.Ir.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.Ir.updateMetadata(e,r)),z.waitFor(n)}getFromCache(e,n){return this.Ir.lr(e,n).next(r=>(this.Er.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Ir.Pr(e,n).next(({documents:r,Tr:i})=>(i.forEach((o,a)=>{this.Er.set(o,{size:a,readTime:r.get(o).readTime})}),r))}}function wN(t){return yn(t,np)}function el(t){return yn(t,cv)}function Lf(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _N(t,e){const n=e.documentKey.path.toArray();return[t,xv(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function SN(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Fe(n[o],r[o]),i)return i;return i=Fe(n.length,r.length),i||(i=Fe(n[n.length-2],r[r.length-2]),i||Fe(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_h(r.mutation,i,br.empty(),Gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ge()){const i=to();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=nh();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=to();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=Fr();const a=wh(),s=function(){return wh()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof ca)?o=o.insert(c.key,c):d!==void 0?(a.set(c.key,d.mutation.getFieldMask()),_h(d.mutation,c,d.mutation.getFieldMask(),Gt.now())):a.set(c.key,br.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,d)=>a.set(c,d)),n.forEach((c,d)=>{var f;return s.set(c,new xY(d,(f=a.get(c))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=wh();let i=new Ft((a,s)=>a-s),o=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||br.empty();d=s.applyToLocalView(c,d),r.set(l,d);const f=(i.get(s.batchId)||Ge()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),c=l.key,d=l.value,f=B5();d.forEach(h=>{if(!o.has(h)){const m=G5(n.get(h),r.get(h));m!==null&&f.set(h,m),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,f))}return z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ye.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):D5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):z.resolve(to());let s=Jh,l=o;return a.next(c=>z.forEach(c,(d,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Ge())).next(d=>({batchId:s,changes:F5(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let i=nh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=nh();return this.indexManager.getCollectionParents(e,o).next(s=>z.forEach(s,l=>{const c=function(f,h){return new Bd(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,h)=>{a=a.insert(f,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,c)=>{const d=c.getKey();a.get(d)===null&&(a=a.insert(d,tn.newInvalidDocument(d)))});let s=nh();return a.forEach((l,c)=>{const d=o.get(l);d!==void 0&&_h(d.mutation,c,br.empty(),Gt.now()),pm(n,c)&&(s=s.insert(l,c))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return z.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:f6(i.bundledQuery),readTime:fr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY{constructor(){this.overlays=new Ft(ye.comparator),this.Rr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=to();return z.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Et(e,n,o)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=to(),o=n.length+1,a=new ye(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ft((c,d)=>c-d);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=to(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const s=to(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>s.set(c,d)),!(s.size()>=i)););return z.resolve(s)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new xI(n,r));let o=this.Rr.get(n);o===void 0&&(o=Ge(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.Vr=new bt(wn.mr),this.gr=new bt(wn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new wn(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new wn(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new ye(new dt([])),r=new wn(n,e),i=new wn(n,e+1),o=[];return this.gr.forEachInRange([r,i],a=>{this.wr(a),o.push(a.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new dt([])),r=new wn(n,e),i=new wn(n,e+1);let o=Ge();return this.gr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new wn(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wn{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||Fe(e.Cr,n.Cr)}static pr(e,n){return Fe(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new bt(wn.mr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new yI(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.Mr=this.Mr.add(new wn(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return z.resolve(a)}lookupMutationBatch(e,n){return z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Rl:this.Fr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wn(n,0),i=new wn(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],a=>{const s=this.Or(a.Cr);o.push(s)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(Fe);return n.forEach(i=>{const o=new wn(i,0),a=new wn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,a],s=>{r=r.add(s.Cr)})}),z.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ye.isDocumentKey(o)||(o=o.child(""));const a=new wn(new ye(o),0);let s=new bt(Fe);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(s=s.add(l.Cr)),!0)},a),z.resolve(this.Br(s))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ie(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return z.forEach(n.mutations,i=>{const o=new wn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new wn(n,0),i=this.Mr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EY{constructor(e){this.kr=e,this.docs=function(){return new Ft(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=Fr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():tn.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Fr();const a=n.path,s=new ye(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||aI(o5(d),r)<=0||(i.has(d.key)||pm(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,n,r,i){_e()}qr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TY(this)}getSize(e){return z.resolve(this.size)}}class TY extends _6{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(e){this.persistence=e,this.Qr=new la(n=>Ql(n),hm),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.$r=0,this.Kr=new TI,this.targetCount=0,this.Ur=Zl.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),z.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Zl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.zn(n),z.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Qr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Qr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),z.waitFor(o).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Kr.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new ti(0),this.zr=!1,this.zr=!0,this.jr=new _Y,this.referenceDelegate=e(this),this.Hr=new IY(this),this.indexManager=new dY,this.remoteDocumentCache=function(i){return new EY(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new u6(n),this.Yr=new bY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new SY(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const i=new AY(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,n){return z.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class AY extends s5{constructor(e){super(),this.currentSequenceNumber=e}}class Sx{constructor(e){this.persistence=e,this.ti=new TI,this.ni=null}static ri(e){return new Sx(e)}get ii(){if(this.ni)return this.ni;throw _e()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),z.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.ii,r=>{const i=ye.fromPath(r);return this.si(e,i).next(o=>{o||n.removeEntry(i,Re.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return z.or([()=>z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class _v{constructor(e,n){this.persistence=e,this.oi=new la(r=>er(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=w6(this,n)}static ri(e,n){return new _v(e,n)}Zr(){}Xr(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return z.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,a=>this.ar(e,a,n).next(s=>{s||(r++,o.removeEntry(a,Re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),z.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=my(e.data.value)),n}ar(e,n,r){return z.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(e){this.serializer=e}B(e,n,r,i){const o=new lx("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(fm)}(e),function(l){l.createObjectStore(tp,{keyPath:LX}),l.createObjectStore(Si,{keyPath:D2,autoIncrement:!0}).createIndex(bl,M2,{unique:!0}),l.createObjectStore(qu)}(e),EN(e),function(l){l.createObjectStore(sl)}(e));let a=z.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(Gu),l.deleteObjectStore(Ku),l.deleteObjectStore(jl)}(e),EN(e)),a=a.next(()=>function(l){const c=l.store(jl),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Re.min().toTimestamp(),targetCount:0};return c.put(uv,d)}(o))),r<4&&i>=4&&(r!==0&&(a=a.next(()=>function(l,c){return c.store(Si).G().next(f=>{l.deleteObjectStore(Si),l.createObjectStore(Si,{keyPath:D2,autoIncrement:!0}).createIndex(bl,M2,{unique:!0});const h=c.store(Si),m=f.map(y=>h.put(y));return z.waitFor(m)})}(e,o))),a=a.next(()=>{(function(l){l.createObjectStore(Xu,{keyPath:qX})})(e)})),r<5&&i>=5&&(a=a.next(()=>this._i(o))),r<6&&i>=6&&(a=a.next(()=>(function(l){l.createObjectStore(np)}(e),this.ai(o)))),r<7&&i>=7&&(a=a.next(()=>this.ui(o))),r<8&&i>=8&&(a=a.next(()=>this.ci(e,o))),r<9&&i>=9&&(a=a.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(a=a.next(()=>this.li(o))),r<11&&i>=11&&(a=a.next(()=>{(function(l){l.createObjectStore(ux,{keyPath:KX})})(e),function(l){l.createObjectStore(dx,{keyPath:GX})}(e)})),r<12&&i>=12&&(a=a.next(()=>{(function(l){const c=l.createObjectStore(fx,{keyPath:tQ});c.createIndex(K_,nQ,{unique:!1}),c.createIndex(p5,rQ,{unique:!1})})(e)})),r<13&&i>=13&&(a=a.next(()=>function(l){const c=l.createObjectStore(cv,{keyPath:VX});c.createIndex(hy,FX),c.createIndex(u5,BX)}(e)).next(()=>this.hi(e,o)).next(()=>e.deleteObjectStore(sl))),r<14&&i>=14&&(a=a.next(()=>this.Pi(e,o))),r<15&&i>=15&&(a=a.next(()=>function(l){l.createObjectStore(cI,{keyPath:XX,autoIncrement:!0}).createIndex(q_,QX,{unique:!1}),l.createObjectStore(dv,{keyPath:YX}).createIndex(f5,JX,{unique:!1}),l.createObjectStore(fv,{keyPath:ZX}).createIndex(h5,eQ,{unique:!1})}(e))),r<16&&i>=16&&(a=a.next(()=>{n.objectStore(dv).clear()}).next(()=>{n.objectStore(fv).clear()})),r<17&&i>=17&&(a=a.next(()=>{(function(l){l.createObjectStore(uI,{keyPath:iQ})})(e)})),a}ai(e){let n=0;return e.store(sl).Z((r,i)=>{n+=wv(i)}).next(()=>{const r={byteSize:n};return e.store(np).put(H_,r)})}_i(e){const n=e.store(tp),r=e.store(Si);return n.G().next(i=>z.forEach(i,o=>{const a=IDBKeyRange.bound([o.userId,Rl],[o.userId,o.lastAcknowledgedBatchId]);return r.G(bl,a).next(s=>z.forEach(s,l=>{Ie(l.userId===o.userId);const c=hl(this.serializer,l);return g6(e,o.userId,c).next(()=>{})}))}))}ui(e){const n=e.store(Gu),r=e.store(sl);return e.store(jl).get(uv).next(i=>{const o=[];return r.Z((a,s)=>{const l=new dt(a),c=function(f){return[0,er(f)]}(l);o.push(n.get(c).next(d=>d?z.resolve():(f=>n.put({targetId:0,path:er(f),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>z.waitFor(o))})}ci(e,n){e.createObjectStore(rp,{keyPath:HX});const r=n.store(rp),i=new EI,o=a=>{if(i.add(a)){const s=a.lastSegment(),l=a.popLast();return r.put({collectionId:s,parent:er(l)})}};return n.store(sl).Z({Y:!0},(a,s)=>{const l=new dt(a);return o(l.popLast())}).next(()=>n.store(qu).Z({Y:!0},([a,s,l],c)=>{const d=eo(s);return o(d.popLast())}))}li(e){const n=e.store(Ku);return n.Z((r,i)=>{const o=ih(i),a=d6(this.serializer,o);return n.put(a)})}hi(e,n){const r=n.store(sl),i=[];return r.Z((o,a)=>{const s=n.store(cv),l=function(f){return f.document?new ye(dt.fromString(f.document.name).popFirst(5)):f.noDocument?ye.fromSegments(f.noDocument.path):f.unknownDocument?ye.fromSegments(f.unknownDocument.path):_e()}(a).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(s.put(c))}).next(()=>z.waitFor(i))}Pi(e,n){const r=n.store(Si),i=S6(this.serializer),o=new II(Sx.ri,this.serializer.Tt);return r.G().next(a=>{const s=new Map;return a.forEach(l=>{var c;let d=(c=s.get(l.userId))!==null&&c!==void 0?c:Ge();hl(this.serializer,l).keys().forEach(f=>d=d.add(f)),s.set(l.userId,d)}),z.forEach(s,(l,c)=>{const d=new ar(c),f=wx.It(this.serializer,d),h=o.getIndexManager(d),m=_x.It(d,this.serializer,h,o.referenceDelegate);return new E6(i,m,f,h).recalculateAndSaveOverlaysForDocumentKeys(new G_(n,ti.ae),l).next()})})}}function EN(t){t.createObjectStore(Gu,{keyPath:zX}).createIndex(lI,WX,{unique:!0}),t.createObjectStore(Ku,{keyPath:"targetId"}).createIndex(d5,UX,{unique:!0}),t.createObjectStore(jl)}const _a="IndexedDbPersistence",zw=18e5,Ww=5e3,Hw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",PY="main";class AI{constructor(e,n,r,i,o,a,s,l,c,d,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ti=o,this.window=a,this.document=s,this.Ii=c,this.Ei=d,this.di=f,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=h=>Promise.resolve(),!AI.D())throw new pe(Z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new gY(this,i),this.gi=n+PY,this.serializer=new u6(l),this.pi=new as(this.gi,this.di,new CY(this.serializer)),this.jr=new oY,this.Hr=new hY(this.referenceDelegate,this.serializer),this.remoteDocumentCache=S6(this.serializer),this.Yr=new iY,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,d===!1&&cr(_a,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new pe(Z.FAILED_PRECONDITION,Hw);return this.Si(),this.bi(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new ti(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ig(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(n=>{n||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(n=>this.isPrimary&&!n?this.xi(e).next(()=>!1):!!n&&this.Oi(e).next(()=>!0))).catch(e=>{if(Os(e))return ae(_a,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ae(_a,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return $f(e).get(Pc).next(n=>z.resolve(this.Ni(n)))}Bi(e){return Ig(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,zw)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=yn(n,Xu);return r.G().next(i=>{const o=this.qi(i,zw),a=i.filter(s=>o.indexOf(s)===-1);return z.forEach(a,s=>r.delete(s.clientId)).next(()=>a)})}).catch(()=>[]);if(this.yi)for(const n of e)this.yi.removeItem(this.Qi(n.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?z.resolve(!0):$f(e).get(Pc).next(n=>{if(n!==null&&this.ki(n.leaseTimestampMs,Ww)&&!this.$i(n.ownerId)){if(this.Ni(n)&&this.networkEnabled)return!0;if(!this.Ni(n)){if(!n.allowTabSynchronization)throw new pe(Z.FAILED_PRECONDITION,Hw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ig(e).G().next(r=>this.qi(r,Ww).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,s=this.networkEnabled===i.networkEnabled;if(o||a&&s)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&ae(_a,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[fm,Xu],e=>{const n=new G_(e,ti.ae);return this.xi(n).next(()=>this.Bi(n))}),this.pi.close(),this.Gi()}qi(e,n){return e.filter(r=>this.ki(r.updateTimeMs,n)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>Ig(e).G().next(n=>this.qi(n,zw).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,n){return _x.It(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new fY(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return wx.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,n,r){ae(_a,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=function(l){return l===17?sQ:l===16?aQ:l===15?dI:l===14?y5:l===13?g5:l===12?oQ:l===11?m5:void _e()}(this.di);let a;return this.pi.runTransaction(e,i,o,s=>(a=new G_(s,this.Gr?this.Gr.next():ti.ae),n==="readwrite-primary"?this.Fi(a).next(l=>!!l||this.Mi(a)).next(l=>{if(!l)throw cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new pe(Z.FAILED_PRECONDITION,a5);return r(a)}).next(l=>this.Oi(a).next(()=>l)):this.ji(a).next(()=>r(a)))).then(s=>(a.raiseOnCommittedEvent(),s))}ji(e){return $f(e).get(Pc).next(n=>{if(n!==null&&this.ki(n.leaseTimestampMs,Ww)&&!this.$i(n.ownerId)&&!this.Ni(n)&&!(this.Ei||this.allowTabSynchronization&&n.allowTabSynchronization))throw new pe(Z.FAILED_PRECONDITION,Hw)})}Oi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $f(e).put(Pc,n)}static D(){return as.D()}xi(e){const n=$f(e);return n.get(Pc).next(r=>this.Ni(r)?(ae(_a,"Releasing primary lease."),n.delete(Pc)):z.resolve())}ki(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(cr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Si(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}bi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const n=/(?:Version|Mobile)\/1[456]/;W4()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var n;try{const r=((n=this.yi)===null||n===void 0?void 0:n.getItem(this.Qi(e)))!==null;return ae(_a,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return cr(_a,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){cr("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $f(t){return yn(t,fm)}function Ig(t){return yn(t,Xu)}function kY(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=Ge(),i=Ge();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new CI(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return W4()?8:l5(gn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.rs(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ss(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new NY;return this._s(e,n,a).next(s=>{if(o.result=s,this.Xi)return this.us(e,n,a,s.size)})}).next(()=>o.result)}us(e,n,r,i){return r.documentReadCount<this.es?(zc()<=Ze.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Wc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),z.resolve()):(zc()<=Ze.DEBUG&&ae("QueryEngine","Query:",Wc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(zc()<=Ze.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Wc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(n))):z.resolve())}rs(e,n){if(X2(n))return z.resolve(null);let r=oi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=gv(n,null,"F"),r=oi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Ge(...o);return this.ns.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,s);return this.ls(n,c,a,l.readTime)?this.rs(e,gv(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,i){return X2(n)||i.isEqual(Re.min())?z.resolve(null):this.ns.getDocuments(e,r).next(o=>{const a=this.cs(n,o);return this.ls(n,a,r,i)?z.resolve(null):(zc()<=Ze.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wc(n)),this.hs(e,a,n,kX(i,Jh)).next(s=>s))})}cs(e,n){let r=new bt($5(e));return n.forEach((i,o)=>{pm(e,o)&&(r=r.add(o))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,n,r){return zc()<=Ze.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Wc(n)),this.ns.getDocumentsMatchingQuery(e,n,Wr.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="LocalStore",OY=3e8;class RY{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Ft(Fe),this.Is=new la(o=>Ql(o),hm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E6(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function I6(t,e,n,r){return new RY(t,e,n,r)}async function A6(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=Ge();for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of o){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:a,addedBatchIds:s}))})})}function jY(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(s,l,c,d){const f=c.batch,h=f.keys();let m=z.resolve();return h.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(g=>{const v=c.docVersions.get(y);Ie(v!==null),g.version.compareTo(v)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),d.addEntry(g)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Ge();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(l=l.add(s.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function C6(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function DY(t,e){const n=Ve(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const s=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;s.push(n.Hr.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(o,d.addedDocuments,f)));let m=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(dn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(g,v,b){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=OY?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,m,d)&&s.push(n.Hr.updateTargetData(o,m))});let l=Fr(),c=Ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),s.push(MY(o,a,e.documentUpdates).next(d=>{l=d.Vs,c=d.fs})),!r.isEqual(Re.min())){const d=n.Hr.getLastRemoteSnapshotVersion(o).next(f=>n.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(d)}return z.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ts=i,o))}function MY(t,e,n){let r=Ge(),i=Ge();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Fr();return n.forEach((s,l)=>{const c=o.get(s);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Re.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):ae(PI,"Ignoring outdated watch update for ",s,". Current version:",c.version," Watch version:",l.version)}),{Vs:a,fs:i}})}function LY(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Rl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $Y(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(o=>o?(i=o,z.resolve(i)):n.Hr.allocateTargetId(r).next(a=>(i=new Po(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function lS(t,e,n){const r=Ve(t),i=r.Ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Os(a))throw a;ae(PI,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function TN(t,e,n){const r=Ve(t);let i=Re.min(),o=Ge();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,d){const f=Ve(l),h=f.Is.get(d);return h!==void 0?z.resolve(f.Ts.get(h)):f.Hr.getTargetData(c,d)}(r,a,oi(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(a,e,n?i:Re.min(),n?o:Ge())).next(s=>(VY(r,SQ(e),s),{documents:s,gs:o})))}function VY(t,e,n){let r=t.Es.get(e)||Re.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Es.set(e,r)}class IN{constructor(){this.activeTargetIds=PQ()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P6{constructor(){this.ho=new IN,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new IN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FY{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="ConnectivityMonitor";class CN{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ae(AN,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ae(AN,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ag=null;function cS(){return Ag===null?Ag=function(){return 268435456+Math.round(2147483648*Math.random())}():Ag++,"0x"+Ag.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="RestConnection",BY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UY{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===hv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,o){const a=cS(),s=this.bo(e,n.toUriEncodedString());ae(qw,`Sending RPC '${e}' ${a}:`,s,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,o),this.vo(e,s,l,r).then(c=>(ae(qw,`Received RPC '${e}' ${a}: `,c),c),c=>{throw Yh(qw,`RPC '${e}' ${a} failed with error: `,c,"url: ",s,"request:",r),c})}Co(e,n,r,i,o,a){return this.So(e,n,r,i,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,n){const r=BY[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="WebChannelConnection";class WY extends UY{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=cS();return new Promise((a,s)=>{const l=new J4;l.setWithCredentials(!0),l.listenOnce(Z4.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case uy.NO_ERROR:const d=l.getResponseJson();ae(Hn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case uy.TIMEOUT:ae(Hn,`RPC '${e}' ${o} timed out`),s(new pe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case uy.HTTP_ERROR:const f=l.getStatus();if(ae(Hn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const y=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(b)>=0?b:Z.UNKNOWN}(m.status);s(new pe(y,m.message))}else s(new pe(Z.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new pe(Z.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{ae(Hn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);ae(Hn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=cS(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=n5(),s=t5(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");ae(Hn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=a.createWebChannel(d,l);let h=!1,m=!1;const y=new zY({Fo:v=>{m?ae(Hn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(ae(Hn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ae(Hn,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},Mo:()=>f.close()}),g=(v,b,x)=>{v.listen(b,w=>{try{x(w)}catch(S){setTimeout(()=>{throw S},0)}})};return g(f,th.EventType.OPEN,()=>{m||(ae(Hn,`RPC '${e}' stream ${i} transport opened.`),y.Qo())}),g(f,th.EventType.CLOSE,()=>{m||(m=!0,ae(Hn,`RPC '${e}' stream ${i} transport closed`),y.Ko())}),g(f,th.EventType.ERROR,v=>{m||(m=!0,Yh(Hn,`RPC '${e}' stream ${i} transport errored:`,v),y.Ko(new pe(Z.UNAVAILABLE,"The operation could not be completed")))}),g(f,th.EventType.MESSAGE,v=>{var b;if(!m){const x=v.data[0];Ie(!!x);const w=x,S=(w==null?void 0:w.error)||((b=w[0])===null||b===void 0?void 0:b.error);if(S){ae(Hn,`RPC '${e}' stream ${i} received error:`,S);const A=S.status;let C=function(N){const P=sn[N];if(P!==void 0)return Y5(P)}(A),T=S.message;C===void 0&&(C=Z.INTERNAL,T="Unknown error status: "+A+" with message "+S.message),m=!0,y.Ko(new pe(C,T)),f.close()}else ae(Hn,`RPC '${e}' stream ${i} received:`,x),y.Uo(x)}}),g(s,e5.STAT_EVENT,v=>{v.stat===z_.PROXY?ae(Hn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===z_.NOPROXY&&ae(Hn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.$o()},0),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HY(){return typeof window<"u"?window:null}function xy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t){return new qQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="PersistentStream";class N6{constructor(e,n,r,i,o,a,s,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new k6(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new pe(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ae(PN,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ae(PN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qY extends N6{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=XQ(this.serializer,e),r=function(o){if(!("targetChange"in o))return Re.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Re.min():a.readTime?fr(a.readTime):Re.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=rS(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=pv(l)?{documents:o6(o,l)}:{query:_I(o,l).ht},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=e6(o,a.resumeToken);const c=tS(o,a.expectedCount);c!==null&&(s.expectedCount=c)}else if(a.snapshotVersion.compareTo(Re.min())>0){s.readTime=rd(o,a.snapshotVersion.toTimestamp());const c=tS(o,a.expectedCount);c!==null&&(s.expectedCount=c)}return s}(this.serializer,e);const r=JQ(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=rS(this.serializer),n.removeTarget=e,this.I_(n)}}class KY extends N6{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=QQ(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=rS(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>vv(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{}class XY extends GY{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.So(e,nS(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(Z.UNKNOWN,o.toString())})}Co(e,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Co(e,nS(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(Z.UNKNOWN,a.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class QY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(cr(n),this.N_=!1):ae("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec="RemoteStore";class YY{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(a=>{r.enqueueAndForget(async()=>{gc(this)&&(ae(ec,"Restarting streams for network reachability change."),await async function(l){const c=Ve(l);c.W_.add(4),await gm(c),c.j_.set("Unknown"),c.W_.delete(4),await Tx(c)}(this))})}),this.j_=new QY(r,i)}}async function Tx(t){if(gc(t))for(const e of t.G_)await e(!0)}async function gm(t){for(const e of t.G_)await e(!1)}function O6(t,e){const n=Ve(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),RI(n)?OI(n):zd(n).c_()&&NI(n,e))}function kI(t,e){const n=Ve(t),r=zd(n);n.U_.delete(e),r.c_()&&R6(n,e),n.U_.size===0&&(r.c_()?r.P_():gc(n)&&n.j_.set("Unknown"))}function NI(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zd(t).y_(e)}function R6(t,e){t.H_.Ne(e),zd(t).w_(e)}function OI(t){t.H_=new UQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),zd(t).start(),t.j_.B_()}function RI(t){return gc(t)&&!zd(t).u_()&&t.U_.size>0}function gc(t){return Ve(t).W_.size===0}function j6(t){t.H_=void 0}async function JY(t){t.j_.set("Online")}async function ZY(t){t.U_.forEach((e,n)=>{NI(t,e)})}async function eJ(t,e){j6(t),RI(t)?(t.j_.q_(e),OI(t)):t.j_.set("Unknown")}async function tJ(t,e,n){if(t.j_.set("Online"),e instanceof Z5&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.U_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.U_.delete(s),i.H_.removeTarget(s))}(t,e)}catch(r){ae(ec,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sv(t,r)}else if(e instanceof vy?t.H_.We(e):e instanceof J5?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Re.min()))try{const r=await C6(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.H_.ot(a);return s.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.U_.get(c);d&&o.U_.set(c,d.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,c)=>{const d=o.U_.get(l);if(!d)return;o.U_.set(l,d.withResumeToken(dn.EMPTY_BYTE_STRING,d.snapshotVersion)),R6(o,l);const f=new Po(d.target,l,c,d.sequenceNumber);NI(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){ae(ec,"Failed to raise snapshot:",r),await Sv(t,r)}}async function Sv(t,e,n){if(!Os(e))throw e;t.W_.add(1),await gm(t),t.j_.set("Offline"),n||(n=()=>C6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae(ec,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Tx(t)})}function D6(t,e){return e().catch(n=>Sv(t,n,e))}async function ym(t){const e=Ve(t),n=gs(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Rl;for(;nJ(e);)try{const i=await LY(e.localStore,r);if(i===null){e.K_.length===0&&n.P_();break}r=i.batchId,rJ(e,i)}catch(i){await Sv(e,i)}M6(e)&&L6(e)}function nJ(t){return gc(t)&&t.K_.length<10}function rJ(t,e){t.K_.push(e);const n=gs(t);n.c_()&&n.S_&&n.b_(e.mutations)}function M6(t){return gc(t)&&!gs(t).u_()&&t.K_.length>0}function L6(t){gs(t).start()}async function iJ(t){gs(t).C_()}async function oJ(t){const e=gs(t);for(const n of t.K_)e.b_(n.mutations)}async function aJ(t,e,n){const r=t.K_.shift(),i=vI.from(r,e,n);await D6(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ym(t)}async function sJ(t,e){e&&gs(t).S_&&await async function(r,i){if(function(a){return VQ(a)&&a!==Z.ABORTED}(i.code)){const o=r.K_.shift();gs(r).h_(),await D6(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ym(r)}}(t,e),M6(t)&&L6(t)}async function kN(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),ae(ec,"RemoteStore received new credentials");const r=gc(n);n.W_.add(3),await gm(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Tx(n)}async function lJ(t,e){const n=Ve(t);e?(n.W_.delete(2),await Tx(n)):e||(n.W_.add(2),await gm(n),n.j_.set("Unknown"))}function zd(t){return t.J_||(t.J_=function(n,r,i){const o=Ve(n);return o.M_(),new qY(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:JY.bind(null,t),No:ZY.bind(null,t),Lo:eJ.bind(null,t),p_:tJ.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),RI(t)?OI(t):t.j_.set("Unknown")):(await t.J_.stop(),j6(t))})),t.J_}function gs(t){return t.Y_||(t.Y_=function(n,r,i){const o=Ve(n);return o.M_(),new KY(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:iJ.bind(null,t),Lo:sJ.bind(null,t),D_:oJ.bind(null,t),v_:aJ.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await ym(t)):(await t.Y_.stop(),t.K_.length>0&&(ae(ec,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new jI(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function DI(t,e){if(cr("AsyncQueue",`${e}: ${t}`),Os(t))return new pe(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{static emptySet(e){return new yu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=nh(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.Z_=new Ft(ye.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):_e():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class id{constructor(e,n,r,i,o,a,s,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new id(e,n,yu.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cJ{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class uJ{constructor(){this.queries=ON(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=Ve(n),o=i.queries;i.queries=ON(),o.forEach((a,s)=>{for(const l of s.ta)l.onError(r)})})(this,new pe(Z.ABORTED,"Firestore shutting down"))}}function ON(){return new la(t=>L5(t),gx)}async function $6(t,e){const n=Ve(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new cJ,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await n.onListen(i,!0);break;case 1:o.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=DI(a,`Initialization of query '${Wc(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.ta.push(e),e.sa(n.onlineState),o.ea&&e.oa(o.ea)&&MI(n)}async function V6(t,e){const n=Ve(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.ta.indexOf(e);a>=0&&(o.ta.splice(a,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dJ(t,e){const n=Ve(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.ta)s.oa(i)&&(r=!0);a.ea=i}}r&&MI(n)}function fJ(t,e,n){const r=Ve(t),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(n);r.queries.delete(e)}function MI(t){t.ia.forEach(e=>{e.next()})}var uS,RN;(RN=uS||(uS={}))._a="default",RN.Cache="cache";class F6{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new id(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=id.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==uS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.key=e}}class U6{constructor(e){this.key=e}}class hJ{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ge(),this.mutatedKeys=Ge(),this.ya=$5(e),this.wa=new yu(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new NN,i=n?n.wa:this.wa;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=pm(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;h&&m?h.data.isEqual(m.data)?y!==g&&(r.track({type:3,doc:m}),v=!0):this.va(h,m)||(r.track({type:2,doc:m}),v=!0,(l&&this.ya(m,l)>0||c&&this.ya(m,c)<0)&&(s=!0)):!h&&m?(r.track({type:0,doc:m}),v=!0):h&&!m&&(r.track({type:1,doc:h}),v=!0,(l||c)&&(s=!0)),v&&(m?(a=a.add(m),o=g?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{wa:a,Da:r,ls:s,mutatedKeys:o}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const a=e.Da.X_();a.sort((d,f)=>function(m,y){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return g(m)-g(y)}(d.type,f.type)||this.ya(d.doc,f.doc)),this.Ca(r),i=i!=null&&i;const s=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,c=l!==this.ga;return this.ga=l,a.length!==0||c?{snapshot:new id(this.query,e.wa,o,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:s}:{Ma:s}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new NN,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ge(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new U6(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new B6(r))}),n}Oa(e){this.fa=e.gs,this.pa=Ge();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return id.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const LI="SyncEngine";class pJ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mJ{constructor(e){this.key=e,this.Ba=!1}}class gJ{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.La={},this.ka=new la(s=>L5(s),gx),this.qa=new Map,this.Qa=new Set,this.$a=new Ft(ye.comparator),this.Ka=new Map,this.Ua=new TI,this.Wa={},this.Ga=new Map,this.za=Zl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function yJ(t,e,n=!0){const r=G6(t);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await z6(r,e,n,!0),i}async function vJ(t,e){const n=G6(t);await z6(n,e,!0,!1)}async function z6(t,e,n,r){const i=await $Y(t.localStore,oi(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await xJ(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&O6(t.remoteStore,i),s}async function xJ(t,e,n,r,i){t.Ha=(f,h,m)=>async function(g,v,b,x){let w=v.view.ba(b);w.ls&&(w=await TN(g.localStore,v.query,!1).then(({documents:T})=>v.view.ba(T,w)));const S=x&&x.targetChanges.get(v.targetId),A=x&&x.targetMismatches.get(v.targetId)!=null,C=v.view.applyChanges(w,g.isPrimaryClient,S,A);return DN(g,v.targetId,C.Ma),C.snapshot}(t,f,h,m);const o=await TN(t.localStore,e,!0),a=new hJ(e,o.gs),s=a.ba(o.documents),l=mm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(s,t.isPrimaryClient,l);DN(t,n,c.Ma);const d=new pJ(e,n,a);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function bJ(t,e,n){const r=Ve(t),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(a=>!gx(a,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&kI(r.remoteStore,i.targetId),dS(r,i.targetId)}).catch(mc)):(dS(r,i.targetId),await lS(r.localStore,i.targetId,!0))}async function wJ(t,e){const n=Ve(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kI(n.remoteStore,r.targetId))}async function _J(t,e,n){const r=X6(t);try{const i=await function(a,s){const l=Ve(a),c=Gt.now(),d=s.reduce((m,y)=>m.add(y.key),Ge());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Fr(),g=Ge();return l.ds.getEntries(m,d).next(v=>{y=v,y.forEach((b,x)=>{x.isValidDocument()||(g=g.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(v=>{f=v;const b=[];for(const x of s){const w=MQ(x,f.get(x.key).overlayedDocument);w!=null&&b.push(new ca(x.key,w,A5(w.value.mapValue),Zn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,b,s)}).next(v=>{h=v;const b=v.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,v.batchId,b)})}).then(()=>({batchId:h.batchId,changes:F5(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let c=a.Wa[a.currentUser.toKey()];c||(c=new Ft(Fe)),c=c.insert(s,l),a.Wa[a.currentUser.toKey()]=c}(r,i.batchId,n),await vm(r,i.changes),await ym(r.remoteStore)}catch(i){const o=DI(i,"Failed to persist write");n.reject(o)}}async function W6(t,e){const n=Ve(t);try{const r=await DY(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Ka.get(o);a&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.Ba=!0:i.modifiedDocuments.size>0?Ie(a.Ba):i.removedDocuments.size>0&&(Ie(a.Ba),a.Ba=!1))}),await vm(n,r,e)}catch(r){await mc(r)}}function jN(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,a)=>{const s=a.view.sa(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=Ve(a);l.onlineState=s;let c=!1;l.queries.forEach((d,f)=>{for(const h of f.ta)h.sa(s)&&(c=!0)}),c&&MI(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SJ(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ka.get(e),o=i&&i.key;if(o){let a=new Ft(ye.comparator);a=a.insert(o,tn.newNoDocument(o,Re.min()));const s=Ge().add(o),l=new bx(Re.min(),new Map,new Ft(Fe),a,s);await W6(r,l),r.$a=r.$a.remove(o),r.Ka.delete(e),$I(r)}else await lS(r.localStore,e,!1).then(()=>dS(r,e,n)).catch(mc)}async function EJ(t,e){const n=Ve(t),r=e.batch.batchId;try{const i=await jY(n.localStore,e);q6(n,r,null),H6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vm(n,i)}catch(i){await mc(i)}}async function TJ(t,e,n){const r=Ve(t);try{const i=await function(a,s){const l=Ve(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,s).next(f=>(Ie(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);q6(r,e,n),H6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vm(r,i)}catch(i){await mc(i)}}function H6(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function q6(t,e,n){const r=Ve(t);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function dS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.br(e).forEach(r=>{t.Ua.containsKey(r)||K6(t,r)})}function K6(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(kI(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),$I(t))}function DN(t,e,n){for(const r of n)r instanceof B6?(t.Ua.addReference(r.key,e),IJ(t,r)):r instanceof U6?(ae(LI,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||K6(t,r.key)):_e()}function IJ(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(ae(LI,"New document in limbo: "+n),t.Qa.add(r),$I(t))}function $I(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new ye(dt.fromString(e)),r=t.za.next();t.Ka.set(r,new mJ(n)),t.$a=t.$a.insert(n,r),O6(t.remoteStore,new Po(oi(mx(n.path)),r,"TargetPurposeLimboResolution",ti.ae))}}async function vm(t,e,n){const r=Ve(t),i=[],o=[],a=[];r.ka.isEmpty()||(r.ka.forEach((s,l)=>{a.push(r.Ha(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=CI.Yi(l.targetId,c);o.push(f)}}))}),await Promise.all(a),r.La.p_(i),await async function(l,c){const d=Ve(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(c,h=>z.forEach(h.Hi,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>z.forEach(h.Ji,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Os(f))throw f;ae(PI,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const m=d.Ts.get(h),y=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(y);d.Ts=d.Ts.insert(h,g)}}}(r.localStore,o))}async function AJ(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){ae(LI,"User change. New user:",e.toKey());const r=await A6(n.localStore,e);n.currentUser=e,function(o,a){o.Ga.forEach(s=>{s.forEach(l=>{l.reject(new pe(Z.CANCELLED,a))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vm(n,r.Rs)}}function CJ(t,e){const n=Ve(t),r=n.Ka.get(e);if(r&&r.Ba)return Ge().add(r.key);{let i=Ge();const o=n.qa.get(e);if(!o)return i;for(const a of o){const s=n.ka.get(a);i=i.unionWith(s.view.Sa)}return i}}function G6(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=W6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SJ.bind(null,e),e.La.p_=dJ.bind(null,e.eventManager),e.La.Ja=fJ.bind(null,e.eventManager),e}function X6(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TJ.bind(null,e),e}class up{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ex(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return I6(this.persistence,new T6,e.initialUser,this.serializer)}Xa(e){return new II(Sx.ri,this.serializer)}Za(e){return new P6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}up.provider={build:()=>new up};class PJ extends up{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ie(this.persistence.referenceDelegate instanceof _v);const r=this.persistence.referenceDelegate.garbageCollector;return new b6(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new II(r=>_v.ri(r,n),this.serializer)}}class kJ extends up{constructor(e,n,r){super(),this.ru=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await X6(this.ru.syncEngine),await ym(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return I6(this.persistence,new T6,e.initialUser,this.serializer)}tu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new b6(r,e.asyncQueue,n)}nu(e,n){const r=new jX(n,this.persistence);return new RX(e.asyncQueue,r)}Xa(e){const n=kY(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new AI(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,HY(),xy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new P6}}class Ev{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AJ.bind(null,this.syncEngine),await lJ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uJ}()}createDatastore(e){const n=Ex(e.databaseInfo.databaseId),r=function(o){return new WY(o)}(e.databaseInfo);return function(o,a,s,l){return new XY(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new YY(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>jN(this.syncEngine,n,0),function(){return CN.D()?new CN:new FY}())}createSyncEngine(e,n){return function(i,o,a,s,l,c,d){const f=new gJ(i,o,a,s,l,c);return d&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ve(i);ae(ec,"RemoteStore shutting down."),o.W_.add(5),await gm(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ev.provider={build:()=>new Ev};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class NJ{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ar.UNAUTHENTICATED,this.clientId=r5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{ae(ys,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ae(ys,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=DI(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kw(t,e){t.asyncQueue.verifyOperationInProgress(),ae(ys,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await A6(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function MN(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OJ(t);ae(ys,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>kN(e.remoteStore,i)),t._onlineComponents=e}async function OJ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae(ys,"Using user provided OfflineComponentProvider");try{await Kw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Z.FAILED_PRECONDITION||i.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Yh("Error using user provided cache. Falling back to memory cache: "+n),await Kw(t,new up)}}else ae(ys,"Using default OfflineComponentProvider"),await Kw(t,new PJ(void 0));return t._offlineComponents}async function VI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae(ys,"Using user provided OnlineComponentProvider"),await MN(t,t._uninitializedComponentsProvider._online)):(ae(ys,"Using default OnlineComponentProvider"),await MN(t,new Ev))),t._onlineComponents}function RJ(t){return VI(t).then(e=>e.syncEngine)}function jJ(t){return VI(t).then(e=>e.datastore)}async function Y6(t){const e=await VI(t),n=e.eventManager;return n.onListen=yJ.bind(null,e.syncEngine),n.onUnlisten=bJ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vJ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wJ.bind(null,e.syncEngine),n}function DJ(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,c){const d=new Q6({next:h=>{d.su(),a.enqueueAndForget(()=>V6(o,f));const m=h.docs.has(s);!m&&h.fromCache?c.reject(new pe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?c.reject(new pe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new F6(mx(s.path),d,{includeMetadataChanges:!0,Ta:!0});return $6(o,f)}(await Y6(t),t.asyncQueue,e,n,r)),r.promise}function MJ(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,c){const d=new Q6({next:h=>{d.su(),a.enqueueAndForget(()=>V6(o,f)),h.fromCache&&l.source==="server"?c.reject(new pe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new F6(s,d,{includeMetadataChanges:!0,Ta:!0});return $6(o,f)}(await Y6(t),t.asyncQueue,e,n,r)),r.promise}function LJ(t,e,n){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>{try{const i=await jJ(t);r.resolve(async function(a,s,l){var c;const d=Ve(a),{request:f,Pt:h,parent:m}=YQ(d.serializer,_Q(s),l);d.connection.fo||delete f.parent;const y=(await d.Co("RunAggregationQuery",d.serializer.databaseId,m,f,1)).filter(v=>!!v.result);Ie(y.length===1);const g=(c=y[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(g).reduce((v,b)=>(v[h[b]]=g[b],v),{})}(i,e,n))}catch(i){r.reject(i)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(t,e,n){if(!n)throw new pe(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $J(t,e,n,r){if(e===!0&&r===!0)throw new pe(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $N(t){if(!ye.isDocumentKey(t))throw new pe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VN(t){if(ye.isDocumentKey(t))throw new pe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ix(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e()}function Di(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ix(t);throw new pe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function VJ(t,e){if(e<=0)throw new pe(Z.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FJ="firestore.googleapis.com",FN=!0;class BN{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FJ,this.ssl=FN}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:FN;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<x6)throw new pe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$J("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=J6((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class FI{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BN({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BN(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new SX;switch(r.type){case"firstParty":return new IX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=LN.get(n);r&&(ae("ComponentProvider","Removing Datastore"),LN.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd=class e3{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new e3(this.firestore,e,this._query)}};class hr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}}class ss extends Wd{constructor(e,n,r){super(e,n,mx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new ye(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function pr(t,e,...n){if(t=In(t),Z6("collection","path",e),t instanceof FI){const r=dt.fromString(e,...n);return VN(r),new ss(t,null,r)}{if(!(t instanceof hr||t instanceof ss))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return VN(r),new ss(t.firestore,null,r)}}function Ln(t,e,...n){if(t=In(t),arguments.length===1&&(e=r5.newId()),Z6("doc","path",e),t instanceof FI){const r=dt.fromString(e,...n);return $N(r),new hr(t,null,new ye(r))}{if(!(t instanceof hr||t instanceof ss))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(dt.fromString(e,...n));return $N(r),new hr(t.firestore,t instanceof ss?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="AsyncQueue";class zN{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new k6(this,"async_queue_retry"),this.Su=()=>{const r=xy();r&&ae(UN,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=xy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=xy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ni;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Os(e))throw e;ae(UN,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw cr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=jI.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&_e()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BJ=-1;class js extends FI{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new zN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zN(e),this._firestoreClient=void 0,await e}}}function UJ(t,e,n){n||(n=hv);const r=iI(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(Xh(o,e))return i;throw new pe(Z.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new pe(Z.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<x6)throw new pe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function Ax(t){if(t._terminated)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zJ(t),t._firestoreClient}function zJ(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,c,d){return new uQ(s,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,J6(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new NJ(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WJ{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class HJ{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this._byteString=e}static fromBase64String(e){try{return new od(dn.fromBase64String(e))}catch(n){throw new pe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new od(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qJ=/^__.*__$/;class KJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ud(e,this.data,n,this.fieldTransforms)}}class t3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ca(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function n3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class zI{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new zI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Tv(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(n3(this.Lu)&&qJ.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class GJ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ex(e)}ju(e,n,r,i=!1){return new zI({Lu:e,methodName:n,zu:r,path:Wt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kx(t){const e=t._freezeSettings(),n=Ex(t._databaseId);return new GJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function r3(t,e,n,r,i,o={}){const a=t.ju(o.merge||o.mergeFields?2:0,e,n,i);HI("Data must be an object, but it was:",a,r);const s=i3(r,a);let l,c;if(o.merge)l=new br(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=fS(e,f,n);if(!a.contains(h))throw new pe(Z.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);a3(d,h)||d.push(h)}l=new br(d),c=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=a.fieldTransforms;return new KJ(new Jn(s),l,c)}class Nx extends Px{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nx}}class WI extends Px{_toFieldTransform(e){return new K5(e.path,new ed)}isEqual(e){return e instanceof WI}}function XJ(t,e,n,r){const i=t.ju(1,e,n);HI("Data must be an object, but it was:",i,r);const o=[],a=Jn.empty();Rs(r,(l,c)=>{const d=qI(e,l,n);c=In(c);const f=i.Ku(d);if(c instanceof Nx)o.push(d);else{const h=xm(c,f);h!=null&&(o.push(d),a.set(d,h))}});const s=new br(o);return new t3(a,s,i.fieldTransforms)}function QJ(t,e,n,r,i,o){const a=t.ju(1,e,n),s=[fS(e,r,n)],l=[i];if(o.length%2!=0)throw new pe(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(fS(e,o[h])),l.push(o[h+1]);const c=[],d=Jn.empty();for(let h=s.length-1;h>=0;--h)if(!a3(c,s[h])){const m=s[h];let y=l[h];y=In(y);const g=a.Ku(m);if(y instanceof Nx)c.push(m);else{const v=xm(y,g);v!=null&&(c.push(m),d.set(m,v))}}const f=new br(c);return new t3(d,f,a.fieldTransforms)}function YJ(t,e,n,r=!1){return xm(n,t.ju(r?4:3,e))}function xm(t,e){if(o3(t=In(t)))return HI("Unsupported field value:",e,t),i3(t,e);if(t instanceof Px)return function(r,i){if(!n3(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=xm(s,i.Uu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=In(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return kQ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Gt.fromDate(r);return{timestampValue:rd(i.serializer,o)}}if(r instanceof Gt){const o=new Gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rd(i.serializer,o)}}if(r instanceof BI)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof od)return{bytesValue:e6(i.serializer,r._byteString)};if(r instanceof hr){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Wu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof UI)return function(a,s){return{mapValue:{fields:{[hI]:{stringValue:pI},[Qu]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw s.Wu("VectorValues must only contain numeric values.");return gI(s.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Ix(r)}`)}(t,e)}function i3(t,e){const n={};return v5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(t,(r,i)=>{const o=xm(i,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function o3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gt||t instanceof BI||t instanceof od||t instanceof hr||t instanceof Px||t instanceof UI)}function HI(t,e,n){if(!o3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ix(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function fS(t,e,n){if((e=In(e))instanceof Cx)return e._internalPath;if(typeof e=="string")return qI(t,e);throw Tv("Field path arguments must be of type string or ",t,!1,void 0,n)}const JJ=new RegExp("[~\\*/\\[\\]]");function qI(t,e,n){if(e.search(JJ)>=0)throw Tv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cx(...e.split("."))._internalPath}catch{throw Tv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tv(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new pe(Z.INVALID_ARGUMENT,s+t+l)}function a3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ox("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZJ extends s3{data(){return super.data()}}function Ox(t,e){return typeof e=="string"?qI(t,e):e instanceof Cx?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eZ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KI{}class GI extends KI{}function sr(t,e,...n){let r=[];e instanceof KI&&r.push(e),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof XI).length,s=o.filter(l=>l instanceof Rx).length;if(a>1||a>0&&s>0)throw new pe(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Rx extends GI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Rx(e,n,r)}_apply(e){const n=this._parse(e);return l3(e._query,n),new Wd(e.firestore,e.converter,eS(e._query,n))}_parse(e){const n=kx(e.firestore);return function(o,a,s,l,c,d,f){let h;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new pe(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){HN(f,d);const y=[];for(const g of f)y.push(WN(l,o,g));h={arrayValue:{values:y}}}else h=WN(l,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||HN(f,d),h=YJ(s,a,f,d==="in"||d==="not-in");return tt.create(c,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function wl(t,e,n){const r=e,i=Ox("where",t);return Rx._create(i,r,n)}class XI extends KI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new XI(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)l3(a,l),a=eS(a,l)}(e._query,n),new Wd(e.firestore,e.converter,eS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QI extends GI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new QI(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new pe(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new pe(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lp(o,a)}(e._query,this._field,this._direction);return new Wd(e.firestore,e.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new Bd(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function YI(t,e="asc"){const n=e,r=Ox("orderBy",t);return QI._create(r,n)}class JI extends GI{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new JI(e,n,r)}_apply(e){return new Wd(e.firestore,e.converter,gv(e._query,this._limit,this._limitType))}}function ZI(t){return VJ("limit",t),JI._create("limit",t,"F")}function WN(t,e,n){if(typeof(n=In(n))=="string"){if(n==="")throw new pe(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D5(e)&&n.indexOf("/")!==-1)throw new pe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(dt.fromString(n));if(!ye.isDocumentKey(r))throw new pe(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ap(t,new ye(r))}if(n instanceof hr)return ap(t,n._key);throw new pe(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ix(n)}.`)}function HN(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l3(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tZ{convertValue(e,n="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Rs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Qu].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Lt(a.doubleValue));return new UI(o)}convertGeoPoint(e){return new BI(Lt(e.latitude),Lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ip(e));default:return null}}convertTimestamp(e){const n=Ko(e);return new Gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=dt.fromString(e);Ie(c6(r));const i=new Xl(r.get(1),r.get(3)),o=new ye(r.popFirst(5));return i.isEqual(n)||cr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function nZ(){return new WJ("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class u3 extends s3{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new by(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ox("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class by extends u3{data(e={}){return super.data(e)}}class rZ{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new oh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new by(this._firestore,this._userDataWriter,r.key,r,new oh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new by(i._firestore,i._userDataWriter,s.doc.key,s.doc,new oh(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new by(i._firestore,i._userDataWriter,s.doc.key,s.doc,new oh(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return s.type!==0&&(c=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),d=a.indexOf(s.doc.key)),{type:iZ(s.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function iZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(t){t=Di(t,hr);const e=Di(t.firestore,js);return DJ(Ax(e),t._key).then(n=>aZ(e,t,n))}class eA extends tZ{constructor(e){super(),this.firestore=e}convertBytes(e){return new od(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,n)}}function oo(t){t=Di(t,Wd);const e=Di(t.firestore,js),n=Ax(e),r=new eA(e);return eZ(t._query),MJ(n,t._query).then(i=>new rZ(e,r,t,i))}function dp(t,e,n){t=Di(t,hr);const r=Di(t.firestore,js),i=c3(t.converter,e,n);return Dx(r,[r3(kx(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Zn.none())])}function ls(t,e,n,...r){t=Di(t,hr);const i=Di(t.firestore,js),o=kx(i);let a;return a=typeof(e=In(e))=="string"||e instanceof Cx?QJ(o,"updateDoc",t._key,e,n,r):XJ(o,"updateDoc",t._key,e),Dx(i,[a.toMutation(t._key,Zn.exists(!0))])}function oZ(t){return Dx(Di(t.firestore,js),[new xx(t._key,Zn.none())])}function jx(t,e){const n=Di(t.firestore,js),r=Ln(t),i=c3(t.converter,e);return Dx(n,[r3(kx(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Zn.exists(!1))]).then(()=>r)}function Dx(t,e){return function(r,i){const o=new Ni;return r.asyncQueue.enqueueAndForget(async()=>_J(await RJ(r),i,o)),o.promise}(Ax(t),e)}function aZ(t,e,n){const r=n.docs.get(e._key),i=new eA(t);return new u3(t,i,e._key,r,new oh(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sZ(t){return lZ(t,{count:nZ()})}function lZ(t,e){const n=Di(t.firestore,js),r=Ax(n),i=lQ(e,(o,a)=>new LQ(a,o.aggregateType,o._internalFieldPath));return LJ(r,t._query,i).then(o=>function(s,l,c){const d=new eA(s);return new HJ(l,d,c)}(n,t,o))}class cZ{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=fZ(),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function uZ(t){return new cZ(t)}class dZ{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Ev.provider,this._offlineComponentProvider={build:n=>new kJ(n,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}function fZ(t){return new dZ(void 0)}function Ar(){return new WI("serverTimestamp")}(function(e,n=!0){(function(i){Fd=i})($d),Wu(new Kl("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new js(new EX(r.getProvider("auth-internal")),new AX(a,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new pe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(c.options.projectId,d)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),is(A2,C2,e),is(A2,C2,"esm2017")})();var Ji=function(){return Ji=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ji.apply(this,arguments)};function bm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hZ(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function d3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pZ=d3,f3=new um("auth","Firebase",d3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new nI("@firebase/auth");function mZ(t,...e){Iv.logLevel<=Ze.WARN&&Iv.warn(`Auth (${$d}): ${t}`,...e)}function wy(t,...e){Iv.logLevel<=Ze.ERROR&&Iv.error(`Auth (${$d}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,...e){throw nA(t,...e)}function Oi(t,...e){return nA(t,...e)}function tA(t,e,n){const r=Object.assign(Object.assign({},pZ()),{[e]:n});return new um("auth","Firebase",r).create(e,{appName:t.name})}function Lo(t){return tA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gZ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ci(t,"argument-error"),tA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nA(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return f3.create(t,...e)}function Le(t,e,...n){if(!t)throw nA(e,...n)}function ko(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wy(e),new Error(e)}function Xo(t,e){t||ko(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yZ(){return qN()==="http:"||qN()==="https:"}function qN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yZ()||QK()||"connection"in navigator)?navigator.onLine:!0}function xZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xo(n>e,"Short delay should be less than long delay!"),this.isMobile=KK()||YK()}get(){return vZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t,e){Xo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ko("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ko("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ko("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wZ=new wm(3e4,6e4);function Ds(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ms(t,e,n,r,i={}){return p3(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=dm(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return XK()||(c.referrerPolicy="no-referrer"),h3.fetch()(m3(t,t.config.apiHost,n,s),c)})}async function p3(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bZ),e);try{const i=new SZ(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Cg(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,c]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cg(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Cg(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Cg(t,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw tA(t,d,c);ci(t,d)}}catch(i){if(i instanceof go)throw i;ci(t,"network-request-failed",{message:String(i)})}}async function _m(t,e,n,r,i={}){const o=await Ms(t,e,n,r,i);return"mfaPendingCredential"in o&&ci(t,"multi-factor-auth-required",{_serverResponse:o}),o}function m3(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?rA(t.config,i):`${t.config.apiScheme}://${i}`}function _Z(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),wZ.get())})}}function Cg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Oi(t,e,r);return i.customData._tokenResponse=n,i}function KN(t){return t!==void 0&&t.enterprise!==void 0}class EZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return _Z(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TZ(t,e){return Ms(t,"GET","/v2/recaptchaConfig",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IZ(t,e){return Ms(t,"POST","/v1/accounts:delete",e)}async function g3(t,e){return Ms(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AZ(t,e=!1){const n=In(t),r=await n.getIdToken(e),i=iA(r);Le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Sh(Gw(i.auth_time)),issuedAtTime:Sh(Gw(i.iat)),expirationTime:Sh(Gw(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Gw(t){return Number(t)*1e3}function iA(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wy("JWT malformed, contained fewer than 3 sections"),null;try{const i=B4(n);return i?JSON.parse(i):(wy("Failed to decode base64 JWT payload"),null)}catch(i){return wy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function GN(t){const e=iA(t);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof go&&CZ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function CZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sh(this.lastLoginAt),this.creationTime=Sh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Av(t){var e;const n=t.auth,r=await t.getIdToken(),i=await fp(t,g3(n,{idToken:r}));Le(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?y3(o.providerUserInfo):[],s=NZ(t.providerData,a),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(s!=null&&s.length),d=l?c:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new pS(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function kZ(t){const e=In(t);await Av(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function y3(t){return t.map(e=>{var{providerId:n}=e,r=bm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OZ(t,e){const n=await p3(t,{},async()=>{const r=dm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=m3(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",h3.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RZ(t,e){return Ms(t,"POST","/v2/accounts:revokeToken",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const n=GN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await OZ(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new vu;return r&&(Le(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Le(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(Le(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vu,this.toJSON())}_performRefresh(){return ko("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t,e){Le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class No{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=bm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pS(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await fp(this,this.stsTokenManager.getToken(this.auth,e));return Le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AZ(this,e)}reload(){return kZ(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new No(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Av(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lr(this.auth.app))return Promise.reject(Lo(this.auth));const e=await this.getIdToken();return await fp(this,IZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(a=n.photoURL)!==null&&a!==void 0?a:void 0,g=(s=n.tenantId)!==null&&s!==void 0?s:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:S,isAnonymous:A,providerData:C,stsTokenManager:T}=n;Le(w&&T,e,"internal-error");const E=vu.fromJSON(this.name,T);Le(typeof w=="string",e,"internal-error"),Sa(f,e.name),Sa(h,e.name),Le(typeof S=="boolean",e,"internal-error"),Le(typeof A=="boolean",e,"internal-error"),Sa(m,e.name),Sa(y,e.name),Sa(g,e.name),Sa(v,e.name),Sa(b,e.name),Sa(x,e.name);const N=new No({uid:w,auth:e,email:h,emailVerified:S,displayName:f,isAnonymous:A,photoURL:y,phoneNumber:m,tenantId:g,stsTokenManager:E,createdAt:b,lastLoginAt:x});return C&&Array.isArray(C)&&(N.providerData=C.map(P=>Object.assign({},P))),v&&(N._redirectEventId=v),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new vu;i.updateFromServerResponse(n);const o=new No({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Av(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Le(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?y3(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new vu;s.updateFromIdToken(r);const l=new No({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new pS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=new Map;function Oo(t){Xo(t instanceof Function,"Expected a class definition");let e=XN.get(t);return e?(Xo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XN.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}v3.type="NONE";const QN=v3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t,e,n){return`firebase:${t}:${e}:${n}`}class xu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=_y(this.userKey,i.apiKey,o),this.fullPersistenceKey=_y("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?No._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xu(Oo(QN),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Oo(QN);const a=_y(r,e.config.apiKey,e.name);let s=null;for(const c of n)try{const d=await c._get(a);if(d){const f=No._fromJSON(e,d);c!==o&&(s=f),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new xu(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(a)}catch{}})),new xu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E3(e))return"Blackberry";if(T3(e))return"Webos";if(b3(e))return"Safari";if((e.includes("chrome/")||w3(e))&&!e.includes("edge/"))return"Chrome";if(S3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function x3(t=gn()){return/firefox\//i.test(t)}function b3(t=gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w3(t=gn()){return/crios\//i.test(t)}function _3(t=gn()){return/iemobile/i.test(t)}function S3(t=gn()){return/android/i.test(t)}function E3(t=gn()){return/blackberry/i.test(t)}function T3(t=gn()){return/webos/i.test(t)}function oA(t=gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jZ(t=gn()){var e;return oA(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DZ(){return JK()&&document.documentMode===10}function I3(t=gn()){return oA(t)||S3(t)||T3(t)||E3(t)||/windows phone/i.test(t)||_3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t,e=[]){let n;switch(t){case"Browser":n=YN(gn());break;case"Worker":n=`${YN(gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$d}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LZ(t,e={}){return Ms(t,"GET","/v2/passwordPolicy",Ds(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Z=6;class VZ{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:$Z,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JN(this),this.idTokenSubscription=new JN(this),this.beforeStateQueue=new MZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Oo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await xu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await g3(this,{idToken:e}),r=await No._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Lr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Av(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lr(this.app))return Promise.reject(Lo(this));const n=e?In(e):null;return n&&Le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lr(this.app)?Promise.reject(Lo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lr(this.app)?Promise.reject(Lo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LZ(this),n=new VZ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new um("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await RZ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Oo(e)||this._popupRedirectResolver;Le(n,this,"argument-error"),this.redirectPersistenceManager=await xu.create(this,[Oo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mZ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ls(t){return In(t)}class JN{constructor(e){this.auth=e,this.observer=null,this.addObserver=iG(n=>this.observer=n)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BZ(t){Mx=t}function C3(t){return Mx.loadJS(t)}function UZ(){return Mx.recaptchaEnterpriseScript}function zZ(){return Mx.gapiScript}function WZ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class HZ{constructor(){this.enterprise=new qZ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qZ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const KZ="recaptcha-enterprise",P3="NO_RECAPTCHA";class GZ{constructor(e){this.type=KZ,this.auth=Ls(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{TZ(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const c=new EZ(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,a(c.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;KN(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{a(c)}).catch(()=>{a(P3)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HZ().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&KN(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=UZ();l.length!==0&&(l+=s),C3(l).then(()=>{i(s,o,a)}).catch(c=>{a(c)})}}).catch(s=>{a(s)})})}}async function ZN(t,e,n,r=!1,i=!1){const o=new GZ(t);let a;if(i)a=P3;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const s=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,c=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function mS(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ZN(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await ZN(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XZ(t,e){const n=iI(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Xh(o,e??{}))return i;ci(i,"already-initialized")}return n.initialize({options:e})}function QZ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Oo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function YZ(t,e,n){const r=Ls(t);Le(r._canInitEmulator,r,"emulator-config-failed"),Le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=k3(e),{host:a,port:s}=JZ(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),ZZ()}function k3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JZ(t){const e=k3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:eO(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:eO(a)}}}function eO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ko("not implemented")}_getIdTokenResponse(e){return ko("not implemented")}_linkToIdToken(e,n){return ko("not implemented")}_getReauthenticationResolver(e){return ko("not implemented")}}async function eee(t,e){return Ms(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tee(t,e){return _m(t,"POST","/v1/accounts:signInWithPassword",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nee(t,e){return _m(t,"POST","/v1/accounts:signInWithEmailLink",Ds(t,e))}async function ree(t,e){return _m(t,"POST","/v1/accounts:signInWithEmailLink",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends aA{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new hp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new hp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mS(e,n,"signInWithPassword",tee);case"emailLink":return nee(e,{email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mS(e,r,"signUpPassword",eee);case"emailLink":return ree(e,{idToken:n,email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(t,e){return _m(t,"POST","/v1/accounts:signInWithIdp",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iee="http://localhost";class tc extends aA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new tc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=bm(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new tc(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return bu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bu(e,n)}buildRequest(){const e={requestUri:iee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aee(t){const e=Zf(eh(t)).link,n=e?Zf(eh(e)).deep_link_id:null,r=Zf(eh(t)).deep_link_id;return(r?Zf(eh(r)).link:null)||r||n||e||t}class sA{constructor(e){var n,r,i,o,a,s;const l=Zf(eh(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=oee((i=l.mode)!==null&&i!==void 0?i:null);Le(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=aee(e);try{return new sA(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this.providerId=Hd.PROVIDER_ID}static credential(e,n){return hp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=sA.parseLink(n);return Le(r,"argument-error"),hp._fromEmailAndCode(e,r.code,r.tenantId)}}Hd.PROVIDER_ID="password";Hd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends lA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Sm{constructor(){super("facebook.com")}static credential(e){return tc._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ra.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Sm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return tc._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Io.credential(n,r)}catch{return null}}}Io.GOOGLE_SIGN_IN_METHOD="google.com";Io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends Sm{constructor(){super("github.com")}static credential(e){return tc._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ja.credential(e.oauthAccessToken)}catch{return null}}}ja.GITHUB_SIGN_IN_METHOD="github.com";ja.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Sm{constructor(){super("twitter.com")}static credential(e,n){return tc._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Da.credential(n,r)}catch{return null}}}Da.TWITTER_SIGN_IN_METHOD="twitter.com";Da.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function see(t,e){return _m(t,"POST","/v1/accounts:signUp",Ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await No._fromIdTokenResponse(e,r,i),a=tO(r);return new nc({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=tO(r);return new nc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function tO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv extends go{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Cv.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Cv(e,n,r,i)}}function N3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cv._fromErrorAndOperation(t,o,e,r):o})}async function lee(t,e,n=!1){const r=await fp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return nc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cee(t,e,n=!1){const{auth:r}=t;if(Lr(r.app))return Promise.reject(Lo(r));const i="reauthenticate";try{const o=await fp(t,N3(r,i,e,t),n);Le(o.idToken,r,"internal-error");const a=iA(o.idToken);Le(a,r,"internal-error");const{sub:s}=a;return Le(t.uid===s,r,"user-mismatch"),nc._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ci(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(t,e,n=!1){if(Lr(t.app))return Promise.reject(Lo(t));const r="signIn",i=await N3(t,r,e),o=await nc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function uee(t,e){return O3(Ls(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3(t){const e=Ls(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function j3(t,e,n){if(Lr(t.app))return Promise.reject(Lo(t));const r=Ls(t),a=await mS(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",see).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&R3(t),l}),s=await nc._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function dee(t,e,n){return Lr(t.app)?Promise.reject(Lo(t)):uee(In(t),Hd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&R3(t),r})}function fee(t,e,n,r){return In(t).onIdTokenChanged(e,n,r)}function hee(t,e,n){return In(t).beforeAuthStateChanged(e,n)}function pee(t,e,n,r){return In(t).onAuthStateChanged(e,n,r)}function D3(t){return In(t).signOut()}const Pv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pv,"1"),this.storage.removeItem(Pv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mee=1e3,gee=10;class L3 extends M3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);DZ()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,gee):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}L3.type="LOCAL";const yee=L3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3 extends M3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$3.type="SESSION";const V3=$3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Lx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async c=>c(n.origin,o)),l=await vee(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const c=cA("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(){return window}function bee(t){ao().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(){return typeof ao().WorkerGlobalScope<"u"&&typeof ao().importScripts=="function"}async function wee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _ee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function See(){return F3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="firebaseLocalStorageDb",Eee=1,kv="firebaseLocalStorage",U3="fbase_key";class Em{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $x(t,e){return t.transaction([kv],e?"readwrite":"readonly").objectStore(kv)}function Tee(){const t=indexedDB.deleteDatabase(B3);return new Em(t).toPromise()}function gS(){const t=indexedDB.open(B3,Eee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(kv,{keyPath:U3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(kv)?e(r):(r.close(),await Tee(),e(await gS()))})})}async function nO(t,e,n){const r=$x(t,!0).put({[U3]:e,value:n});return new Em(r).toPromise()}async function Iee(t,e){const n=$x(t,!1).get(e),r=await new Em(n).toPromise();return r===void 0?null:r.value}function rO(t,e){const n=$x(t,!0).delete(e);return new Em(n).toPromise()}const Aee=800,Cee=3;class z3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Cee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lx._getInstance(See()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wee(),!this.activeServiceWorker)return;this.sender=new xee(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_ee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gS();return await nO(e,Pv,"1"),await rO(e,Pv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Iee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=$x(i,!1).getAll();return new Em(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Aee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z3.type="LOCAL";const Pee=z3;new wm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t,e){return e?Oo(e):(Le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA extends aA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kee(t){return O3(t.auth,new uA(t),t.bypassAuthState)}function Nee(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),cee(n,new uA(t),t.bypassAuthState)}async function Oee(t){const{auth:e,user:n}=t;return Le(n,e,"internal-error"),lee(n,new uA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kee;case"linkViaPopup":case"linkViaRedirect":return Oee;case"reauthViaPopup":case"reauthViaRedirect":return Nee;default:ci(this.auth,"internal-error")}}resolve(e){Xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree=new wm(2e3,1e4);async function jee(t,e,n){if(Lr(t.app))return Promise.reject(Oi(t,"operation-not-supported-in-this-environment"));const r=Ls(t);gZ(t,e,lA);const i=W3(r,n);return new _l(r,"signInViaPopup",e,i).executeNotNull()}class _l extends H3{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,_l.currentPopupAction&&_l.currentPopupAction.cancel(),_l.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){Xo(this.filter.length===1,"Popup operations only handle one event");const e=cA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_l.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ree.get())};e()}}_l.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dee="pendingRedirect",Sy=new Map;class Mee extends H3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sy.get(this.auth._key());if(!e){try{const r=await Lee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sy.set(this.auth._key(),e)}return this.bypassAuthState||Sy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Lee(t,e){const n=Fee(e),r=Vee(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $ee(t,e){Sy.set(t._key(),e)}function Vee(t){return Oo(t._redirectPersistence)}function Fee(t){return _y(Dee,t.config.apiKey,t.name)}async function Bee(t,e,n=!1){if(Lr(t.app))return Promise.reject(Lo(t));const r=Ls(t),i=W3(r,e),a=await new Mee(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uee=10*60*1e3;class zee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Wee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!q3(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Oi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Uee&&this.cachedEventUids.clear(),this.cachedEventUids.has(iO(e))}saveEventToCache(e){this.cachedEventUids.add(iO(e)),this.lastProcessedEventTime=Date.now()}}function iO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function q3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Wee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hee(t,e={}){return Ms(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kee=/^https?/;async function Gee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Hee(t);for(const n of e)try{if(Xee(n))return}catch{}ci(t,"unauthorized-domain")}function Xee(t){const e=hS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Kee.test(n))return!1;if(qee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qee=new wm(3e4,6e4);function oO(){const t=ao().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Yee(t){return new Promise((e,n)=>{var r,i,o;function a(){oO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oO(),n(Oi(t,"network-request-failed"))},timeout:Qee.get()})}if(!((i=(r=ao().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ao().gapi)===null||o===void 0)&&o.load)a();else{const s=WZ("iframefcb");return ao()[s]=()=>{gapi.load?a():n(Oi(t,"network-request-failed"))},C3(`${zZ()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Ey=null,e})}let Ey=null;function Jee(t){return Ey=Ey||Yee(t),Ey}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zee=new wm(5e3,15e3),ete="__/auth/iframe",tte="emulator/auth/iframe",nte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ite(t){const e=t.config;Le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?rA(e,tte):`https://${t.config.authDomain}/${ete}`,r={apiKey:e.apiKey,appName:t.name,v:$d},i=rte.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${dm(r).slice(1)}`}async function ote(t){const e=await Jee(t),n=ao().gapi;return Le(n,t,"internal-error"),e.open({where:document.body,url:ite(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nte,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Oi(t,"network-request-failed"),s=ao().setTimeout(()=>{o(a)},Zee.get());function l(){ao().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ate={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ste=500,lte=600,cte="_blank",ute="http://localhost";class aO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dte(t,e,n,r=ste,i=lte){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},ate),{width:r.toString(),height:i.toString(),top:o,left:a}),c=gn().toLowerCase();n&&(s=w3(c)?cte:n),x3(c)&&(e=e||ute,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,y])=>`${h}${m}=${y},`,"");if(jZ(c)&&s!=="_self")return fte(e||"",s),new aO(null);const f=window.open(e||"",s,d);Le(f,t,"popup-blocked");try{f.focus()}catch{}return new aO(f)}function fte(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hte="__/auth/handler",pte="emulator/auth/handler",mte=encodeURIComponent("fac");async function sO(t,e,n,r,i,o){Le(t.config.authDomain,t,"auth-domain-config-required"),Le(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$d,eventId:i};if(e instanceof lA){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",rG(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))a[d]=f}if(e instanceof Sm){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const d of Object.keys(s))s[d]===void 0&&delete s[d];const l=await t._getAppCheckToken(),c=l?`#${mte}=${encodeURIComponent(l)}`:"";return`${gte(t)}?${dm(s).slice(1)}${c}`}function gte({config:t}){return t.emulator?rA(t,pte):`https://${t.authDomain}/${hte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="webStorageSupport";class yte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V3,this._completeRedirectFn=Bee,this._overrideRedirectResult=$ee}async _openPopup(e,n,r,i){var o;Xo((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await sO(e,n,r,hS(),i);return dte(e,a,cA())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await sO(e,n,r,hS(),i);return bee(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Xo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ote(e),r=new zee(e);return n.register("authEvent",i=>(Le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xw,{type:Xw},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Xw];a!==void 0&&n(!!a),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Gee(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return I3()||b3()||oA()}}const K3=yte;var lO="@firebase/auth",cO="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bte(t){Wu(new Kl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Le(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A3(t)},c=new FZ(r,i,o,l);return QZ(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wu(new Kl("auth-internal",e=>{const n=Ls(e.getProvider("auth").getImmediate());return(r=>new vte(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(lO,cO,xte(t)),is(lO,cO,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wte=5*60,_te=z4("authIdTokenMaxAge")||wte;let uO=null;const Ste=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_te)return;const i=n==null?void 0:n.token;uO!==i&&(uO=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ete(t=oX()){const e=iI(t,"auth");if(e.isInitialized())return e.getImmediate();const n=XZ(t,{popupRedirectResolver:K3,persistence:[Pee,yee,V3]}),r=z4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=Ste(o.toString());hee(n,a,()=>a(n.currentUser)),fee(n,s=>a(s))}}const i=HK("auth");return i&&YZ(n,`http://${i}`),n}function Tte(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}BZ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Oi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Tte().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bte("Browser");const Ite={apiKey:"AIzaSyA_ReJ3a7qewp89vsp8-MpN_tfWI8oRUtI",authDomain:"stock-champ-2a9df.firebaseapp.com",projectId:"stock-champ-2a9df",storageBucket:"stock-champ-2a9df.appspot.com",messagingSenderId:"274289865490",appId:"1:274289865490:web:b160e0705ae509179279cb",measurementId:"G-3F0JVEY523"},G3=G4(Ite),ft=UJ(G3,{localCache:uZ({cacheSizeBytes:BJ})}),so=Ete(G3),dA=new Io;dA.addScope("https://www.googleapis.com/auth/drive.file");dA.setCustomParameters({prompt:"select_account"});const ni="users",ll="customers",Zi="products",Ty="storeInfo",Ate="warehouses",Cte="store",Pte="invoices";async function X3(t){try{return(await oo(pr(ft,t))).docs.map(n=>({id:n.id,...n.data()}))}catch(e){return console.error(`Error finding all documents in ${t}:`,e),[]}}async function Qw(t,e,n=0){try{const r=pr(ft,t);let i=sr(r);return e.forEach(a=>{i=sr(i,wl(a.field,a.operator,a.value))}),n>0&&(i=sr(i,ZI(n))),(await oo(i)).docs.map(a=>({id:a.id,...a.data()}))}catch(r){return console.error(`Error finding documents by filter in ${t}:`,r),[]}}async function fA(t,e){try{const n=Ln(ft,t,e),r=await ad(n);return r.exists()?{id:r.id,...r.data()}:null}catch(n){return console.error(`Error finding document by ID in ${t}:`,n),null}}async function kte(t,e){try{const{id:n,...r}=e;let i;return n?(i=Ln(ft,t,n),await ls(i,{...r,modifiedDate:new Date,modifiedBy:localStorage.getItem("userName")||"Unknown"})):i=await jx(pr(ft,t),{id:Vd(),...r,modifiedDate:new Date,modifiedBy:localStorage.getItem("userName")||"Unknown",createdAt:new Date,createdBy:localStorage.getItem("userName")||"Unknown"}),{id:i.id,...r}}catch(n){throw console.error(`Error saving document in ${t}:`,n),n}}const qt={USERS:"users_collection",PRODUCTS:"products_collection",STORE_INFO:"store_info_collection",GRN:"grn_collection",STORE:"store_collection",WAREHOUSE:"warehouse_collection",CUSTOMERS:"customers_collection",INVOICE:"invoices_collection"},cs=(t,e=Date.now())=>{try{const n=`${t}_timestamps`,i={...Im(t),lastUpdateTime:e};localStorage.setItem(n,JSON.stringify(i))}catch(n){console.error(`Error saving update time for ${t}:`,n)}},Tm=(t,e=Date.now())=>{try{const n=`${t}_timestamps`,i={...Im(t),lastFetchTime:e};localStorage.setItem(n,JSON.stringify(i))}catch(n){console.error(`Error saving fetch time for ${t}:`,n)}},Im=t=>{try{const e=`${t}_timestamps`,n=localStorage.getItem(e);if(n)return JSON.parse(n)}catch(e){console.error(`Error getting timestamps for ${t}:`,e)}return{lastUpdateTime:0,lastFetchTime:0}},rc=(t,e=5*60*1e3)=>{const{lastUpdateTime:n,lastFetchTime:r}=Im(t);return n>r?!0:Date.now()-r>e},Nv=t=>{const e=Date.now();cs(t,e),Tm(t,e)},lo={WAREHOUSE_CACHE_KEY:"warehouse_cache",STORE_CACHE_KEY:"users_cache",PRODUCTS_CACHE_KEY:"products_cache",CUSTOMERS_CACHE_KEY:"customers_cache",INVOICE_CACHE_KEY:"invoices_cache"},Am=(t,e,n=5*60*1e3)=>{try{const r=localStorage.getItem(t);if(!r)return!1;const{lastFetched:i,lastModified:o}=JSON.parse(r),a=Date.now(),s=t.split("_")[0];return s&&rc(s,n)?!1:(e&&o<e,a-i<n)}catch(r){return console.error("Error checking cache validity:",r),!1}},rn=(t,e,n=Date.now())=>{try{const r={data:e,lastFetched:Date.now(),lastModified:n};localStorage.setItem(t,JSON.stringify(r));const i=t.split("_")[0];if(i){const o=Im(i);if(o){const a={...o,lastFetchTime:Date.now()};localStorage.setItem(`${i}_timestamps`,JSON.stringify(a))}}}catch(r){console.error("Error saving to cache:",r)}},wr=t=>{try{const e=localStorage.getItem(t);if(!e)return null;const{data:n}=JSON.parse(e);return n}catch(e){return console.error("Error getting from cache:",e),null}},Nte=t=>{try{const e=localStorage.getItem(t);if(!e)return 0;const{lastModified:n}=JSON.parse(e);return n}catch(e){return console.error("Error getting last modified time:",e),0}},dO=t=>{localStorage.removeItem(t)},Ote=()=>{const t=["theme"],e=Object.keys(localStorage);for(const n of e)t.includes(n)||(n.includes("_cache")||n.includes("_collection")||n.includes("_timestamps")||n==="storeInfo"||n==="user"||n==="isLoggedIn"||n==="userRole"||n==="userEmail"||n==="userName"||n==="userImage"||n==="userId")&&localStorage.removeItem(n);console.log("All application cache cleared")},Rte=()=>{const t=nr();pc();const e=async()=>{try{await D3(so),Ote(),localStorage.removeItem("user"),localStorage.removeItem("userName"),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),localStorage.removeItem("userImage"),localStorage.removeItem("userId"),localStorage.removeItem("isLoggedIn"),t("/login")}catch(n){console.error("Error logging out:",n)}};return u.jsxs("div",{className:"h-screen w-64 border-r bg-background flex flex-col",children:[u.jsx("div",{className:"p-6",children:u.jsx("h2",{className:"text-xl font-bold",children:"POS System"})}),u.jsxs("nav",{className:"flex-1 space-y-1 p-4 overflow-y-auto",children:[u.jsx(Kr,{to:"/",end:!0,children:({isActive:n})=>u.jsxs(ie,{variant:"ghost",className:we("w-full justify-start",n?"bg-accent text-accent-foreground":"hover:bg-accent hover:text-accent-foreground"),children:[u.jsx(TK,{className:"mr-2 h-4 w-4"}),"Dashboard"]})}),u.jsx(Kr,{to:"/products",children:({isActive:n})=>u.jsxs(ie,{variant:"ghost",className:we("w-full justify-start",n?"bg-accent text-accent-foreground":"hover:bg-accent hover:text-accent-foreground"),children:[u.jsx(nx,{className:"mr-2 h-4 w-4"}),"Products"]})}),u.jsx(Kr,{to:"/checkout",children:({isActive:n})=>u.jsxs(ie,{variant:"ghost",className:we("w-full justify-start",n?"bg-accent text-accent-foreground":"hover:bg-accent hover:text-accent-foreground"),children:[u.jsx(eI,{className:"mr-2 h-4 w-4"}),"Checkout"]})}),u.jsx(Kr,{to:"/orders",children:({isActive:n})=>u.jsxs(ie,{variant:"ghost",className:we("w-full justify-start",n?"bg-accent text-accent-foreground":"hover:bg-accent hover:text-accent-foreground"),children:[u.jsx(_K,{className:"mr-2 h-4 w-4"}),"Orders"]})}),u.jsx("div",{className:"py-1",children:u.jsx("div",{className:"px-3 text-xs uppercase text-muted-foreground tracking-wider",children:"Invoicing"})}),u.jsx(Kr,{to:"/store",children:({isActive:n})=>u.jsxs(ie,{variant:"ghost",className:we("w-full justify-start",n?"bg-accent text-accent-foreground":"hover:bg-accent hover:text-accent-foreground"),children:[u.jsx(ov,{className:"mr-2 h-4 w-4"}),"Store"]})}),u.jsx(Kr,{to:"/invoice",children:({isActive:n})=>u.jsxs(ie,{variant:"ghost",className:we("w-full justify-start",n?"bg-accent text-accent-foreground":"hover:bg-accent hover:text-accent-foreground"),children:[u.jsx(ov,{className:"mr-2 h-4 w-4"}),"Create Invoice"]})}),u.jsx(Kr,{to:"/invoice-list",children:({isActive:n})=>u.jsxs(ie,{variant:"ghost",className:we("w-full justify-start",n?"bg-accent text-accent-foreground":"hover:bg-accent hover:text-accent-foreground"),children:[u.jsx(bK,{className:"mr-2 h-4 w-4"}),"Invoice Records"]})}),u.jsx("div",{className:"py-1",children:u.jsx("div",{className:"px-3 text-xs uppercase text-muted-foreground tracking-wider",children:"Inventory"})}),u.jsx(Kr,{to:"/grn",children:({isActive:n})=>u.jsxs(ie,{variant:"ghost",className:we("w-full justify-start",n?"bg-accent text-accent-foreground":"hover:bg-accent hover:text-accent-foreground"),children:[u.jsx(M4,{className:"mr-2 h-4 w-4"}),"Create GRN"]})}),u.jsx(Kr,{to:"/grn-list",children:({isActive:n})=>u.jsxs(ie,{variant:"ghost",className:we("w-full justify-start",n?"bg-accent text-accent-foreground":"hover:bg-accent hover:text-accent-foreground"),children:[u.jsx(k4,{className:"mr-2 h-4 w-4"}),"GRN Records"]})}),u.jsx("div",{className:"py-1",children:u.jsx("div",{className:"px-3 text-xs uppercase text-muted-foreground tracking-wider",children:"Management"})}),u.jsx(Kr,{to:"/customers",children:({isActive:n})=>u.jsxs(ie,{variant:"ghost",className:we("w-full justify-start",n?"bg-accent text-accent-foreground":"hover:bg-accent hover:text-accent-foreground"),children:[u.jsx(LK,{className:"mr-2 h-4 w-4"}),"Customers"]})}),u.jsx(Kr,{to:"/users",children:({isActive:n})=>u.jsxs(ie,{variant:"ghost",className:we("w-full justify-start",n?"bg-accent text-accent-foreground":"hover:bg-accent hover:text-accent-foreground"),children:[u.jsx(L4,{className:"mr-2 h-4 w-4"}),"Users"]})}),u.jsx(Kr,{to:"/settings",children:({isActive:n})=>u.jsxs(ie,{variant:"ghost",className:we("w-full justify-start",n?"bg-accent text-accent-foreground":"hover:bg-accent hover:text-accent-foreground"),children:[u.jsx(j4,{className:"mr-2 h-4 w-4"}),"Settings"]})})]}),u.jsx("div",{className:"p-4 border-t",children:u.jsxs(ie,{variant:"ghost",className:"w-full justify-start text-muted-foreground hover:text-foreground",onClick:e,children:[u.jsx(O4,{className:"mr-2 h-4 w-4"}),"Logout"]})})]})},Yw=768;function jte(){const[t,e]=_.useState(void 0);return _.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Yw-1}px)`),r=()=>{e(window.innerWidth<Yw)};return n.addEventListener("change",r),e(window.innerWidth<Yw),()=>n.removeEventListener("change",r)},[]),!!t}function Dte(t,e){const n=_.createContext(e),r=o=>{const{children:a,...s}=o,l=_.useMemo(()=>s,Object.values(s));return u.jsx(n.Provider,{value:l,children:a})};r.displayName=t+"Provider";function i(o){const a=_.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function $s(t,e=[]){let n=[];function r(o,a){const s=_.createContext(a),l=n.length;n=[...n,a];const c=f=>{var b;const{scope:h,children:m,...y}=f,g=((b=h==null?void 0:h[t])==null?void 0:b[l])||s,v=_.useMemo(()=>y,Object.values(y));return u.jsx(g.Provider,{value:v,children:m})};c.displayName=o+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[t])==null?void 0:g[l])||s,y=_.useContext(m);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[c,d]}const i=()=>{const o=n.map(a=>_.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return _.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,Mte(i,...e)]}function Mte(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...s,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Mi(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var Vn=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},Lte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ze=Lte.reduce((t,e)=>{const n=_.forwardRef((r,i)=>{const{asChild:o,...a}=r,s=o?ql:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(s,{...a,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function $te(t,e){t&&Dd.flushSync(()=>t.dispatchEvent(e))}var hA="Avatar",[Vte,tOe]=$s(hA),[Fte,Q3]=Vte(hA),Y3=_.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,o]=_.useState("idle");return u.jsx(Fte,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:u.jsx(ze.span,{...r,ref:e})})});Y3.displayName=hA;var J3="AvatarImage",Z3=_.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...o}=t,a=Q3(J3,n),s=Bte(r,o.referrerPolicy),l=Mi(c=>{i(c),a.onImageLoadingStatusChange(c)});return Vn(()=>{s!=="idle"&&l(s)},[s,l]),s==="loaded"?u.jsx(ze.img,{...o,ref:e,src:r}):null});Z3.displayName=J3;var eV="AvatarFallback",tV=_.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,o=Q3(eV,n),[a,s]=_.useState(r===void 0);return _.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>s(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&o.imageLoadingStatus!=="loaded"?u.jsx(ze.span,{...i,ref:e}):null});tV.displayName=eV;function Bte(t,e){const[n,r]=_.useState("idle");return Vn(()=>{if(!t){r("error");return}let i=!0;const o=new window.Image,a=s=>()=>{i&&r(s)};return r("loading"),o.onload=a("loaded"),o.onerror=a("error"),o.src=t,e&&(o.referrerPolicy=e),()=>{i=!1}},[t,e]),n}var nV=Y3,rV=Z3,iV=tV;const vs=_.forwardRef(({className:t,...e},n)=>u.jsx(nV,{ref:n,className:we("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));vs.displayName=nV.displayName;const Cm=_.forwardRef(({className:t,...e},n)=>u.jsx(rV,{ref:n,className:we("aspect-square h-full w-full",t),...e}));Cm.displayName=rV.displayName;const ic=_.forwardRef(({className:t,...e},n)=>u.jsx(iV,{ref:n,className:we("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));ic.displayName=iV.displayName;const Ute=({sidebarOpen:t,setSidebarOpen:e,storeInfo:n,user:r})=>{var o,a,s,l;const i=nr();return r?u.jsxs("header",{className:"h-16 border-b border-green-100 dark:border-green-800/50 flex items-center px-6 sticky top-0 bg-white/90 dark:bg-green-900/90 backdrop-blur-sm z-10",children:[!t&&u.jsx(ie,{variant:"ghost",size:"icon",className:"mr-4 text-green-700 hover:bg-green-100/50 dark:text-green-300 dark:hover:bg-green-800/50",onClick:()=>e(!0),children:u.jsx(CK,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex items-center gap-3",children:[(n==null?void 0:n.logoUrl)&&u.jsx("img",{src:n.logoUrl,alt:n.businessName||"Business Logo",className:"h-8 w-8 object-contain rounded-full border border-green-100 dark:border-green-700"}),u.jsx("h1",{className:"text-lg font-medium text-green-800 dark:text-green-300",children:(n==null?void 0:n.businessName)||"POS System"})]}),u.jsx("div",{className:"ml-auto flex items-center gap-4",children:u.jsxs(ie,{variant:"ghost",className:"p-0 flex items-center gap-2 text-green-700 hover:bg-green-100/50 dark:text-green-300 dark:hover:bg-green-800/50",onClick:()=>i("/user/profile"),children:[r.photoURL?u.jsxs(vs,{className:"h-8 w-8 border border-green-200 dark:border-green-700",children:[u.jsx(Cm,{src:r.photoURL,alt:r.displayName||"User"}),u.jsx(ic,{className:"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-200",children:((o=r.displayName)==null?void 0:o.charAt(0))||((a=r.email)==null?void 0:a.charAt(0))||"U"})]}):u.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 dark:bg-green-800 flex items-center justify-center text-green-800 dark:text-green-200 text-sm font-medium border border-green-200 dark:border-green-700",children:((s=r.displayName)==null?void 0:s.charAt(0))||((l=r.email)==null?void 0:l.charAt(0))||"U"}),u.jsx("span",{className:"text-sm font-medium",children:r.displayName||r.email})]})})]}):null};var oV={exports:{}};(function(t){(function(e,n){t.exports=n(e)})(typeof gl>"u"?typeof window>"u"?gl:window:gl,function(e){if(typeof e>"u"&&typeof e.document>"u")return!1;var n,r,i,o,a,s=`

Visit documentation page to learn more: https://notiflix.github.io/documentation`,l='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',c={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},d={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},f={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},h={ID:"NotiflixReportWrap",className:"notiflix-report",width:"320px",backgroundColor:"#f8f8f8",borderRadius:"25px",rtl:!1,zindex:4002,backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",backOverlayClickToClose:!1,fontFamily:"Quicksand",svgSize:"110px",plainText:!0,titleFontSize:"16px",titleMaxLength:34,messageFontSize:"13px",messageMaxLength:400,buttonFontSize:"14px",buttonMaxLength:34,cssAnimation:!0,cssAnimationDuration:360,cssAnimationStyle:"fade",success:{svgColor:"#32c682",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#32c682",buttonColor:"#fff",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{svgColor:"#ff5549",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#ff5549",buttonColor:"#fff",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{svgColor:"#eebf31",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#eebf31",buttonColor:"#fff",backOverlayColor:"rgba(238,191,49,0.2)"},info:{svgColor:"#26c0d3",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#26c0d3",buttonColor:"#fff",backOverlayColor:"rgba(38,192,211,0.2)"}},m={Show:"Show",Ask:"Ask",Prompt:"Prompt"},y={ID:"NotiflixConfirmWrap",className:"notiflix-confirm",width:"300px",zindex:4003,position:"center",distance:"10px",backgroundColor:"#f8f8f8",borderRadius:"25px",backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,cssAnimationStyle:"fade",plainText:!0,titleColor:"#32c682",titleFontSize:"16px",titleMaxLength:34,messageColor:"#1e1e1e",messageFontSize:"14px",messageMaxLength:110,buttonsFontSize:"15px",buttonsMaxLength:34,okButtonColor:"#f8f8f8",okButtonBackground:"#32c682",cancelButtonColor:"#f8f8f8",cancelButtonBackground:"#a9a9a9"},g={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse",Custom:"Custom",Notiflix:"Notiflix"},v={ID:"NotiflixLoadingWrap",className:"notiflix-loading",zindex:4e3,backgroundColor:"rgba(0,0,0,0.8)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:400,clickToClose:!1,customSvgUrl:null,customSvgCode:null,svgSize:"80px",svgColor:"#32c682",messageID:"NotiflixLoadingMessage",messageFontSize:"15px",messageMaxLength:34,messageColor:"#dcdcdc"},b={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse"},x={ID:"NotiflixBlockWrap",querySelectorLimit:200,className:"notiflix-block",position:"absolute",zindex:1e3,backgroundColor:"rgba(255,255,255,0.9)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,svgSize:"45px",svgColor:"#383838",messageFontSize:"14px",messageMaxLength:34,messageColor:"#383838"},w=function(M){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549",`
`+M+s)},S=function(M){return console.log("%c Notiflix Info ","padding:2px;border-radius:20px;color:#fff;background:#26c0d3",`
`+M+s)},A=function(M){return M||(M="head"),e.document[M]!==void 0||(w(`
Notiflix needs to be appended to the "<`+M+'>" element, but you called it before the "<'+M+'>" element has been created.'),!1)},C=function(M,F){if(!A("head"))return!1;if(M()!==null&&!e.document.getElementById(F)){var H=e.document.createElement("style");H.id=F,H.innerHTML=M(),e.document.head.appendChild(H)}},T=function(){var M={},F=!1,H=0;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(F=arguments[0],H++);for(var ge=function(Se){for(var je in Se)Object.prototype.hasOwnProperty.call(Se,je)&&(M[je]=F&&Object.prototype.toString.call(Se[je])==="[object Object]"?T(M[je],Se[je]):Se[je])};H<arguments.length;H++)ge(arguments[H]);return M},E=function(M){var F=e.document.createElement("div");return F.innerHTML=M,F.textContent||F.innerText||""},N=function(M,F){M||(M="110px"),F||(F="#32c682");var H='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportSuccess" width="'+M+'" height="'+M+'" fill="'+F+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@-webkit-keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportSuccess *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportSuccess2-animation;animation-name:NXReportSuccess2-animation;-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportSuccess3-animation;animation-name:NXReportSuccess3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportSuccess1-animation;animation-name:NXReportSuccess1-animation;-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M88.27 35.39L52.8 75.29 31.43 58.2c-.98-.81-2.44-.63-3.24.36-.79.99-.63 2.44.36 3.24l23.08 18.46c.43.34.93.51 1.44.51.64 0 1.27-.26 1.74-.78l36.91-41.53a2.3 2.3 0 0 0-.19-3.26c-.95-.86-2.41-.77-3.26.19z" style="-webkit-animation-name:NXReportSuccess4-animation;animation-name:NXReportSuccess4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return H},P=function(M,F){M||(M="110px"),F||(F="#ff5549");var H='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportFailure" width="'+M+'" height="'+M+'" fill="'+F+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportFailure *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportFailure1-animation;animation-name:NXReportFailure1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M4.35 34.95c0-16.82 13.78-30.6 30.6-30.6h50.1c16.82 0 30.6 13.78 30.6 30.6v50.1c0 16.82-13.78 30.6-30.6 30.6h-50.1c-16.82 0-30.6-13.78-30.6-30.6v-50.1zM34.95 120h50.1c19.22 0 34.95-15.73 34.95-34.95v-50.1C120 15.73 104.27 0 85.05 0h-50.1C15.73 0 0 15.73 0 34.95v50.1C0 104.27 15.73 120 34.95 120z" style="-webkit-animation-name:NXReportFailure2-animation;animation-name:NXReportFailure2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportFailure3-animation;animation-name:NXReportFailure3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M82.4 37.6c-.9-.9-2.37-.9-3.27 0L60 56.73 40.86 37.6a2.306 2.306 0 0 0-3.26 3.26L56.73 60 37.6 79.13c-.9.9-.9 2.37 0 3.27.45.45 1.04.68 1.63.68.59 0 1.18-.23 1.63-.68L60 63.26 79.13 82.4c.45.45 1.05.68 1.64.68.58 0 1.18-.23 1.63-.68.9-.9.9-2.37 0-3.27L63.26 60 82.4 40.86c.9-.91.9-2.36 0-3.26z" style="-webkit-animation-name:NXReportFailure4-animation;animation-name:NXReportFailure4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return H},R=function(M,F){M||(M="110px"),F||(F="#eebf31");var H='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportWarning" width="'+M+'" height="'+M+'" fill="'+F+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@-webkit-keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportWarning *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportWarning1-animation;animation-name:NXReportWarning1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M115.46 106.15l-54.04-93.8c-.61-1.06-2.23-1.06-2.84 0l-54.04 93.8c-.62 1.07.21 2.29 1.42 2.29h108.08c1.21 0 2.04-1.22 1.42-2.29zM65.17 10.2l54.04 93.8c2.28 3.96-.65 8.78-5.17 8.78H5.96c-4.52 0-7.45-4.82-5.17-8.78l54.04-93.8c2.28-3.95 8.03-4 10.34 0z" style="-webkit-animation-name:NXReportWarning2-animation;animation-name:NXReportWarning2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportWarning3-animation;animation-name:NXReportWarning3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)"><path d="M57.83 94.01c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17v-3.2c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v3.2zm0-14.15c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17V39.21c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v40.65z" style="-webkit-animation-name:NXReportWarning4-animation;animation-name:NXReportWarning4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return H},O=function(M,F){M||(M="110px"),F||(F="#26c0d3");var H='<svg xmlns="http://www.w3.org/2000/svg" id="NXReportInfo" width="'+M+'" height="'+M+'" fill="'+F+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportInfo *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportInfo1-animation;animation-name:NXReportInfo1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportInfo2-animation;animation-name:NXReportInfo2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportInfo3-animation;animation-name:NXReportInfo3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M57.75 43.85c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v48.18c0 1.24-1.01 2.25-2.25 2.25s-2.25-1.01-2.25-2.25V43.85zm0-15.88c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v3.32c0 1.25-1.01 2.25-2.25 2.25s-2.25-1-2.25-2.25v-3.32z" style="-webkit-animation-name:NXReportInfo4-animation;animation-name:NXReportInfo4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>';return H},j=function(M,F){M||(M="60px"),F||(F="#32c682");var H='<svg xmlns="http://www.w3.org/2000/svg" stroke="'+F+'" width="'+M+'" height="'+M+'" transform="scale(.8)" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd" stroke-width="2" transform="translate(1 1)"><circle cx="18" cy="18" r="18" stroke-opacity=".25"/><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" dur="1s" from="0 18 18" repeatCount="indefinite" to="360 18 18" type="rotate"/></path></g></svg>';return H},$=function(M,F){M||(M="60px"),F||(F="#32c682");var H='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingHourglass" fill="'+F+'" width="'+M+'" height="'+M+'" viewBox="0 0 200 200"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group="true" data-animator-type="1" style="-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box"><g id="NXhourglass2" fill="inherit"><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass4" d="M100 100l-34.38 32.08v31.14h68.76v-31.14z"/></g><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass6" d="M100 100L65.62 67.92V36.78h68.76v31.14z"/></g><path d="M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z"/></g></g></svg>';return H},V=function(M,F){M||(M="60px"),F||(F="#32c682");var H='<svg xmlns="http://www.w3.org/2000/svg" width="'+M+'" height="'+M+'" viewBox="25 25 50 50" style="-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:'+M+";-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:"+M+';position:absolute;top:0;left:0;margin:auto"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx="50" cy="50" r="20" fill="none" stroke="'+F+'" stroke-width="2" style="-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite" stroke-dasharray="150 200" stroke-dashoffset="-10" stroke-linecap="round"/></svg>';return H},U=function(M,F){M||(M="60px"),F||(F="#32c682");var H='<svg xmlns="http://www.w3.org/2000/svg" fill="'+F+'" width="'+M+'" height="'+M+'" viewBox="0 0 128 128"><g><path fill="inherit" d="M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z"/><animateTransform attributeName="transform" dur="1.5s" from="0 64 64" repeatCount="indefinite" to="360 64 64" type="rotate"/></g></svg>';return H},q=function(M,F){M||(M="60px"),F||(F="#32c682");var H='<svg xmlns="http://www.w3.org/2000/svg" fill="'+F+'" width="'+M+'" height="'+M+'" viewBox="0 0 100 100"><g transform="translate(25 50)"><circle r="9" fill="inherit" transform="scale(.239)"><animateTransform attributeName="transform" begin="-0.266s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(50 50)"><circle r="9" fill="inherit" transform="scale(.00152)"><animateTransform attributeName="transform" begin="-0.133s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(75 50)"><circle r="9" fill="inherit" transform="scale(.299)"><animateTransform attributeName="transform" begin="0s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g></svg>';return H},L=function(M,F){M||(M="60px"),F||(F="#32c682");var H='<svg xmlns="http://www.w3.org/2000/svg" stroke="'+F+'" width="'+M+'" height="'+M+'" viewBox="0 0 44 44"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>';return H},K=function(M,F,H){M||(M="60px");var ge='<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingNotiflixLib" width="'+M+'" height="'+M+'" viewBox="0 0 200 200"><defs><style>@keyframes notiflix-n{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-x{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-dot{0%,to{stroke-width:0}50%{stroke-width:12}}.nx-icon-line{stroke:'+F+';stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:22;fill:none}</style></defs><path d="M47.97 135.05a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z" style="animation-name:notiflix-dot;animation-timing-function:ease-in-out;animation-duration:1.25s;animation-iteration-count:infinite;animation-direction:normal" fill="'+H+'" stroke="'+H+'" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="22" stroke-width="12"/><path class="nx-icon-line" d="M10.14 144.76V87.55c0-5.68-4.54-41.36 37.83-41.36 42.36 0 37.82 35.68 37.82 41.36v57.21" style="animation-name:notiflix-n;animation-timing-function:linear;animation-duration:2.5s;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/><path class="nx-icon-line" d="M115.06 144.49c24.98-32.68 49.96-65.35 74.94-98.03M114.89 46.6c25.09 32.58 50.19 65.17 75.29 97.75" style="animation-name:notiflix-x;animation-timing-function:linear;animation-duration:2.5s;animation-delay:.2s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/></svg>';return ge},Q=function(){return'[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}'},ee=0,ne=function(M,F,H,ge){if(!A("body"))return!1;n||ke.Notify.init({});var Se=T(!0,n,{});if(typeof H=="object"&&!Array.isArray(H)||typeof ge=="object"&&!Array.isArray(ge)){var je={};typeof H=="object"?je=H:typeof ge=="object"&&(je=ge),n=T(!0,n,je)}var Oe=n[M.toLocaleLowerCase("en")];ee++,typeof F!="string"&&(F="Notiflix "+M),n.plainText&&(F=E(F)),!n.plainText&&F.length>n.messageMaxLength&&(n=T(!0,n,{closeButton:!0,messageMaxLength:150}),F='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),F.length>n.messageMaxLength&&(F=F.substring(0,n.messageMaxLength)+"..."),n.fontAwesomeIconStyle==="shadow"&&(Oe.fontAwesomeIconColor=Oe.background),n.cssAnimation||(n.cssAnimationDuration=0);var de=e.document.getElementById(d.wrapID)||e.document.createElement("div");if(de.id=d.wrapID,de.style.width=n.width,de.style.zIndex=n.zindex,de.style.opacity=n.opacity,n.position==="center-center"?(de.style.left=n.distance,de.style.top=n.distance,de.style.right=n.distance,de.style.bottom=n.distance,de.style.margin="auto",de.classList.add("nx-flex-center-center"),de.style.maxHeight="calc((100vh - "+n.distance+") - "+n.distance+")",de.style.display="flex",de.style.flexWrap="wrap",de.style.flexDirection="column",de.style.justifyContent="center",de.style.alignItems="center",de.style.pointerEvents="none"):n.position==="center-top"?(de.style.left=n.distance,de.style.right=n.distance,de.style.top=n.distance,de.style.bottom="auto",de.style.margin="auto"):n.position==="center-bottom"?(de.style.left=n.distance,de.style.right=n.distance,de.style.bottom=n.distance,de.style.top="auto",de.style.margin="auto"):n.position==="right-bottom"?(de.style.right=n.distance,de.style.bottom=n.distance,de.style.top="auto",de.style.left="auto"):n.position==="left-top"?(de.style.left=n.distance,de.style.top=n.distance,de.style.right="auto",de.style.bottom="auto"):n.position==="left-bottom"?(de.style.left=n.distance,de.style.bottom=n.distance,de.style.top="auto",de.style.right="auto"):(de.style.right=n.distance,de.style.top=n.distance,de.style.left="auto",de.style.bottom="auto"),n.backOverlay){var Ke=e.document.getElementById(d.overlayID)||e.document.createElement("div");Ke.id=d.overlayID,Ke.style.width="100%",Ke.style.height="100%",Ke.style.position="fixed",Ke.style.zIndex=n.zindex-1,Ke.style.left=0,Ke.style.top=0,Ke.style.right=0,Ke.style.bottom=0,Ke.style.background=Oe.backOverlayColor||n.backOverlayColor,Ke.className=n.cssAnimation?"nx-with-animation":"",Ke.style.animationDuration=n.cssAnimation?n.cssAnimationDuration+"ms":"",e.document.getElementById(d.overlayID)||e.document.body.appendChild(Ke)}e.document.getElementById(d.wrapID)||e.document.body.appendChild(de);var Pe=e.document.createElement("div");Pe.id=n.ID+"-"+ee,Pe.className=n.className+" "+Oe.childClassName+" "+(n.cssAnimation?"nx-with-animation":"")+" "+(n.useIcon?"nx-with-icon":"")+" nx-"+n.cssAnimationStyle+" "+(n.closeButton&&typeof H!="function"?"nx-with-close-button":"")+" "+(typeof H=="function"?"nx-with-callback":"")+" "+(n.clickToClose?"nx-notify-click-to-close":""),Pe.style.fontSize=n.fontSize,Pe.style.color=Oe.textColor,Pe.style.background=Oe.background,Pe.style.borderRadius=n.borderRadius,Pe.style.pointerEvents="all",n.rtl&&(Pe.setAttribute("dir","rtl"),Pe.classList.add("nx-rtl-on")),Pe.style.fontFamily='"'+n.fontFamily+'", '+l,n.cssAnimation&&(Pe.style.animationDuration=n.cssAnimationDuration+"ms");var nt="";if(n.closeButton&&typeof H!="function"&&(nt='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+Oe.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),!n.useIcon)Pe.innerHTML='<span class="nx-message">'+F+"</span>"+(n.closeButton?nt:"");else if(n.useFontAwesome)Pe.innerHTML='<i style="color:'+Oe.fontAwesomeIconColor+"; font-size:"+n.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+Oe.fontAwesomeClassName+" "+(n.fontAwesomeIconStyle==="shadow"?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+F+"</span>"+(n.closeButton?nt:"");else{var Mt="";M===c.Success?Mt='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+Oe.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':M===c.Failure?Mt='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+Oe.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':M===c.Warning?Mt='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+Oe.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':M===c.Info&&(Mt='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+Oe.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),Pe.innerHTML=Mt+'<span class="nx-message nx-with-icon">'+F+"</span>"+(n.closeButton?nt:"")}if(n.position==="left-bottom"||n.position==="right-bottom"){var Je=e.document.getElementById(d.wrapID);Je.insertBefore(Pe,Je.firstChild)}else e.document.getElementById(d.wrapID).appendChild(Pe);var Xe=e.document.getElementById(Pe.id);if(Xe){var Qe,Bt,rt=function(){Xe.classList.add("nx-remove");var Ue=e.document.getElementById(d.overlayID);Ue&&0>=de.childElementCount&&Ue.classList.add("nx-remove"),clearTimeout(Qe)},Pr=function(){if(Xe&&Xe.parentNode!==null&&Xe.parentNode.removeChild(Xe),0>=de.childElementCount&&de.parentNode!==null){de.parentNode.removeChild(de);var Ue=e.document.getElementById(d.overlayID);Ue&&Ue.parentNode!==null&&Ue.parentNode.removeChild(Ue)}clearTimeout(Bt)};if(n.closeButton&&typeof H!="function"){var Cn=e.document.getElementById(Pe.id).querySelector("span.nx-close-button");Cn.addEventListener("click",function(){rt();var Ue=setTimeout(function(){Pr(),clearTimeout(Ue)},n.cssAnimationDuration)})}if((typeof H=="function"||n.clickToClose)&&Xe.addEventListener("click",function(){typeof H=="function"&&H(),rt();var Ue=setTimeout(function(){Pr(),clearTimeout(Ue)},n.cssAnimationDuration)}),!n.closeButton&&typeof H!="function"){var xn=function(){Qe=setTimeout(function(){rt()},n.timeout),Bt=setTimeout(function(){Pr()},n.timeout+n.cssAnimationDuration)};xn(),n.pauseOnHover&&(Xe.addEventListener("mouseenter",function(){Xe.classList.add("nx-paused"),clearTimeout(Qe),clearTimeout(Bt)}),Xe.addEventListener("mouseleave",function(){Xe.classList.remove("nx-paused"),xn()}))}}if(n.showOnlyTheLastOne&&0<ee)for(var bn,Et=e.document.querySelectorAll("[id^="+n.ID+"-]:not([id="+n.ID+"-"+ee+"])"),Bi=0;Bi<Et.length;Bi++)bn=Et[Bi],bn.parentNode!==null&&bn.parentNode.removeChild(bn);n=T(!0,n,Se)},oe=function(){return'[id^=NotiflixReportWrap]{position:fixed;z-index:4002;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;left:0;top:0;padding:10px;color:#1e1e1e;border-radius:25px;background:transparent;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixReportWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixReportWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixReportWrap]>div.nx-report-click-to-close{cursor:pointer}[id^=NotiflixReportWrap]>div[class*="-content"]{width:320px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:inherit;padding:10px;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));border:1px solid rgba(0,0,0,.03);background:#f8f8f8;position:relative;z-index:1}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:110px;height:110px;display:block;margin:6px auto 12px}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"] svg{min-width:100%;max-width:100%;height:auto}[id^=NotiflixReportWrap]>*>h5{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:16px;font-weight:500;line-height:1.4;margin:0 0 10px;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);float:left;width:100%;text-align:center}[id^=NotiflixReportWrap]>*>p{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:13px;line-height:1.4;font-weight:normal;float:left;width:100%;padding:0 10px;margin:0 0 10px}[id^=NotiflixReportWrap] a#NXReportButton{word-break:break-all;word-break:break-word;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;cursor:pointer;float:right;padding:7px 17px;background:#32c682;font-size:14px;line-height:1.4;font-weight:500;border-radius:inherit!important;color:#fff}[id^=NotiflixReportWrap] a#NXReportButton:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixReportWrap].nx-rtl-on a#NXReportButton{float:left}[id^=NotiflixReportWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:report-overlay-animation .3s ease-in-out 0s normal;animation:report-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-fade{-webkit-animation:report-animation-fade .3s ease-in-out 0s normal;animation:report-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-zoom{-webkit-animation:report-animation-zoom .3s ease-in-out 0s normal;animation:report-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixReportWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:report-overlay-animation-remove .3s ease-in-out 0s normal;animation:report-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-fade{opacity:0;-webkit-animation:report-animation-fade-remove .3s ease-in-out 0s normal;animation:report-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-zoom{opacity:0;-webkit-animation:report-animation-zoom-remove .3s ease-in-out 0s normal;animation:report-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},J=function(M,F,H,ge,Se,je){if(!A("body"))return!1;r||ke.Report.init({});var Oe={};if(typeof Se=="object"&&!Array.isArray(Se)||typeof je=="object"&&!Array.isArray(je)){var de={};typeof Se=="object"?de=Se:typeof je=="object"&&(de=je),Oe=T(!0,r,{}),r=T(!0,r,de)}var Ke=r[M.toLocaleLowerCase("en")];typeof F!="string"&&(F="Notiflix "+M),typeof H!="string"&&(M===f.Success?H='"Do not try to become a person of success but try to become a person of value." <br><br>- Albert Einstein':M===f.Failure?H='"Failure is simply the opportunity to begin again, this time more intelligently." <br><br>- Henry Ford':M===f.Warning?H='"The peoples who want to live comfortably without producing and fatigue; they are doomed to lose their dignity, then liberty, and then independence and destiny." <br><br>- Mustafa Kemal Ataturk':M===f.Info&&(H='"Knowledge rests not upon truth alone, but upon error also." <br><br>- Carl Gustav Jung')),typeof ge!="string"&&(ge="Okay"),r.plainText&&(F=E(F),H=E(H),ge=E(ge)),r.plainText||(F.length>r.titleMaxLength&&(F="Possible HTML Tags Error",H='The "plainText" option is "false" and the title content length is more than the "titleMaxLength" option.',ge="Okay"),H.length>r.messageMaxLength&&(F="Possible HTML Tags Error",H='The "plainText" option is "false" and the message content length is more than the "messageMaxLength" option.',ge="Okay"),ge.length>r.buttonMaxLength&&(F="Possible HTML Tags Error",H='The "plainText" option is "false" and the button content length is more than the "buttonMaxLength" option.',ge="Okay")),F.length>r.titleMaxLength&&(F=F.substring(0,r.titleMaxLength)+"..."),H.length>r.messageMaxLength&&(H=H.substring(0,r.messageMaxLength)+"..."),ge.length>r.buttonMaxLength&&(ge=ge.substring(0,r.buttonMaxLength)+"..."),r.cssAnimation||(r.cssAnimationDuration=0);var Pe=e.document.createElement("div");Pe.id=h.ID,Pe.className=r.className,Pe.style.zIndex=r.zindex,Pe.style.borderRadius=r.borderRadius,Pe.style.fontFamily='"'+r.fontFamily+'", '+l,r.rtl&&(Pe.setAttribute("dir","rtl"),Pe.classList.add("nx-rtl-on")),Pe.style.display="flex",Pe.style.flexWrap="wrap",Pe.style.flexDirection="column",Pe.style.alignItems="center",Pe.style.justifyContent="center";var nt="",Mt=r.backOverlayClickToClose===!0;r.backOverlay&&(nt='<div class="'+r.className+"-overlay"+(r.cssAnimation?" nx-with-animation":"")+(Mt?" nx-report-click-to-close":"")+'" style="background:'+(Ke.backOverlayColor||r.backOverlayColor)+";animation-duration:"+r.cssAnimationDuration+'ms;"></div>');var Je="";if(M===f.Success?Je=N(r.svgSize,Ke.svgColor):M===f.Failure?Je=P(r.svgSize,Ke.svgColor):M===f.Warning?Je=R(r.svgSize,Ke.svgColor):M===f.Info&&(Je=O(r.svgSize,Ke.svgColor)),Pe.innerHTML=nt+'<div class="'+r.className+"-content"+(r.cssAnimation?" nx-with-animation ":"")+" nx-"+r.cssAnimationStyle+'" style="width:'+r.width+"; background:"+r.backgroundColor+"; animation-duration:"+r.cssAnimationDuration+'ms;"><div style="width:'+r.svgSize+"; height:"+r.svgSize+';" class="'+r.className+'-icon">'+Je+'</div><h5 class="'+r.className+'-title" style="font-weight:500; font-size:'+r.titleFontSize+"; color:"+Ke.titleColor+';">'+F+'</h5><p class="'+r.className+'-message" style="font-size:'+r.messageFontSize+"; color:"+Ke.messageColor+';">'+H+'</p><a id="NXReportButton" class="'+r.className+'-button" style="font-weight:500; font-size:'+r.buttonFontSize+"; background:"+Ke.buttonBackground+"; color:"+Ke.buttonColor+';">'+ge+"</a></div>",!e.document.getElementById(Pe.id)){e.document.body.appendChild(Pe);var Xe=function(){var rt=e.document.getElementById(Pe.id);rt.classList.add("nx-remove");var Pr=setTimeout(function(){rt.parentNode!==null&&rt.parentNode.removeChild(rt),clearTimeout(Pr)},r.cssAnimationDuration)},Qe=e.document.getElementById("NXReportButton");if(Qe.addEventListener("click",function(){typeof Se=="function"&&Se(),Xe()}),nt&&Mt){var Bt=e.document.querySelector(".nx-report-click-to-close");Bt.addEventListener("click",function(){Xe()})}}r=T(!0,r,Oe)},fe=function(){return'[id^=NotiflixConfirmWrap]{position:fixed;z-index:4003;width:100%;height:100%;left:0;top:0;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixConfirmWrap].nx-position-center-top{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-center-bottom{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-left-top{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-center{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-bottom{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-top{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-right-center{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-bottom{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixConfirmWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixConfirmWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:confirm-overlay-animation .3s ease-in-out 0s normal;animation:confirm-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal;animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap]>div[class*="-content"]{width:300px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:25px;padding:10px;margin:0;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));background:#f8f8f8;color:#1e1e1e;position:relative;z-index:1;text-align:center}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]{float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>h5{float:left;width:100%;margin:0;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);color:#32c682;font-family:inherit!important;font-size:16px;line-height:1.4;font-weight:500;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div{font-family:inherit!important;margin:15px 0 20px;padding:0 10px;float:left;width:100%;font-size:14px;line-height:1.4;font-weight:normal;color:inherit;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div{font-family:inherit!important;float:left;width:100%;margin:15px 0 0;padding:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input{font-family:inherit!important;float:left;width:100%;height:40px;margin:0;padding:0 15px;border:1px solid rgba(0,0,0,.1);border-radius:25px;font-size:14px;font-weight:normal;line-height:1;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;text-align:left}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-head"]>div>div>input{text-align:right}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:hover{border-color:rgba(0,0,0,.1)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:focus{border-color:rgba(0,0,0,.3)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-failure{border-color:#ff5549}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-success{border-color:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:inherit;float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a{cursor:pointer;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;float:left;width:48%;padding:9px 5px;border-radius:inherit!important;font-weight:500;font-size:15px;line-height:1.4;color:#f8f8f8;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-ok{margin:0 2% 0 0;background:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-cancel{margin:0 0 0 2%;background:#a9a9a9}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-full{margin:0;width:100%}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"],[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"]>a{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade>div[class*="-content"]{-webkit-animation:confirm-animation-fade .3s ease-in-out 0s normal;animation:confirm-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom>div[class*="-content"]{-webkit-animation:confirm-animation-zoom .3s ease-in-out 0s normal;animation:confirm-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-fade-remove .3s ease-in-out 0s normal;animation:confirm-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal;animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},Ce=function(M,F,H,ge,Se,je,Oe,de,Ke){if(!A("body"))return!1;i||ke.Confirm.init({});var Pe=T(!0,i,{});typeof Ke!="object"||Array.isArray(Ke)||(i=T(!0,i,Ke)),typeof F!="string"&&(F="Notiflix Confirm"),typeof H!="string"&&(H="Do you agree with me?"),typeof Se!="string"&&(Se="Yes"),typeof je!="string"&&(je="No"),typeof Oe!="function"&&(Oe=void 0),typeof de!="function"&&(de=void 0),i.plainText&&(F=E(F),H=E(H),Se=E(Se),je=E(je)),i.plainText||(F.length>i.titleMaxLength&&(F="Possible HTML Tags Error",H='The "plainText" option is "false" and the title content length is more than "titleMaxLength" option.',Se="Okay",je="..."),H.length>i.messageMaxLength&&(F="Possible HTML Tags Error",H='The "plainText" option is "false" and the message content length is more than "messageMaxLength" option.',Se="Okay",je="..."),(Se.length||je.length)>i.buttonsMaxLength&&(F="Possible HTML Tags Error",H='The "plainText" option is "false" and the buttons content length is more than "buttonsMaxLength" option.',Se="Okay",je="...")),F.length>i.titleMaxLength&&(F=F.substring(0,i.titleMaxLength)+"..."),H.length>i.messageMaxLength&&(H=H.substring(0,i.messageMaxLength)+"..."),Se.length>i.buttonsMaxLength&&(Se=Se.substring(0,i.buttonsMaxLength)+"..."),je.length>i.buttonsMaxLength&&(je=je.substring(0,i.buttonsMaxLength)+"..."),i.cssAnimation||(i.cssAnimationDuration=0);var nt=e.document.createElement("div");nt.id=y.ID,nt.className=i.className+(i.cssAnimation?" nx-with-animation nx-"+i.cssAnimationStyle:""),nt.style.zIndex=i.zindex,nt.style.padding=i.distance,i.rtl&&(nt.setAttribute("dir","rtl"),nt.classList.add("nx-rtl-on"));var Mt=typeof i.position=="string"?i.position.trim():"center";nt.classList.add("nx-position-"+Mt),nt.style.fontFamily='"'+i.fontFamily+'", '+l;var Je="";i.backOverlay&&(Je='<div class="'+i.className+"-overlay"+(i.cssAnimation?" nx-with-animation":"")+'" style="background:'+i.backOverlayColor+";animation-duration:"+i.cssAnimationDuration+'ms;"></div>');var Xe="";typeof Oe=="function"&&(Xe='<a id="NXConfirmButtonCancel" class="nx-confirm-button-cancel" style="color:'+i.cancelButtonColor+";background:"+i.cancelButtonBackground+";font-size:"+i.buttonsFontSize+';">'+je+"</a>");var Qe="",Bt=null,rt=void 0;if(M===m.Ask||M===m.Prompt){Bt=ge||"";var Pr=M===m.Ask||200<Bt.length?Math.ceil(1.5*Bt.length):250,Cn=M===m.Prompt?'value="'+Bt+'"':"";Qe='<div><input id="NXConfirmValidationInput" type="text" '+Cn+' maxlength="'+Pr+'" style="font-size:'+i.messageFontSize+";border-radius: "+i.borderRadius+';" autocomplete="off" spellcheck="false" autocapitalize="none" /></div>'}if(nt.innerHTML=Je+'<div class="'+i.className+'-content" style="width:'+i.width+"; background:"+i.backgroundColor+"; animation-duration:"+i.cssAnimationDuration+"ms; border-radius: "+i.borderRadius+';"><div class="'+i.className+'-head"><h5 style="color:'+i.titleColor+";font-size:"+i.titleFontSize+';">'+F+'</h5><div style="color:'+i.messageColor+";font-size:"+i.messageFontSize+';">'+H+Qe+'</div></div><div class="'+i.className+'-buttons"><a id="NXConfirmButtonOk" class="nx-confirm-button-ok'+(typeof Oe=="function"?"":" nx-full")+'" style="color:'+i.okButtonColor+";background:"+i.okButtonBackground+";font-size:"+i.buttonsFontSize+';">'+Se+"</a>"+Xe+"</div></div>",!e.document.getElementById(nt.id)){e.document.body.appendChild(nt);var xn=e.document.getElementById(nt.id),bn=e.document.getElementById("NXConfirmButtonOk"),Et=e.document.getElementById("NXConfirmValidationInput");if(Et&&(Et.focus(),Et.setSelectionRange(0,(Et.value||"").length),Et.addEventListener("keyup",function(Ue){var Ui=Ue.target.value;if(M===m.Ask&&Ui!==Bt)Ue.preventDefault(),Et.classList.add("nx-validation-failure"),Et.classList.remove("nx-validation-success");else{M===m.Ask&&(Et.classList.remove("nx-validation-failure"),Et.classList.add("nx-validation-success"));var ha=(Ue.key||"").toLocaleLowerCase("en")==="enter"||Ue.keyCode===13;ha&&bn.dispatchEvent(new Event("click"))}})),bn.addEventListener("click",function(Ue){if(M===m.Ask&&Bt&&Et){var Ui=(Et.value||"").toString();if(Ui!==Bt)return Et.focus(),Et.classList.add("nx-validation-failure"),Ue.stopPropagation(),Ue.preventDefault(),Ue.returnValue=!1,Ue.cancelBubble=!0,!1;Et.classList.remove("nx-validation-failure")}typeof Oe=="function"&&(M===m.Prompt&&Et&&(rt=Et.value||""),Oe(rt)),xn.classList.add("nx-remove");var ha=setTimeout(function(){xn.parentNode!==null&&(xn.parentNode.removeChild(xn),clearTimeout(ha))},i.cssAnimationDuration)}),typeof Oe=="function"){var Bi=e.document.getElementById("NXConfirmButtonCancel");Bi.addEventListener("click",function(){typeof de=="function"&&(M===m.Prompt&&Et&&(rt=Et.value||""),de(rt)),xn.classList.add("nx-remove");var Ue=setTimeout(function(){xn.parentNode!==null&&(xn.parentNode.removeChild(xn),clearTimeout(Ue))},i.cssAnimationDuration)})}}i=T(!0,i,Pe)},te=function(){return'[id^=NotiflixLoadingWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;z-index:4000;width:100%;height:100%;left:0;top:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.8);font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}[id^=NotiflixLoadingWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixLoadingWrap].nx-loading-click-to-close{cursor:pointer}[id^=NotiflixLoadingWrap]>div[class*="-icon"]{width:60px;height:60px;position:relative;-webkit-transition:top .2s ease-in-out;-o-transition:top .2s ease-in-out;transition:top .2s ease-in-out;margin:0 auto}[id^=NotiflixLoadingWrap]>div[class*="-icon"] img,[id^=NotiflixLoadingWrap]>div[class*="-icon"] svg{max-width:unset;max-height:unset;width:100%;height:auto;position:absolute;left:0;top:0}[id^=NotiflixLoadingWrap]>p{position:relative;margin:10px auto 0;font-family:inherit!important;font-weight:normal;font-size:15px;line-height:1.4;padding:0 10px;width:100%;text-align:center}[id^=NotiflixLoadingWrap].nx-with-animation{-webkit-animation:loading-animation-fade .3s ease-in-out 0s normal;animation:loading-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixLoadingWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:loading-animation-fade-remove .3s ease-in-out 0s normal;animation:loading-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixLoadingWrap]>p.nx-loading-message-new{-webkit-animation:loading-new-message-fade .3s ease-in-out 0s normal;animation:loading-new-message-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}'},Ae=function(M,F,H,ge,Se){if(!A("body"))return!1;o||ke.Loading.init({});var je=T(!0,o,{});if(typeof F=="object"&&!Array.isArray(F)||typeof H=="object"&&!Array.isArray(H)){var Oe={};typeof F=="object"?Oe=F:typeof H=="object"&&(Oe=H),o=T(!0,o,Oe)}var de="";if(typeof F=="string"&&0<F.length&&(de=F),ge){de=de.length>o.messageMaxLength?E(de).toString().substring(0,o.messageMaxLength)+"...":E(de).toString();var Ke="";0<de.length&&(Ke='<p id="'+o.messageID+'" class="nx-loading-message" style="color:'+o.messageColor+";font-size:"+o.messageFontSize+';">'+de+"</p>"),o.cssAnimation||(o.cssAnimationDuration=0);var Pe="";if(M===g.Standard)Pe=j(o.svgSize,o.svgColor);else if(M===g.Hourglass)Pe=$(o.svgSize,o.svgColor);else if(M===g.Circle)Pe=V(o.svgSize,o.svgColor);else if(M===g.Arrows)Pe=U(o.svgSize,o.svgColor);else if(M===g.Dots)Pe=q(o.svgSize,o.svgColor);else if(M===g.Pulse)Pe=L(o.svgSize,o.svgColor);else if(M===g.Custom&&o.customSvgCode!==null&&o.customSvgUrl===null)Pe=o.customSvgCode||"";else if(M===g.Custom&&o.customSvgUrl!==null&&o.customSvgCode===null)Pe='<img class="nx-custom-loading-icon" width="'+o.svgSize+'" height="'+o.svgSize+'" src="'+o.customSvgUrl+'" alt="Notiflix">';else{if(M===g.Custom&&(o.customSvgUrl===null||o.customSvgCode===null))return w('You have to set a static SVG url to "customSvgUrl" option to use Loading Custom.'),!1;Pe=K(o.svgSize,"#f8f8f8","#32c682")}var nt=parseInt((o.svgSize||"").replace(/[^0-9]/g,"")),Mt=e.innerWidth,Je=nt>=Mt?Mt-40+"px":nt+"px",Xe='<div style="width:'+Je+"; height:"+Je+';" class="'+o.className+"-icon"+(0<de.length?" nx-with-message":"")+'">'+Pe+"</div>",Qe=e.document.createElement("div");if(Qe.id=v.ID,Qe.className=o.className+(o.cssAnimation?" nx-with-animation":"")+(o.clickToClose?" nx-loading-click-to-close":""),Qe.style.zIndex=o.zindex,Qe.style.background=o.backgroundColor,Qe.style.animationDuration=o.cssAnimationDuration+"ms",Qe.style.fontFamily='"'+o.fontFamily+'", '+l,Qe.style.display="flex",Qe.style.flexWrap="wrap",Qe.style.flexDirection="column",Qe.style.alignItems="center",Qe.style.justifyContent="center",o.rtl&&(Qe.setAttribute("dir","rtl"),Qe.classList.add("nx-rtl-on")),Qe.innerHTML=Xe+Ke,!e.document.getElementById(Qe.id)&&(e.document.body.appendChild(Qe),o.clickToClose)){var Bt=e.document.getElementById(Qe.id);Bt.addEventListener("click",function(){Qe.classList.add("nx-remove");var Cn=setTimeout(function(){Qe.parentNode!==null&&(Qe.parentNode.removeChild(Qe),clearTimeout(Cn))},o.cssAnimationDuration)})}}else if(e.document.getElementById(v.ID))var rt=e.document.getElementById(v.ID),Pr=setTimeout(function(){rt.classList.add("nx-remove");var Cn=setTimeout(function(){rt.parentNode!==null&&(rt.parentNode.removeChild(rt),clearTimeout(Cn))},o.cssAnimationDuration);clearTimeout(Pr)},Se);o=T(!0,o,je)},ce=function(M){typeof M!="string"&&(M="");var F=e.document.getElementById(v.ID);if(F)if(0<M.length){M=M.length>o.messageMaxLength?E(M).substring(0,o.messageMaxLength)+"...":E(M);var H=F.getElementsByTagName("p")[0];if(H)H.innerHTML=M;else{var ge=e.document.createElement("p");ge.id=o.messageID,ge.className="nx-loading-message nx-loading-message-new",ge.style.color=o.messageColor,ge.style.fontSize=o.messageFontSize,ge.innerHTML=M,F.appendChild(ge)}}else w("Where is the new message?")},ue=function(){return'[id^=NotiflixBlockWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1000;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;background:rgba(255,255,255,.9);text-align:center;animation-duration:.4s;width:100%;height:100%;left:0;top:0;border-radius:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixBlockWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixBlockWrap]>span[class*="-icon"]{display:block;width:45px;height:45px;position:relative;margin:0 auto}[id^=NotiflixBlockWrap]>span[class*="-icon"] svg{width:inherit;height:inherit}[id^=NotiflixBlockWrap]>span[class*="-message"]{position:relative;display:block;width:100%;margin:10px auto 0;padding:0 10px;font-family:inherit!important;font-weight:normal;font-size:14px;line-height:1.4}[id^=NotiflixBlockWrap].nx-with-animation{-webkit-animation:block-animation-fade .3s ease-in-out 0s normal;animation:block-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixBlockWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:block-animation-fade-remove .3s ease-in-out 0s normal;animation:block-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}'},se=0,G=function(M,F,H,ge,Se,je){var Oe;if(Array.isArray(H)){if(1>H.length)return w("Array of HTMLElements should contains at least one HTMLElement."),!1;Oe=H}else if(Object.prototype.isPrototypeOf.call(NodeList.prototype,H)){if(1>H.length)return w("NodeListOf<HTMLElement> should contains at least one HTMLElement."),!1;Oe=Array.prototype.slice.call(H)}else{var de=typeof H!="string"||1>(H||"").length||(H||"").length===1&&((H||"")[0]==="#"||(H||"")[0]===".");if(de)return w("The selector parameter must be a string and matches a specified CSS selector(s)."),!1;var Ke=e.document.querySelectorAll(H);if(1>Ke.length)return w('You called the "Notiflix.Block..." function with "'+H+'" selector, but there is no such element(s) in the document.'),!1;Oe=Ke}a||ke.Block.init({});var Pe=T(!0,a,{});if(typeof ge=="object"&&!Array.isArray(ge)||typeof Se=="object"&&!Array.isArray(Se)){var nt={};typeof ge=="object"?nt=ge:typeof Se=="object"&&(nt=Se),a=T(!0,a,nt)}var Mt="";typeof ge=="string"&&0<ge.length&&(Mt=ge),a.cssAnimation||(a.cssAnimationDuration=0);var Je=x.className;typeof a.className=="string"&&(Je=a.className.trim());var Xe=typeof a.querySelectorLimit=="number"?a.querySelectorLimit:200,Qe=(Oe||[]).length>=Xe?Xe:Oe.length,Bt="nx-block-temporary-position";if(M){for(var rt,Pr=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","html","head","title","script","style","iframe"],Cn=0;Cn<Qe;Cn++)if(rt=Oe[Cn],rt){if(-1<Pr.indexOf(rt.tagName.toLocaleLowerCase("en")))break;var xn=rt.querySelectorAll("[id^="+x.ID+"]");if(1>xn.length){var bn="";F&&(F===b.Hourglass?bn=$(a.svgSize,a.svgColor):F===b.Circle?bn=V(a.svgSize,a.svgColor):F===b.Arrows?bn=U(a.svgSize,a.svgColor):F===b.Dots?bn=q(a.svgSize,a.svgColor):F===b.Pulse?bn=L(a.svgSize,a.svgColor):bn=j(a.svgSize,a.svgColor));var Et='<span class="'+Je+'-icon" style="width:'+a.svgSize+";height:"+a.svgSize+';">'+bn+"</span>",Bi="";0<Mt.length&&(Mt=Mt.length>a.messageMaxLength?E(Mt).substring(0,a.messageMaxLength)+"...":E(Mt),Bi='<span style="font-size:'+a.messageFontSize+";color:"+a.messageColor+';" class="'+Je+'-message">'+Mt+"</span>"),se++;var Ue=e.document.createElement("div");Ue.id=x.ID+"-"+se,Ue.className=Je+(a.cssAnimation?" nx-with-animation":""),Ue.style.position=a.position,Ue.style.zIndex=a.zindex,Ue.style.background=a.backgroundColor,Ue.style.animationDuration=a.cssAnimationDuration+"ms",Ue.style.fontFamily='"'+a.fontFamily+'", '+l,Ue.style.display="flex",Ue.style.flexWrap="wrap",Ue.style.flexDirection="column",Ue.style.alignItems="center",Ue.style.justifyContent="center",a.rtl&&(Ue.setAttribute("dir","rtl"),Ue.classList.add("nx-rtl-on")),Ue.innerHTML=Et+Bi;var Ui=e.getComputedStyle(rt).getPropertyValue("position"),ha=typeof Ui=="string"?Ui.toLocaleLowerCase("en"):"relative",hf=Math.round(1.25*parseInt(a.svgSize))+40,qs=rt.offsetHeight||0,Ks="";hf>qs&&(Ks="min-height:"+hf+"px;");var _c="";_c=rt.getAttribute("id")?"#"+rt.getAttribute("id"):rt.classList[0]?"."+rt.classList[0]:(rt.tagName||"").toLocaleLowerCase("en");var zi="",pf=-1>=["absolute","relative","fixed","sticky"].indexOf(ha);if(pf||0<Ks.length){if(!A("head"))return!1;pf&&(zi="position:relative!important;");var Sc='<style id="Style-'+x.ID+"-"+se+'">'+_c+"."+Bt+"{"+zi+Ks+"}</style>",mf=e.document.createRange();mf.selectNode(e.document.head);var Gs=mf.createContextualFragment(Sc);e.document.head.appendChild(Gs),rt.classList.add(Bt)}rt.appendChild(Ue)}}}else var Bm=function(Qt){var yr=setTimeout(function(){Qt.parentNode!==null&&Qt.parentNode.removeChild(Qt);var Qs=Qt.getAttribute("id"),hi=e.document.getElementById("Style-"+Qs);hi&&hi.parentNode!==null&&hi.parentNode.removeChild(hi),clearTimeout(yr)},a.cssAnimationDuration)},Pn=function(Qt){if(Qt&&0<Qt.length)for(var yr,Qs=0;Qs<Qt.length;Qs++)yr=Qt[Qs],yr&&(yr.classList.add("nx-remove"),Bm(yr));else S(typeof H=="string"?'"Notiflix.Block.remove();" function called with "'+H+'" selector, but this selector does not have a "Block" element to remove.':'"Notiflix.Block.remove();" function called with "'+H+'", but this "Array<HTMLElement>" or "NodeListOf<HTMLElement>" does not have a "Block" element to remove.')},Um=function(Qt){var yr=setTimeout(function(){Qt.classList.remove(Bt),clearTimeout(yr)},a.cssAnimationDuration+300)},Xs=setTimeout(function(){for(var Qt,yr=0;yr<Qe;yr++)Qt=Oe[yr],Qt&&(Um(Qt),xn=Qt.querySelectorAll("[id^="+x.ID+"]"),Pn(xn));clearTimeout(Xs)},je);a=T(!0,a,Pe)},ke={Notify:{init:function(M){n=T(!0,d,M),C(Q,"NotiflixNotifyInternalCSS")},merge:function(M){return n?void(n=T(!0,n,M)):(w("You have to initialize the Notify module before call Merge function."),!1)},success:function(M,F,H){ne(c.Success,M,F,H)},failure:function(M,F,H){ne(c.Failure,M,F,H)},warning:function(M,F,H){ne(c.Warning,M,F,H)},info:function(M,F,H){ne(c.Info,M,F,H)}},Report:{init:function(M){r=T(!0,h,M),C(oe,"NotiflixReportInternalCSS")},merge:function(M){return r?void(r=T(!0,r,M)):(w("You have to initialize the Report module before call Merge function."),!1)},success:function(M,F,H,ge,Se){J(f.Success,M,F,H,ge,Se)},failure:function(M,F,H,ge,Se){J(f.Failure,M,F,H,ge,Se)},warning:function(M,F,H,ge,Se){J(f.Warning,M,F,H,ge,Se)},info:function(M,F,H,ge,Se){J(f.Info,M,F,H,ge,Se)}},Confirm:{init:function(M){i=T(!0,y,M),C(fe,"NotiflixConfirmInternalCSS")},merge:function(M){return i?void(i=T(!0,i,M)):(w("You have to initialize the Confirm module before call Merge function."),!1)},show:function(M,F,H,ge,Se,je,Oe){Ce(m.Show,M,F,null,H,ge,Se,je,Oe)},ask:function(M,F,H,ge,Se,je,Oe,de){Ce(m.Ask,M,F,H,ge,Se,je,Oe,de)},prompt:function(M,F,H,ge,Se,je,Oe,de){Ce(m.Prompt,M,F,H,ge,Se,je,Oe,de)}},Loading:{init:function(M){o=T(!0,v,M),C(te,"NotiflixLoadingInternalCSS")},merge:function(M){return o?void(o=T(!0,o,M)):(w("You have to initialize the Loading module before call Merge function."),!1)},standard:function(M,F){Ae(g.Standard,M,F,!0,0)},hourglass:function(M,F){Ae(g.Hourglass,M,F,!0,0)},circle:function(M,F){Ae(g.Circle,M,F,!0,0)},arrows:function(M,F){Ae(g.Arrows,M,F,!0,0)},dots:function(M,F){Ae(g.Dots,M,F,!0,0)},pulse:function(M,F){Ae(g.Pulse,M,F,!0,0)},custom:function(M,F){Ae(g.Custom,M,F,!0,0)},notiflix:function(M,F){Ae(g.Notiflix,M,F,!0,0)},remove:function(M){typeof M!="number"&&(M=0),Ae(null,null,null,!1,M)},change:function(M){ce(M)}},Block:{init:function(M){a=T(!0,x,M),C(ue,"NotiflixBlockInternalCSS")},merge:function(M){return a?void(a=T(!0,a,M)):(w('You have to initialize the "Notiflix.Block" module before call Merge function.'),!1)},standard:function(M,F,H){G(!0,b.Standard,M,F,H)},hourglass:function(M,F,H){G(!0,b.Hourglass,M,F,H)},circle:function(M,F,H){G(!0,b.Circle,M,F,H)},arrows:function(M,F,H){G(!0,b.Arrows,M,F,H)},dots:function(M,F,H){G(!0,b.Dots,M,F,H)},pulse:function(M,F,H){G(!0,b.Pulse,M,F,H)},remove:function(M,F){typeof F!="number"&&(F=0),G(!1,null,M,null,null,F)}}};return typeof e.Notiflix=="object"?T(!0,e.Notiflix,{Notify:ke.Notify,Report:ke.Report,Confirm:ke.Confirm,Loading:ke.Loading,Block:ke.Block}):{Notify:ke.Notify,Report:ke.Report,Confirm:ke.Confirm,Loading:ke.Loading,Block:ke.Block}})})(oV);var ou=oV.exports;ou.Notify.init({position:"right-top",distance:"10px",opacity:1,borderRadius:"8px",timeout:3e3,showOnlyTheLastOne:!1,clickToClose:!0,cssAnimationStyle:"from-right",fontFamily:"inherit"});ou.Report.init({svgSize:"50px",fontFamily:"inherit",titleFontSize:"16px",messageFontSize:"14px",buttonFontSize:"15px",cssAnimationStyle:"fade",plainText:!0});class ve{static success(e){ou.Notify.success(e)}static error(e){ou.Notify.failure(e)}static warning(e){ou.Notify.warning(e)}static info(e){ou.Notify.info(e)}static confirm(e,n,r){}}const zte=()=>{const t=nr(),e=jte(),[n,r]=_.useState(!e),[i,o]=_.useState(null),[a,s]=_.useState(!0),[l,c]=_.useState(null);return _.useEffect(()=>{const d=pee(so,f=>{if(s(!0),f){const h={uid:f.uid,email:f.email,displayName:f.displayName,photoURL:f.photoURL,role:localStorage.getItem("userRole")||"user"};c(h),localStorage.setItem("user",JSON.stringify(h));const m=localStorage.getItem("storeInfo");if(m)try{o(JSON.parse(m))}catch(y){console.error("Error parsing cached store info:",y)}}else localStorage.removeItem("user"),c(null),t("/login");s(!1)});return()=>d()},[t]),_.useEffect(()=>{l&&(async()=>{try{const f=await oo(pr(ft,Ty));if(!f.empty){const h=f.docs[0].data();h.id=f.docs[0].id,o(h),localStorage.setItem("storeInfo",JSON.stringify(h))}}catch(f){console.error("Error fetching store info:",f),ve.error("Failed to load store information")}})()},[l]),_.useEffect(()=>{const d=f=>{if(f.key==="storeInfo"&&f.newValue)try{const h=JSON.parse(f.newValue);o(h)}catch(h){console.error("Error parsing updated store info from storage:",h)}};return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)},[]),_.useEffect(()=>{r(!e)},[e]),a?u.jsx("div",{className:"flex h-screen items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):l?u.jsxs("div",{className:"flex h-screen overflow-hidden bg-background",children:[n&&u.jsxs("div",{className:"z-20 fixed md:relative",children:[u.jsx(Rte,{}),e&&u.jsx("div",{className:"fixed inset-0 bg-black/50 z-10",onClick:()=>r(!1)})]}),u.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[u.jsx(Ute,{sidebarOpen:n,setSidebarOpen:r,storeInfo:i,user:l}),u.jsx("main",{className:"flex-1 overflow-auto bg-gradient-to-br from-green-50/50 to-white dark:from-gray-900 dark:to-green-950/30",children:u.jsx(uq,{})})]})]}):null},ht=_.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ht.displayName="Card";const yt=_.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("flex flex-col space-y-1.5 p-6",t),...e}));yt.displayName="CardHeader";const vt=_.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:we("text-2xl font-semibold leading-none tracking-tight",t),...e}));vt.displayName="CardTitle";const pA=_.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:we("text-sm text-muted-foreground",t),...e}));pA.displayName="CardDescription";const pt=_.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("p-6 pt-0",t),...e}));pt.displayName="CardContent";const aV=_.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("flex items-center p-6 pt-0",t),...e}));aV.displayName="CardFooter";const Wte=()=>u.jsxs("div",{className:"p-6 space-y-6 w-full",children:[u.jsx("h1",{className:"text-3xl font-semibold text-green-800 dark:text-green-300",children:"Dashboard"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs(ht,{className:"bg-white/70 dark:bg-green-900/30 border-green-100 dark:border-green-800/50 shadow-lg hover:shadow-xl transition-shadow",children:[u.jsxs(yt,{className:"flex flex-row items-center justify-between pb-2 space-y-0 bg-gradient-to-r from-green-100/50 to-transparent dark:from-green-800/20 dark:to-transparent rounded-t-lg",children:[u.jsx(vt,{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Total Sales"}),u.jsx(N4,{className:"h-4 w-4 text-green-600 dark:text-green-400"})]}),u.jsxs(pt,{children:[u.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:"$45,231.89"}),u.jsx("p",{className:"text-xs text-green-600/70 dark:text-green-400/70",children:"+20.1% from last month"})]})]}),u.jsxs(ht,{className:"bg-white/70 dark:bg-green-900/30 border-green-100 dark:border-green-800/50 shadow-lg hover:shadow-xl transition-shadow",children:[u.jsxs(yt,{className:"flex flex-row items-center justify-between pb-2 space-y-0 bg-gradient-to-r from-green-100/50 to-transparent dark:from-green-800/20 dark:to-transparent rounded-t-lg",children:[u.jsx(vt,{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Orders"}),u.jsx(eI,{className:"h-4 w-4 text-green-600 dark:text-green-400"})]}),u.jsxs(pt,{children:[u.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:"+573"}),u.jsx("p",{className:"text-xs text-green-600/70 dark:text-green-400/70",children:"+201 since last hour"})]})]}),u.jsxs(ht,{className:"bg-white/70 dark:bg-green-900/30 border-green-100 dark:border-green-800/50 shadow-lg hover:shadow-xl transition-shadow",children:[u.jsxs(yt,{className:"flex flex-row items-center justify-between pb-2 space-y-0 bg-gradient-to-r from-green-100/50 to-transparent dark:from-green-800/20 dark:to-transparent rounded-t-lg",children:[u.jsx(vt,{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Active Users"}),u.jsx(L4,{className:"h-4 w-4 text-green-600 dark:text-green-400"})]}),u.jsxs(pt,{children:[u.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:"+2350"}),u.jsx("p",{className:"text-xs text-green-600/70 dark:text-green-400/70",children:"+180 since last hour"})]})]}),u.jsxs(ht,{className:"bg-white/70 dark:bg-green-900/30 border-green-100 dark:border-green-800/50 shadow-lg hover:shadow-xl transition-shadow",children:[u.jsxs(yt,{className:"flex flex-row items-center justify-between pb-2 space-y-0 bg-gradient-to-r from-green-100/50 to-transparent dark:from-green-800/20 dark:to-transparent rounded-t-lg",children:[u.jsx(vt,{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Daily Sales"}),u.jsx(dK,{className:"h-4 w-4 text-green-600 dark:text-green-400"})]}),u.jsxs(pt,{children:[u.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:"+12,234"}),u.jsx("p",{className:"text-xs text-green-600/70 dark:text-green-400/70",children:"+19% from last month"})]})]})]})]}),sd="products_cache",Pg=`${sd}_page`,fO=`${sd}_lastUpdate`,hO=`${sd}_categories`,pO=`${sd}_subcategories`,tl=10,Hte=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[i,o]=_.useState(""),[a,s]=_.useState("all"),[l,c]=_.useState("all"),[d,f]=_.useState(0),[h,m]=_.useState(!1),[y,g]=_.useState(0),[v,b]=_.useState(1),[x,w]=_.useState([]),[S,A]=_.useState([]);_.useEffect(()=>{C()},[d,h]),_.useEffect(()=>{E()},[a,l,v,d,h]),_.useEffect(()=>{b(1)},[a,l,i]),_.useEffect(()=>{const V=setTimeout(()=>{E()},300);return()=>clearTimeout(V)},[i]);const C=async()=>{try{if(!rc(qt.PRODUCTS)&&!h){const oe=wr(hO),J=wr(pO);if(oe&&J){w(oe),A(J);return}}const U=pr(ft,Zi),q=sr(U),L=await oo(q),K=new Set,Q=new Set;L.forEach(oe=>{const J=oe.data();J.category&&K.add(J.category),J.subcategory&&Q.add(J.subcategory)});const ee=Array.from(K).sort(),ne=Array.from(Q).sort();w(ee),A(ne),rn(hO,ee),rn(pO,ne)}catch(V){console.error("Error fetching categories and subcategories:",V)}},T=_.useCallback(async()=>{try{const V=pr(ft,Zi);let U=sr(V);return a!=="all"&&(U=sr(U,wl("category","==",a))),l!=="all"&&(U=sr(U,wl("subcategory","==",l))),i?null:(await sZ(U)).data().count}catch(V){return console.error("Error fetching product count:",V),null}},[a,l,i]),E=async()=>{try{r(!0);const V=`${Pg}_${a}_${l}_${v}_${tl}`,U=`${Pg}_search_${i.toLowerCase()}_${v}`,q=h||i!=="",L=rc(qt.PRODUCTS);if(!q&&!L&&Am(V)){const oe=wr(V);if(oe){e(oe.products),g(oe.total),r(!1),console.log("Using cached products page");return}}const K=pr(ft,Zi);let Q,ee=sr(K);a!=="all"&&(ee=sr(ee,wl("category","==",a))),l!=="all"&&(ee=sr(ee,wl("subcategory","==",l)));let ne=null;if(i||(ne=await T()),i){const oe=i.toLowerCase(),J=await oo(ee),fe=[];J.forEach(ue=>{const se=ue.data(),G={id:ue.id,name:se.name||"",productCode:se.productCode||"",category:se.category||"",subcategory:se.subcategory||"",keywords:se.keywords||[],barcode:se.barcode,imageUrl:se.imageUrl,description:se.description,createdAt:se.createdAt?new Date(se.createdAt.toDate()):void 0,createdBy:se.createdBy||"Unknown",modifiedDate:se.modifiedDate?new Date(se.modifiedDate.toDate()):void 0,modifiedBy:se.modifiedBy||"Unknown"};fe.push(G)});const Ce=fe.filter(ue=>!!(ue.name.toLowerCase().includes(oe)||ue.productCode&&ue.productCode.toLowerCase().includes(oe)||ue.barcode&&ue.barcode.toLowerCase().includes(oe)||ue.category.toLowerCase().includes(oe)||ue.subcategory.toLowerCase().includes(oe)||ue.keywords&&ue.keywords.some(se=>se.toLowerCase().includes(oe))));ne=Ce.length;const te=(v-1)*tl,Ae=te+tl,ce=Ce.slice(te,Ae);e(ce),g(ne),Ce.length>0&&rn(U,{products:ce,total:ne})}else{const oe=(v-1)*tl;Q=sr(ee,YI("name"),ZI(tl));const J=await oo(Q),fe=[];J.forEach(Ce=>{const te=Ce.data(),Ae={id:Ce.id,name:te.name||"",productCode:te.productCode||"",category:te.category||"",subcategory:te.subcategory||"",keywords:te.keywords||[],barcode:te.barcode,imageUrl:te.imageUrl,description:te.description,createdAt:te.createdAt?new Date(te.createdAt.toDate()):void 0,createdBy:te.createdBy||"Unknown",modifiedDate:te.modifiedDate?new Date(te.modifiedDate.toDate()):void 0,modifiedBy:te.modifiedBy||"Unknown"};fe.push(Ae),rn(`${sd}_${Ce.id}`,Ae)}),e(fe),ne!==null&&(g(ne),rn(V,{products:fe,total:ne}))}i||(Tm(qt.PRODUCTS),rn(fO,{timestamp:Date.now()})),m(!1)}catch(V){if(console.error("Error fetching products:",V),!i){const U=`${Pg}_${a}_${l}_${v}_${tl}`,q=wr(U);q&&(e(q.products),g(q.total),console.log("Using cached products after fetch error"))}}finally{r(!1)}};return{products:t,loading:n,searchQuery:i,categoryFilter:a,subcategoryFilter:l,categories:x,subcategories:S,totalProducts:y,currentPage:v,pageSize:tl,handleSearch:V=>{o(V)},handleCategoryChange:V=>{s(V)},handleSubcategoryChange:V=>{c(V)},handleRefresh:()=>{m(!0)},deleteProduct:async V=>{try{const U=localStorage.getItem("userName")||"Unknown";await ls(Ln(ft,Zi,V),{modifiedDate:Ar(),modifiedBy:U}),await oZ(Ln(ft,Zi,V)),e(t.filter(q=>q.id!==V)),dO(`${sd}_${V}`),Object.keys(localStorage).filter(q=>q.startsWith(Pg)).forEach(q=>dO(q)),cs(qt.PRODUCTS),rn(fO,{timestamp:Date.now()}),C(),E(),ve.success("Product deleted successfully.")}catch(U){console.error("Error deleting product:",U),ve.error("Failed to delete product.")}},handlePageChange:V=>{b(V)}}},qte=({loading:t,onRefresh:e})=>{const n=nr();return u.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[u.jsx("h1",{className:"text-3xl font-bold text-green-700 dark:text-green-300",children:"Products"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ie,{onClick:()=>n("/add-product"),className:"bg-green-600 hover:bg-green-700 dark:bg-green-600 dark:hover:bg-green-700",children:[u.jsx(rx,{className:"mr-2 h-4 w-4"}),"Add Product"]}),u.jsx(ie,{variant:"outline",onClick:e,className:"border-green-300 hover:bg-green-100 dark:border-green-700 dark:hover:bg-green-800/50",children:u.jsx(R4,{className:`h-4 w-4 ${t?"animate-spin":""}`})})]})]})},$e=_.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:we("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));$e.displayName="Input";const Kte=({value:t,onChange:e,onSearch:n,placeholder:r="Search products..."})=>{const i=o=>{const a=o.target.value;e(a),n&&n(a)};return u.jsxs("div",{className:"relative flex-1 max-w-md",children:[u.jsx(Gh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 h-4 w-4"}),u.jsx($e,{placeholder:r,value:t,onChange:i,className:"pl-10"})]})};function mO(t,[e,n]){return Math.min(n,Math.max(e,t))}function Be(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Gte(t,e=[]){let n=[];function r(o,a){const s=_.createContext(a),l=n.length;n=[...n,a];function c(f){const{scope:h,children:m,...y}=f,g=(h==null?void 0:h[t][l])||s,v=_.useMemo(()=>y,Object.values(y));return u.jsx(g.Provider,{value:v,children:m})}function d(f,h){const m=(h==null?void 0:h[t][l])||s,y=_.useContext(m);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,d]}const i=()=>{const o=n.map(a=>_.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return _.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,Xte(i,...e)]}function Xte(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...s,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function sV(t){const e=t+"CollectionProvider",[n,r]=Gte(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:y,children:g}=m,v=B.useRef(null),b=B.useRef(new Map).current;return u.jsx(i,{scope:y,itemMap:b,collectionRef:v,children:g})};a.displayName=e;const s=t+"CollectionSlot",l=B.forwardRef((m,y)=>{const{scope:g,children:v}=m,b=o(s,g),x=At(y,b.collectionRef);return u.jsx(ql,{ref:x,children:v})});l.displayName=s;const c=t+"CollectionItemSlot",d="data-radix-collection-item",f=B.forwardRef((m,y)=>{const{scope:g,children:v,...b}=m,x=B.useRef(null),w=At(y,x),S=o(c,g);return B.useEffect(()=>(S.itemMap.set(x,{ref:x,...b}),()=>void S.itemMap.delete(x))),u.jsx(ql,{[d]:"",ref:w,children:v})});f.displayName=c;function h(m){const y=o(t+"CollectionConsumer",m);return B.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((S,A)=>b.indexOf(S.ref.current)-b.indexOf(A.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:l,ItemSlot:f},h,r]}var Qte=_.createContext(void 0);function Vx(t){const e=_.useContext(Qte);return t||e||"ltr"}function Yte(t,e=globalThis==null?void 0:globalThis.document){const n=Mi(t);_.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Jte="DismissableLayer",yS="dismissableLayer.update",Zte="dismissableLayer.pointerDownOutside",ene="dismissableLayer.focusOutside",gO,lV=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fx=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=t,c=_.useContext(lV),[d,f]=_.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=_.useState({}),y=At(e,T=>f(T)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(v),x=d?g.indexOf(d):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,S=x>=b,A=rne(T=>{const E=T.target,N=[...c.branches].some(P=>P.contains(E));!S||N||(i==null||i(T),a==null||a(T),T.defaultPrevented||s==null||s())},h),C=ine(T=>{const E=T.target;[...c.branches].some(P=>P.contains(E))||(o==null||o(T),a==null||a(T),T.defaultPrevented||s==null||s())},h);return Yte(T=>{x===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&s&&(T.preventDefault(),s()))},h),_.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(gO=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),yO(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=gO)}},[d,h,n,c]),_.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),yO())},[d,c]),_.useEffect(()=>{const T=()=>m({});return document.addEventListener(yS,T),()=>document.removeEventListener(yS,T)},[]),u.jsx(ze.div,{...l,ref:y,style:{pointerEvents:w?S?"auto":"none":void 0,...t.style},onFocusCapture:Be(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Be(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Be(t.onPointerDownCapture,A.onPointerDownCapture)})});Fx.displayName=Jte;var tne="DismissableLayerBranch",nne=_.forwardRef((t,e)=>{const n=_.useContext(lV),r=_.useRef(null),i=At(e,r);return _.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(ze.div,{...t,ref:i})});nne.displayName=tne;function rne(t,e=globalThis==null?void 0:globalThis.document){const n=Mi(t),r=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let l=function(){cV(Zte,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ine(t,e=globalThis==null?void 0:globalThis.document){const n=Mi(t),r=_.useRef(!1);return _.useEffect(()=>{const i=o=>{o.target&&!r.current&&cV(ene,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function yO(){const t=new CustomEvent(yS);document.dispatchEvent(t)}function cV(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?$te(i,o):i.dispatchEvent(o)}var Jw=0;function uV(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??vO()),document.body.insertAdjacentElement("beforeend",t[1]??vO()),Jw++,()=>{Jw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Jw--}},[])}function vO(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Zw="focusScope.autoFocusOnMount",e1="focusScope.autoFocusOnUnmount",xO={bubbles:!1,cancelable:!0},one="FocusScope",mA=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=t,[s,l]=_.useState(null),c=Mi(i),d=Mi(o),f=_.useRef(null),h=At(e,g=>l(g)),m=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let g=function(w){if(m.paused||!s)return;const S=w.target;s.contains(S)?f.current=S:Ea(f.current,{select:!0})},v=function(w){if(m.paused||!s)return;const S=w.relatedTarget;S!==null&&(s.contains(S)||Ea(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const A of w)A.removedNodes.length>0&&Ea(s)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const x=new MutationObserver(b);return s&&x.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),x.disconnect()}}},[r,s,m.paused]),_.useEffect(()=>{if(s){wO.add(m);const g=document.activeElement;if(!s.contains(g)){const b=new CustomEvent(Zw,xO);s.addEventListener(Zw,c),s.dispatchEvent(b),b.defaultPrevented||(ane(dne(dV(s)),{select:!0}),document.activeElement===g&&Ea(s))}return()=>{s.removeEventListener(Zw,c),setTimeout(()=>{const b=new CustomEvent(e1,xO);s.addEventListener(e1,d),s.dispatchEvent(b),b.defaultPrevented||Ea(g??document.body,{select:!0}),s.removeEventListener(e1,d),wO.remove(m)},0)}}},[s,c,d,m]);const y=_.useCallback(g=>{if(!n&&!r||m.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(v&&b){const x=g.currentTarget,[w,S]=sne(x);w&&S?!g.shiftKey&&b===S?(g.preventDefault(),n&&Ea(w,{select:!0})):g.shiftKey&&b===w&&(g.preventDefault(),n&&Ea(S,{select:!0})):b===x&&g.preventDefault()}},[n,r,m.paused]);return u.jsx(ze.div,{tabIndex:-1,...a,ref:h,onKeyDown:y})});mA.displayName=one;function ane(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ea(r,{select:e}),document.activeElement!==n)return}function sne(t){const e=dV(t),n=bO(e,t),r=bO(e.reverse(),t);return[n,r]}function dV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function bO(t,e){for(const n of t)if(!lne(n,{upTo:e}))return n}function lne(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function cne(t){return t instanceof HTMLInputElement&&"select"in t}function Ea(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&cne(t)&&e&&t.select()}}var wO=une();function une(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=_O(t,e),t.unshift(e)},remove(e){var n;t=_O(t,e),(n=t[0])==null||n.resume()}}}function _O(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function dne(t){return t.filter(e=>e.tagName!=="A")}var fne=ZM.useId||(()=>{}),hne=0;function $o(t){const[e,n]=_.useState(fne());return Vn(()=>{n(r=>r??String(hne++))},[t]),e?`radix-${e}`:""}const pne=["top","right","bottom","left"],xs=Math.min,Mr=Math.max,Ov=Math.round,kg=Math.floor,bs=t=>({x:t,y:t}),mne={left:"right",right:"left",bottom:"top",top:"bottom"},gne={start:"end",end:"start"};function vS(t,e,n){return Mr(t,xs(e,n))}function Qo(t,e){return typeof t=="function"?t(e):t}function Yo(t){return t.split("-")[0]}function qd(t){return t.split("-")[1]}function gA(t){return t==="x"?"y":"x"}function yA(t){return t==="y"?"height":"width"}function ws(t){return["top","bottom"].includes(Yo(t))?"y":"x"}function vA(t){return gA(ws(t))}function yne(t,e,n){n===void 0&&(n=!1);const r=qd(t),i=vA(t),o=yA(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=Rv(a)),[a,Rv(a)]}function vne(t){const e=Rv(t);return[xS(t),e,xS(e)]}function xS(t){return t.replace(/start|end/g,e=>gne[e])}function xne(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:a;default:return[]}}function bne(t,e,n,r){const i=qd(t);let o=xne(Yo(t),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),e&&(o=o.concat(o.map(xS)))),o}function Rv(t){return t.replace(/left|right|bottom|top/g,e=>mne[e])}function wne(t){return{top:0,right:0,bottom:0,left:0,...t}}function fV(t){return typeof t!="number"?wne(t):{top:t,right:t,bottom:t,left:t}}function jv(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function SO(t,e,n){let{reference:r,floating:i}=t;const o=ws(e),a=vA(e),s=yA(a),l=Yo(e),c=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[s]/2-i[s]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(qd(e)){case"start":m[a]-=h*(n&&c?-1:1);break;case"end":m[a]+=h*(n&&c?-1:1);break}return m}const _ne=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=SO(c,r,l),h=r,m={},y=0;for(let g=0;g<s.length;g++){const{name:v,fn:b}=s[g],{x,y:w,data:S,reset:A}=await b({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:c,platform:a,elements:{reference:t,floating:e}});d=x??d,f=w??f,m={...m,[v]:{...m[v],...S}},A&&y<=50&&(y++,typeof A=="object"&&(A.placement&&(h=A.placement),A.rects&&(c=A.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:d,y:f}=SO(c,h,l)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function pp(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Qo(e,t),y=fV(m),v=s[h?f==="floating"?"reference":"floating":f],b=jv(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),x=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),S=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},A=jv(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:w,strategy:l}):x);return{top:(b.top-A.top+y.top)/S.y,bottom:(A.bottom-b.bottom+y.bottom)/S.y,left:(b.left-A.left+y.left)/S.x,right:(A.right-b.right+y.right)/S.x}}const Sne=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=e,{element:c,padding:d=0}=Qo(t,e)||{};if(c==null)return{};const f=fV(d),h={x:n,y:r},m=vA(i),y=yA(m),g=await a.getDimensions(c),v=m==="y",b=v?"top":"left",x=v?"bottom":"right",w=v?"clientHeight":"clientWidth",S=o.reference[y]+o.reference[m]-h[m]-o.floating[y],A=h[m]-o.reference[m],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let T=C?C[w]:0;(!T||!await(a.isElement==null?void 0:a.isElement(C)))&&(T=s.floating[w]||o.floating[y]);const E=S/2-A/2,N=T/2-g[y]/2-1,P=xs(f[b],N),R=xs(f[x],N),O=P,j=T-g[y]-R,$=T/2-g[y]/2+E,V=vS(O,$,j),U=!l.arrow&&qd(i)!=null&&$!==V&&o.reference[y]/2-($<O?P:R)-g[y]/2<0,q=U?$<O?$-O:$-j:0;return{[m]:h[m]+q,data:{[m]:V,centerOffset:$-V-q,...U&&{alignmentOffset:q}},reset:U}}}),Ene=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=Qo(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=Yo(i),x=ws(s),w=Yo(s)===s,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=h||(w||!g?[Rv(s)]:vne(s)),C=y!=="none";!h&&C&&A.push(...bne(s,g,y,S));const T=[s,...A],E=await pp(e,v),N=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&N.push(E[b]),f){const $=yne(i,a,S);N.push(E[$[0]],E[$[1]])}if(P=[...P,{placement:i,overflows:N}],!N.every($=>$<=0)){var R,O;const $=(((R=o.flip)==null?void 0:R.index)||0)+1,V=T[$];if(V)return{data:{index:$,overflows:P},reset:{placement:V}};let U=(O=P.filter(q=>q.overflows[0]<=0).sort((q,L)=>q.overflows[1]-L.overflows[1])[0])==null?void 0:O.placement;if(!U)switch(m){case"bestFit":{var j;const q=(j=P.filter(L=>{if(C){const K=ws(L.placement);return K===x||K==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(K=>K>0).reduce((K,Q)=>K+Q,0)]).sort((L,K)=>L[1]-K[1])[0])==null?void 0:j[0];q&&(U=q);break}case"initialPlacement":U=s;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function EO(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function TO(t){return pne.some(e=>t[e]>=0)}const Tne=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Qo(t,e);switch(r){case"referenceHidden":{const o=await pp(e,{...i,elementContext:"reference"}),a=EO(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:TO(a)}}}case"escaped":{const o=await pp(e,{...i,altBoundary:!0}),a=EO(o,n.floating);return{data:{escapedOffsets:a,escaped:TO(a)}}}default:return{}}}}};async function Ine(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Yo(n),s=qd(n),l=ws(n)==="y",c=["left","top"].includes(a)?-1:1,d=o&&l?-1:1,f=Qo(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof y=="number"&&(m=s==="end"?y*-1:y),l?{x:m*d,y:h*c}:{x:h*c,y:m*d}}const Ane=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=e,l=await Ine(e,t);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},Cne=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:v=>{let{x:b,y:x}=v;return{x:b,y:x}}},...l}=Qo(t,e),c={x:n,y:r},d=await pp(e,l),f=ws(Yo(i)),h=gA(f);let m=c[h],y=c[f];if(o){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=m+d[v],w=m-d[b];m=vS(x,m,w)}if(a){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=y+d[v],w=y-d[b];y=vS(x,y,w)}const g=s.fn({...e,[h]:m,[f]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:o,[f]:a}}}}}},Pne=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=e,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Qo(t,e),d={x:n,y:r},f=ws(i),h=gA(f);let m=d[h],y=d[f];const g=Qo(s,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=h==="y"?"height":"width",S=o.reference[h]-o.floating[w]+v.mainAxis,A=o.reference[h]+o.reference[w]-v.mainAxis;m<S?m=S:m>A&&(m=A)}if(c){var b,x;const w=h==="y"?"width":"height",S=["top","left"].includes(Yo(i)),A=o.reference[f]-o.floating[w]+(S&&((b=a.offset)==null?void 0:b[f])||0)+(S?0:v.crossAxis),C=o.reference[f]+o.reference[w]+(S?0:((x=a.offset)==null?void 0:x[f])||0)-(S?v.crossAxis:0);y<A?y=A:y>C&&(y=C)}return{[h]:m,[f]:y}}}},kne=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:a,elements:s}=e,{apply:l=()=>{},...c}=Qo(t,e),d=await pp(e,c),f=Yo(i),h=qd(i),m=ws(i)==="y",{width:y,height:g}=o.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=h===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(b=f,v=h==="end"?"top":"bottom");const x=g-d.top-d.bottom,w=y-d.left-d.right,S=xs(g-d[v],x),A=xs(y-d[b],w),C=!e.middlewareData.shift;let T=S,E=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(E=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=x),C&&!h){const P=Mr(d.left,0),R=Mr(d.right,0),O=Mr(d.top,0),j=Mr(d.bottom,0);m?E=y-2*(P!==0||R!==0?P+R:Mr(d.left,d.right)):T=g-2*(O!==0||j!==0?O+j:Mr(d.top,d.bottom))}await l({...e,availableWidth:E,availableHeight:T});const N=await a.getDimensions(s.floating);return y!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function Bx(){return typeof window<"u"}function Kd(t){return hV(t)?(t.nodeName||"").toLowerCase():"#document"}function Ur(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function yo(t){var e;return(e=(hV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function hV(t){return Bx()?t instanceof Node||t instanceof Ur(t).Node:!1}function Li(t){return Bx()?t instanceof Element||t instanceof Ur(t).Element:!1}function ho(t){return Bx()?t instanceof HTMLElement||t instanceof Ur(t).HTMLElement:!1}function IO(t){return!Bx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ur(t).ShadowRoot}function Pm(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=$i(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Nne(t){return["table","td","th"].includes(Kd(t))}function Ux(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function xA(t){const e=bA(),n=Li(t)?$i(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function One(t){let e=_s(t);for(;ho(e)&&!ld(e);){if(xA(e))return e;if(Ux(e))return null;e=_s(e)}return null}function bA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ld(t){return["html","body","#document"].includes(Kd(t))}function $i(t){return Ur(t).getComputedStyle(t)}function zx(t){return Li(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _s(t){if(Kd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||IO(t)&&t.host||yo(t);return IO(e)?e.host:e}function pV(t){const e=_s(t);return ld(e)?t.ownerDocument?t.ownerDocument.body:t.body:ho(e)&&Pm(e)?e:pV(e)}function mp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=pV(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=Ur(i);if(o){const s=bS(a);return e.concat(a,a.visualViewport||[],Pm(i)?i:[],s&&n?mp(s):[])}return e.concat(i,mp(i,[],n))}function bS(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mV(t){const e=$i(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ho(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,s=Ov(n)!==o||Ov(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function wA(t){return Li(t)?t:t.contextElement}function wu(t){const e=wA(t);if(!ho(e))return bs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=mV(e);let a=(o?Ov(n.width):n.width)/r,s=(o?Ov(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const Rne=bs(0);function gV(t){const e=Ur(t);return!bA()||!e.visualViewport?Rne:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jne(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ur(t)?!1:e}function oc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=wA(t);let a=bs(1);e&&(r?Li(r)&&(a=wu(r)):a=wu(t));const s=jne(o,n,r)?gV(o):bs(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(o){const h=Ur(o),m=r&&Li(r)?Ur(r):r;let y=h,g=bS(y);for(;g&&r&&m!==y;){const v=wu(g),b=g.getBoundingClientRect(),x=$i(g),w=b.left+(g.clientLeft+parseFloat(x.paddingLeft))*v.x,S=b.top+(g.clientTop+parseFloat(x.paddingTop))*v.y;l*=v.x,c*=v.y,d*=v.x,f*=v.y,l+=w,c+=S,y=Ur(g),g=bS(y)}}return jv({width:d,height:f,x:l,y:c})}function Dne(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",a=yo(r),s=e?Ux(e.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=bs(1);const d=bs(0),f=ho(r);if((f||!f&&!o)&&((Kd(r)!=="body"||Pm(a))&&(l=zx(r)),ho(r))){const h=oc(r);c=wu(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function Mne(t){return Array.from(t.getClientRects())}function wS(t,e){const n=zx(t).scrollLeft;return e?e.left+n:oc(yo(t)).left+n}function Lne(t){const e=yo(t),n=zx(t),r=t.ownerDocument.body,i=Mr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Mr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+wS(t);const s=-n.scrollTop;return $i(r).direction==="rtl"&&(a+=Mr(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}function $ne(t,e){const n=Ur(t),r=yo(t),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const c=bA();(!c||c&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}function Vne(t,e){const n=oc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=ho(t)?wu(t):bs(1),a=t.clientWidth*o.x,s=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:a,height:s,x:l,y:c}}function AO(t,e,n){let r;if(e==="viewport")r=$ne(t,n);else if(e==="document")r=Lne(yo(t));else if(Li(e))r=Vne(e,n);else{const i=gV(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return jv(r)}function yV(t,e){const n=_s(t);return n===e||!Li(n)||ld(n)?!1:$i(n).position==="fixed"||yV(n,e)}function Fne(t,e){const n=e.get(t);if(n)return n;let r=mp(t,[],!1).filter(s=>Li(s)&&Kd(s)!=="body"),i=null;const o=$i(t).position==="fixed";let a=o?_s(t):t;for(;Li(a)&&!ld(a);){const s=$i(a),l=xA(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Pm(a)&&!l&&yV(t,a))?r=r.filter(d=>d!==a):i=s,a=_s(a)}return e.set(t,r),r}function Bne(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Ux(e)?[]:Fne(e,this._c):[].concat(n),r],s=a[0],l=a.reduce((c,d)=>{const f=AO(e,d,i);return c.top=Mr(f.top,c.top),c.right=xs(f.right,c.right),c.bottom=xs(f.bottom,c.bottom),c.left=Mr(f.left,c.left),c},AO(e,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Une(t){const{width:e,height:n}=mV(t);return{width:e,height:n}}function zne(t,e,n){const r=ho(e),i=yo(e),o=n==="fixed",a=oc(t,!0,o,e);let s={scrollLeft:0,scrollTop:0};const l=bs(0);if(r||!r&&!o)if((Kd(e)!=="body"||Pm(i))&&(s=zx(e)),r){const m=oc(e,!0,o,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&(l.x=wS(i));let c=0,d=0;if(i&&!r&&!o){const m=i.getBoundingClientRect();d=m.top+s.scrollTop,c=m.left+s.scrollLeft-wS(i,m)}const f=a.left+s.scrollLeft-l.x-c,h=a.top+s.scrollTop-l.y-d;return{x:f,y:h,width:a.width,height:a.height}}function t1(t){return $i(t).position==="static"}function CO(t,e){if(!ho(t)||$i(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return yo(t)===n&&(n=n.ownerDocument.body),n}function vV(t,e){const n=Ur(t);if(Ux(t))return n;if(!ho(t)){let i=_s(t);for(;i&&!ld(i);){if(Li(i)&&!t1(i))return i;i=_s(i)}return n}let r=CO(t,e);for(;r&&Nne(r)&&t1(r);)r=CO(r,e);return r&&ld(r)&&t1(r)&&!xA(r)?n:r||One(t)||n}const Wne=async function(t){const e=this.getOffsetParent||vV,n=this.getDimensions,r=await n(t.floating);return{reference:zne(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Hne(t){return $i(t).direction==="rtl"}const qne={convertOffsetParentRelativeRectToViewportRelativeRect:Dne,getDocumentElement:yo,getClippingRect:Bne,getOffsetParent:vV,getElementRects:Wne,getClientRects:Mne,getDimensions:Une,getScale:wu,isElement:Li,isRTL:Hne};function Kne(t,e){let n=null,r;const i=yo(t);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const{left:c,top:d,width:f,height:h}=t.getBoundingClientRect();if(s||e(),!f||!h)return;const m=kg(d),y=kg(i.clientWidth-(c+f)),g=kg(i.clientHeight-(d+h)),v=kg(c),x={rootMargin:-m+"px "+-y+"px "+-g+"px "+-v+"px",threshold:Mr(0,xs(1,l))||1};let w=!0;function S(A){const C=A[0].intersectionRatio;if(C!==l){if(!w)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(S,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,x)}n.observe(t)}return a(!0),o}function Gne(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=wA(t),d=i||o?[...c?mp(c):[],...mp(e)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const f=c&&s?Kne(c,n):null;let h=-1,m=null;a&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let y,g=l?oc(t):null;l&&v();function v(){const b=oc(t);g&&(b.x!==g.x||b.y!==g.y||b.width!==g.width||b.height!==g.height)&&n(),g=b,y=requestAnimationFrame(v)}return n(),()=>{var b;d.forEach(x=>{i&&x.removeEventListener("scroll",n),o&&x.removeEventListener("resize",n)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const Xne=Ane,Qne=Cne,Yne=Ene,Jne=kne,Zne=Tne,PO=Sne,ere=Pne,tre=(t,e,n)=>{const r=new Map,i={platform:qne,...n},o={...i.platform,_c:r};return _ne(t,e,{...i,platform:o})};var Iy=typeof document<"u"?_.useLayoutEffect:_.useEffect;function Dv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Dv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Dv(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function xV(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function kO(t,e){const n=xV(t);return Math.round(e*n)/n}function n1(t){const e=_.useRef(t);return Iy(()=>{e.current=t}),e}function nre(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:c}=t,[d,f]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=_.useState(r);Dv(h,r)||m(r);const[y,g]=_.useState(null),[v,b]=_.useState(null),x=_.useCallback(L=>{L!==C.current&&(C.current=L,g(L))},[]),w=_.useCallback(L=>{L!==T.current&&(T.current=L,b(L))},[]),S=o||y,A=a||v,C=_.useRef(null),T=_.useRef(null),E=_.useRef(d),N=l!=null,P=n1(l),R=n1(i),O=n1(c),j=_.useCallback(()=>{if(!C.current||!T.current)return;const L={placement:e,strategy:n,middleware:h};R.current&&(L.platform=R.current),tre(C.current,T.current,L).then(K=>{const Q={...K,isPositioned:O.current!==!1};$.current&&!Dv(E.current,Q)&&(E.current=Q,Dd.flushSync(()=>{f(Q)}))})},[h,e,n,R,O]);Iy(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const $=_.useRef(!1);Iy(()=>($.current=!0,()=>{$.current=!1}),[]),Iy(()=>{if(S&&(C.current=S),A&&(T.current=A),S&&A){if(P.current)return P.current(S,A,j);j()}},[S,A,j,P,N]);const V=_.useMemo(()=>({reference:C,floating:T,setReference:x,setFloating:w}),[x,w]),U=_.useMemo(()=>({reference:S,floating:A}),[S,A]),q=_.useMemo(()=>{const L={position:n,left:0,top:0};if(!U.floating)return L;const K=kO(U.floating,d.x),Q=kO(U.floating,d.y);return s?{...L,transform:"translate("+K+"px, "+Q+"px)",...xV(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:Q}},[n,s,U.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:j,refs:V,elements:U,floatingStyles:q}),[d,j,V,U,q])}const rre=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?PO({element:r.current,padding:i}).fn(n):{}:r?PO({element:r,padding:i}).fn(n):{}}}},ire=(t,e)=>({...Xne(t),options:[t,e]}),ore=(t,e)=>({...Qne(t),options:[t,e]}),are=(t,e)=>({...ere(t),options:[t,e]}),sre=(t,e)=>({...Yne(t),options:[t,e]}),lre=(t,e)=>({...Jne(t),options:[t,e]}),cre=(t,e)=>({...Zne(t),options:[t,e]}),ure=(t,e)=>({...rre(t),options:[t,e]});var dre="Arrow",bV=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return u.jsx(ze.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});bV.displayName=dre;var fre=bV;function hre(t,e=[]){let n=[];function r(o,a){const s=_.createContext(a),l=n.length;n=[...n,a];function c(f){const{scope:h,children:m,...y}=f,g=(h==null?void 0:h[t][l])||s,v=_.useMemo(()=>y,Object.values(y));return u.jsx(g.Provider,{value:v,children:m})}function d(f,h){const m=(h==null?void 0:h[t][l])||s,y=_.useContext(m);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,d]}const i=()=>{const o=n.map(a=>_.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return _.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,pre(i,...e)]}function pre(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...s,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function _A(t){const[e,n]=_.useState(void 0);return Vn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,s=c.blockSize}else a=t.offsetWidth,s=t.offsetHeight;n({width:a,height:s})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var SA="Popper",[wV,Wx]=hre(SA),[mre,_V]=wV(SA),SV=t=>{const{__scopePopper:e,children:n}=t,[r,i]=_.useState(null);return u.jsx(mre,{scope:e,anchor:r,onAnchorChange:i,children:n})};SV.displayName=SA;var EV="PopperAnchor",TV=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=_V(EV,n),a=_.useRef(null),s=At(e,a);return _.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:u.jsx(ze.div,{...i,ref:s})});TV.displayName=EV;var EA="PopperContent",[gre,yre]=wV(EA),IV=_.forwardRef((t,e)=>{var te,Ae,ce,ue,se,G;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...g}=t,v=_V(EA,n),[b,x]=_.useState(null),w=At(e,ke=>x(ke)),[S,A]=_.useState(null),C=_A(S),T=(C==null?void 0:C.width)??0,E=(C==null?void 0:C.height)??0,N=r+(o!=="center"?"-"+o:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(c)?c:[c],O=R.length>0,j={padding:P,boundary:R.filter(xre),altBoundary:O},{refs:$,floatingStyles:V,placement:U,isPositioned:q,middlewareData:L}=nre({strategy:"fixed",placement:N,whileElementsMounted:(...ke)=>Gne(...ke,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[ire({mainAxis:i+E,alignmentAxis:a}),l&&ore({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?are():void 0,...j}),l&&sre({...j}),lre({...j,apply:({elements:ke,rects:M,availableWidth:F,availableHeight:H})=>{const{width:ge,height:Se}=M.reference,je=ke.floating.style;je.setProperty("--radix-popper-available-width",`${F}px`),je.setProperty("--radix-popper-available-height",`${H}px`),je.setProperty("--radix-popper-anchor-width",`${ge}px`),je.setProperty("--radix-popper-anchor-height",`${Se}px`)}}),S&&ure({element:S,padding:s}),bre({arrowWidth:T,arrowHeight:E}),h&&cre({strategy:"referenceHidden",...j})]}),[K,Q]=PV(U),ee=Mi(y);Vn(()=>{q&&(ee==null||ee())},[q,ee]);const ne=(te=L.arrow)==null?void 0:te.x,oe=(Ae=L.arrow)==null?void 0:Ae.y,J=((ce=L.arrow)==null?void 0:ce.centerOffset)!==0,[fe,Ce]=_.useState();return Vn(()=>{b&&Ce(window.getComputedStyle(b).zIndex)},[b]),u.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:q?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(ue=L.transformOrigin)==null?void 0:ue.x,(se=L.transformOrigin)==null?void 0:se.y].join(" "),...((G=L.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(gre,{scope:n,placedSide:K,onArrowChange:A,arrowX:ne,arrowY:oe,shouldHideArrow:J,children:u.jsx(ze.div,{"data-side":K,"data-align":Q,...g,ref:w,style:{...g.style,animation:q?void 0:"none"}})})})});IV.displayName=EA;var AV="PopperArrow",vre={top:"bottom",right:"left",bottom:"top",left:"right"},CV=_.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=yre(AV,r),a=vre[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(fre,{...i,ref:n,style:{...i.style,display:"block"}})})});CV.displayName=AV;function xre(t){return t!==null}var bre=t=>({name:"transformOrigin",options:t,fn(e){var v,b,x;const{placement:n,rects:r,middlewareData:i}=e,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,s=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,d]=PV(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=i.arrow)==null?void 0:b.x)??0)+s/2,m=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let y="",g="";return c==="bottom"?(y=a?f:`${h}px`,g=`${-l}px`):c==="top"?(y=a?f:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,g=a?f:`${m}px`):c==="left"&&(y=`${r.floating.width+l}px`,g=a?f:`${m}px`),{data:{x:y,y:g}}}});function PV(t){const[e,n="center"]=t.split("-");return[e,n]}var kV=SV,NV=TV,OV=IV,RV=CV,wre="Portal",TA=_.forwardRef((t,e)=>{var s;const{container:n,...r}=t,[i,o]=_.useState(!1);Vn(()=>o(!0),[]);const a=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return a?_H.createPortal(u.jsx(ze.div,{...r,ref:e}),a):null});TA.displayName=wre;function Ss({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=_re({defaultProp:e,onChange:n}),o=t!==void 0,a=o?t:r,s=Mi(n),l=_.useCallback(c=>{if(o){const f=typeof c=="function"?c(t):c;f!==t&&s(f)}else i(c)},[o,t,i,s]);return[a,l]}function _re({defaultProp:t,onChange:e}){const n=_.useState(t),[r]=n,i=_.useRef(r),o=Mi(e);return _.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function IA(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Sre="VisuallyHidden",AA=_.forwardRef((t,e)=>u.jsx(ze.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));AA.displayName=Sre;var Ere=AA,Tre=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Dc=new WeakMap,Ng=new WeakMap,Og={},r1=0,jV=function(t){return t&&(t.host||jV(t.parentNode))},Ire=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=jV(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Are=function(t,e,n,r){var i=Ire(e,Array.isArray(t)?t:[t]);Og[n]||(Og[n]=new WeakMap);var o=Og[n],a=[],s=new Set,l=new Set(i),c=function(f){!f||s.has(f)||(s.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(s.has(h))d(h);else try{var m=h.getAttribute(r),y=m!==null&&m!=="false",g=(Dc.get(h)||0)+1,v=(o.get(h)||0)+1;Dc.set(h,g),o.set(h,v),a.push(h),g===1&&y&&Ng.set(h,!0),v===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(e),s.clear(),r1++,function(){a.forEach(function(f){var h=Dc.get(f)-1,m=o.get(f)-1;Dc.set(f,h),o.set(f,m),h||(Ng.has(f)||f.removeAttribute(r),Ng.delete(f)),m||f.removeAttribute(n)}),r1--,r1||(Dc=new WeakMap,Dc=new WeakMap,Ng=new WeakMap,Og={})}},DV=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Tre(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Are(r,i,n,"aria-hidden")):function(){return null}},Ay="right-scroll-bar-position",Cy="width-before-scroll-bar",Cre="with-scroll-bars-hidden",Pre="--removed-body-scroll-bar-size";function i1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function kre(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Nre=typeof window<"u"?_.useLayoutEffect:_.useEffect,NO=new WeakMap;function Ore(t,e){var n=kre(null,function(r){return t.forEach(function(i){return i1(i,r)})});return Nre(function(){var r=NO.get(n);if(r){var i=new Set(r),o=new Set(t),a=n.current;i.forEach(function(s){o.has(s)||i1(s,null)}),o.forEach(function(s){i.has(s)||i1(s,a)})}NO.set(n,t)},[t]),n}function Rre(t){return t}function jre(t,e){e===void 0&&(e=Rre);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var a=e(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var l=function(){var d=a;a=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),n}}}};return i}function Dre(t){t===void 0&&(t={});var e=jre(null);return e.options=Ji({async:!0,ssr:!1},t),e}var MV=function(t){var e=t.sideCar,n=bm(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,Ji({},n))};MV.isSideCarExport=!0;function Mre(t,e){return t.useMedium(e),MV}var LV=Dre(),o1=function(){},Hx=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:o1,onWheelCapture:o1,onTouchMoveCapture:o1}),i=r[0],o=r[1],a=t.forwardProps,s=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,y=t.inert,g=t.allowPinchZoom,v=t.as,b=v===void 0?"div":v,x=t.gapMode,w=bm(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,A=Ore([n,e]),C=Ji(Ji({},w),i);return _.createElement(_.Fragment,null,d&&_.createElement(S,{sideCar:LV,removeScrollBar:c,shards:f,noIsolation:m,inert:y,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:x}),a?_.cloneElement(_.Children.only(s),Ji(Ji({},C),{ref:A})):_.createElement(b,Ji({},C,{className:l,ref:A}),s))});Hx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hx.classNames={fullWidth:Cy,zeroRight:Ay};var Lre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $re(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Lre();return e&&t.setAttribute("nonce",e),t}function Vre(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Fre(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Bre=function(){var t=0,e=null;return{add:function(n){t==0&&(e=$re())&&(Vre(e,n),Fre(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ure=function(){var t=Bre();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},$V=function(){var t=Ure(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},zre={left:0,top:0,right:0,gap:0},a1=function(t){return parseInt(t||"",10)||0},Wre=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[a1(n),a1(r),a1(i)]},Hre=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zre;var e=Wre(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},qre=$V(),_u="data-scroll-locked",Kre=function(t,e,n,r){var i=t.left,o=t.top,a=t.right,s=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Cre,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(_u,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ay,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Cy,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Ay," .").concat(Ay,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Cy," .").concat(Cy,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_u,`] {
    `).concat(Pre,": ").concat(s,`px;
  }
`)},OO=function(){var t=parseInt(document.body.getAttribute(_u)||"0",10);return isFinite(t)?t:0},Gre=function(){_.useEffect(function(){return document.body.setAttribute(_u,(OO()+1).toString()),function(){var t=OO()-1;t<=0?document.body.removeAttribute(_u):document.body.setAttribute(_u,t.toString())}},[])},Xre=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Gre();var o=_.useMemo(function(){return Hre(i)},[i]);return _.createElement(qre,{styles:Kre(o,!e,i,n?"":"!important")})},_S=!1;if(typeof window<"u")try{var Rg=Object.defineProperty({},"passive",{get:function(){return _S=!0,!0}});window.addEventListener("test",Rg,Rg),window.removeEventListener("test",Rg,Rg)}catch{_S=!1}var Mc=_S?{passive:!1}:!1,Qre=function(t){return t.tagName==="TEXTAREA"},VV=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Qre(t)&&n[e]==="visible")},Yre=function(t){return VV(t,"overflowY")},Jre=function(t){return VV(t,"overflowX")},RO=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=FV(t,r);if(i){var o=BV(t,r),a=o[1],s=o[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Zre=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},eie=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},FV=function(t,e){return t==="v"?Yre(e):Jre(e)},BV=function(t,e){return t==="v"?Zre(e):eie(e)},tie=function(t,e){return t==="h"&&e==="rtl"?-1:1},nie=function(t,e,n,r,i){var o=tie(t,window.getComputedStyle(e).direction),a=o*r,s=n.target,l=e.contains(s),c=!1,d=a>0,f=0,h=0;do{var m=BV(t,s),y=m[0],g=m[1],v=m[2],b=g-v-o*y;(y||b)&&FV(t,s)&&(f+=b,h+=y),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(e.contains(s)||e===s));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(c=!0),c},jg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},jO=function(t){return[t.deltaX,t.deltaY]},DO=function(t){return t&&"current"in t?t.current:t},rie=function(t,e){return t[0]===e[0]&&t[1]===e[1]},iie=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},oie=0,Lc=[];function aie(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),i=_.useState(oie++)[0],o=_.useState($V)[0],a=_.useRef(t);_.useEffect(function(){a.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=hZ([t.lockRef.current],(t.shards||[]).map(DO),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var s=_.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var b=jg(g),x=n.current,w="deltaX"in g?g.deltaX:x[0]-b[0],S="deltaY"in g?g.deltaY:x[1]-b[1],A,C=g.target,T=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in g&&T==="h"&&C.type==="range")return!1;var E=RO(T,C);if(!E)return!0;if(E?A=T:(A=T==="v"?"h":"v",E=RO(T,C)),!E)return!1;if(!r.current&&"changedTouches"in g&&(w||S)&&(r.current=A),!A)return!0;var N=r.current||A;return nie(N,v,g,N==="h"?w:S,!0)},[]),l=_.useCallback(function(g){var v=g;if(!(!Lc.length||Lc[Lc.length-1]!==o)){var b="deltaY"in v?jO(v):jg(v),x=e.current.filter(function(A){return A.name===v.type&&(A.target===v.target||v.target===A.shadowParent)&&rie(A.delta,b)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var w=(a.current.shards||[]).map(DO).filter(Boolean).filter(function(A){return A.contains(v.target)}),S=w.length>0?s(v,w[0]):!a.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),c=_.useCallback(function(g,v,b,x){var w={name:g,delta:v,target:b,should:x,shadowParent:sie(b)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(S){return S!==w})},1)},[]),d=_.useCallback(function(g){n.current=jg(g),r.current=void 0},[]),f=_.useCallback(function(g){c(g.type,jO(g),g.target,s(g,t.lockRef.current))},[]),h=_.useCallback(function(g){c(g.type,jg(g),g.target,s(g,t.lockRef.current))},[]);_.useEffect(function(){return Lc.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Mc),document.addEventListener("touchmove",l,Mc),document.addEventListener("touchstart",d,Mc),function(){Lc=Lc.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Mc),document.removeEventListener("touchmove",l,Mc),document.removeEventListener("touchstart",d,Mc)}},[]);var m=t.removeScrollBar,y=t.inert;return _.createElement(_.Fragment,null,y?_.createElement(o,{styles:iie(i)}):null,m?_.createElement(Xre,{gapMode:t.gapMode}):null)}function sie(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const lie=Mre(LV,aie);var CA=_.forwardRef(function(t,e){return _.createElement(Hx,Ji({},t,{ref:e,sideCar:lie}))});CA.classNames=Hx.classNames;var cie=[" ","Enter","ArrowUp","ArrowDown"],uie=[" ","Enter"],km="Select",[qx,Kx,die]=sV(km),[Gd,nOe]=$s(km,[die,Wx]),Gx=Wx(),[fie,Vs]=Gd(km),[hie,pie]=Gd(km),PA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:s,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:h,required:m,form:y}=t,g=Gx(e),[v,b]=_.useState(null),[x,w]=_.useState(null),[S,A]=_.useState(!1),C=Vx(c),[T=!1,E]=Ss({prop:r,defaultProp:i,onChange:o}),[N,P]=Ss({prop:a,defaultProp:s,onChange:l}),R=_.useRef(null),O=v?y||!!v.closest("form"):!0,[j,$]=_.useState(new Set),V=Array.from(j).map(U=>U.props.value).join(";");return u.jsx(kV,{...g,children:u.jsxs(fie,{required:m,scope:e,trigger:v,onTriggerChange:b,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:A,contentId:$o(),value:N,onValueChange:P,open:T,onOpenChange:E,dir:C,triggerPointerDownPosRef:R,disabled:h,children:[u.jsx(qx.Provider,{scope:e,children:u.jsx(hie,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(U=>{$(q=>new Set(q).add(U))},[]),onNativeOptionRemove:_.useCallback(U=>{$(q=>{const L=new Set(q);return L.delete(U),L})},[]),children:n})}),O?u.jsxs(lF,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:U=>P(U.target.value),disabled:h,form:y,children:[N===void 0?u.jsx("option",{value:""}):null,Array.from(j)]},V):null]})})};PA.displayName=km;var UV="SelectTrigger",kA=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=Gx(n),a=Vs(UV,n),s=a.disabled||r,l=At(e,a.onTriggerChange),c=Kx(n),d=_.useRef("touch"),[f,h,m]=cF(g=>{const v=c().filter(w=>!w.disabled),b=v.find(w=>w.value===a.value),x=uF(v,g,b);x!==void 0&&a.onValueChange(x.value)}),y=g=>{s||(a.onOpenChange(!0),m()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return u.jsx(NV,{asChild:!0,...o,children:u.jsx(ze.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":sF(a.value)?"":void 0,...i,ref:l,onClick:Be(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:Be(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:Be(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&cie.includes(g.key)&&(y(),g.preventDefault())})})})});kA.displayName=UV;var zV="SelectValue",NA=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...s}=t,l=Vs(zV,n),{onValueNodeHasChildrenChange:c}=l,d=o!==void 0,f=At(e,l.onValueNodeChange);return Vn(()=>{c(d)},[c,d]),u.jsx(ze.span,{...s,ref:f,style:{pointerEvents:"none"},children:sF(l.value)?u.jsx(u.Fragment,{children:a}):o})});NA.displayName=zV;var mie="SelectIcon",WV=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return u.jsx(ze.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});WV.displayName=mie;var gie="SelectPortal",HV=t=>u.jsx(TA,{asChild:!0,...t});HV.displayName=gie;var ac="SelectContent",OA=_.forwardRef((t,e)=>{const n=Vs(ac,t.__scopeSelect),[r,i]=_.useState();if(Vn(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Dd.createPortal(u.jsx(qV,{scope:t.__scopeSelect,children:u.jsx(qx.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),o):null}return u.jsx(KV,{...t,ref:e})});OA.displayName=ac;var yi=10,[qV,Fs]=Gd(ac),yie="SelectContentImpl",KV=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:s,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:v,...b}=t,x=Vs(ac,n),[w,S]=_.useState(null),[A,C]=_.useState(null),T=At(e,te=>S(te)),[E,N]=_.useState(null),[P,R]=_.useState(null),O=Kx(n),[j,$]=_.useState(!1),V=_.useRef(!1);_.useEffect(()=>{if(w)return DV(w)},[w]),uV();const U=_.useCallback(te=>{const[Ae,...ce]=O().map(G=>G.ref.current),[ue]=ce.slice(-1),se=document.activeElement;for(const G of te)if(G===se||(G==null||G.scrollIntoView({block:"nearest"}),G===Ae&&A&&(A.scrollTop=0),G===ue&&A&&(A.scrollTop=A.scrollHeight),G==null||G.focus(),document.activeElement!==se))return},[O,A]),q=_.useCallback(()=>U([E,w]),[U,E,w]);_.useEffect(()=>{j&&q()},[j,q]);const{onOpenChange:L,triggerPointerDownPosRef:K}=x;_.useEffect(()=>{if(w){let te={x:0,y:0};const Ae=ue=>{var se,G;te={x:Math.abs(Math.round(ue.pageX)-(((se=K.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((G=K.current)==null?void 0:G.y)??0))}},ce=ue=>{te.x<=10&&te.y<=10?ue.preventDefault():w.contains(ue.target)||L(!1),document.removeEventListener("pointermove",Ae),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",Ae),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ae),document.removeEventListener("pointerup",ce,{capture:!0})}}},[w,L,K]),_.useEffect(()=>{const te=()=>L(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[L]);const[Q,ee]=cF(te=>{const Ae=O().filter(se=>!se.disabled),ce=Ae.find(se=>se.ref.current===document.activeElement),ue=uF(Ae,te,ce);ue&&setTimeout(()=>ue.ref.current.focus())}),ne=_.useCallback((te,Ae,ce)=>{const ue=!V.current&&!ce;(x.value!==void 0&&x.value===Ae||ue)&&(N(te),ue&&(V.current=!0))},[x.value]),oe=_.useCallback(()=>w==null?void 0:w.focus(),[w]),J=_.useCallback((te,Ae,ce)=>{const ue=!V.current&&!ce;(x.value!==void 0&&x.value===Ae||ue)&&R(te)},[x.value]),fe=r==="popper"?SS:GV,Ce=fe===SS?{side:s,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return u.jsx(qV,{scope:n,content:w,viewport:A,onViewportChange:C,itemRefCallback:ne,selectedItem:E,onItemLeave:oe,itemTextRefCallback:J,focusSelectedItem:q,selectedItemText:P,position:r,isPositioned:j,searchRef:Q,children:u.jsx(CA,{as:ql,allowPinchZoom:!0,children:u.jsx(mA,{asChild:!0,trapped:x.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Be(i,te=>{var Ae;(Ae=x.trigger)==null||Ae.focus({preventScroll:!0}),te.preventDefault()}),children:u.jsx(Fx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:u.jsx(fe,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:te=>te.preventDefault(),...b,...Ce,onPlaced:()=>$(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Be(b.onKeyDown,te=>{const Ae=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!Ae&&te.key.length===1&&ee(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let ue=O().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(te.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const se=te.target,G=ue.indexOf(se);ue=ue.slice(G+1)}setTimeout(()=>U(ue)),te.preventDefault()}})})})})})})});KV.displayName=yie;var vie="SelectItemAlignedPosition",GV=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Vs(ac,n),a=Fs(ac,n),[s,l]=_.useState(null),[c,d]=_.useState(null),f=At(e,T=>d(T)),h=Kx(n),m=_.useRef(!1),y=_.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:b,focusSelectedItem:x}=a,w=_.useCallback(()=>{if(o.trigger&&o.valueNode&&s&&c&&g&&v&&b){const T=o.trigger.getBoundingClientRect(),E=c.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),P=b.getBoundingClientRect();if(o.dir!=="rtl"){const se=P.left-E.left,G=N.left-se,ke=T.left-G,M=T.width+ke,F=Math.max(M,E.width),H=window.innerWidth-yi,ge=mO(G,[yi,Math.max(yi,H-F)]);s.style.minWidth=M+"px",s.style.left=ge+"px"}else{const se=E.right-P.right,G=window.innerWidth-N.right-se,ke=window.innerWidth-T.right-G,M=T.width+ke,F=Math.max(M,E.width),H=window.innerWidth-yi,ge=mO(G,[yi,Math.max(yi,H-F)]);s.style.minWidth=M+"px",s.style.right=ge+"px"}const R=h(),O=window.innerHeight-yi*2,j=g.scrollHeight,$=window.getComputedStyle(c),V=parseInt($.borderTopWidth,10),U=parseInt($.paddingTop,10),q=parseInt($.borderBottomWidth,10),L=parseInt($.paddingBottom,10),K=V+U+j+L+q,Q=Math.min(v.offsetHeight*5,K),ee=window.getComputedStyle(g),ne=parseInt(ee.paddingTop,10),oe=parseInt(ee.paddingBottom,10),J=T.top+T.height/2-yi,fe=O-J,Ce=v.offsetHeight/2,te=v.offsetTop+Ce,Ae=V+U+te,ce=K-Ae;if(Ae<=J){const se=R.length>0&&v===R[R.length-1].ref.current;s.style.bottom="0px";const G=c.clientHeight-g.offsetTop-g.offsetHeight,ke=Math.max(fe,Ce+(se?oe:0)+G+q),M=Ae+ke;s.style.height=M+"px"}else{const se=R.length>0&&v===R[0].ref.current;s.style.top="0px";const ke=Math.max(J,V+g.offsetTop+(se?ne:0)+Ce)+ce;s.style.height=ke+"px",g.scrollTop=Ae-J+g.offsetTop}s.style.margin=`${yi}px 0`,s.style.minHeight=Q+"px",s.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,o.trigger,o.valueNode,s,c,g,v,b,o.dir,r]);Vn(()=>w(),[w]);const[S,A]=_.useState();Vn(()=>{c&&A(window.getComputedStyle(c).zIndex)},[c]);const C=_.useCallback(T=>{T&&y.current===!0&&(w(),x==null||x(),y.current=!1)},[w,x]);return u.jsx(bie,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:m,onScrollButtonChange:C,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:u.jsx(ze.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});GV.displayName=vie;var xie="SelectPopperPosition",SS=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=yi,...o}=t,a=Gx(n);return u.jsx(OV,{...a,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SS.displayName=xie;var[bie,RA]=Gd(ac,{}),ES="SelectViewport",XV=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=Fs(ES,n),a=RA(ES,n),s=At(e,o.onViewportChange),l=_.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(qx.Slot,{scope:n,children:u.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Be(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const y=window.innerHeight-yi*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),b=Math.max(g,v);if(b<y){const x=b+m,w=Math.min(y,x),S=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});XV.displayName=ES;var QV="SelectGroup",[wie,_ie]=Gd(QV),Sie=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=$o();return u.jsx(wie,{scope:n,id:i,children:u.jsx(ze.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Sie.displayName=QV;var YV="SelectLabel",JV=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=_ie(YV,n);return u.jsx(ze.div,{id:i.id,...r,ref:e})});JV.displayName=YV;var Mv="SelectItem",[Eie,ZV]=Gd(Mv),au=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=t,s=Vs(Mv,n),l=Fs(Mv,n),c=s.value===r,[d,f]=_.useState(o??""),[h,m]=_.useState(!1),y=At(e,x=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,x,r,i)}),g=$o(),v=_.useRef("touch"),b=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(Eie,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:_.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:u.jsx(qx.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:u.jsx(ze.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:y,onFocus:Be(a.onFocus,()=>m(!0)),onBlur:Be(a.onBlur,()=>m(!1)),onClick:Be(a.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:Be(a.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:Be(a.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:Be(a.onPointerMove,x=>{var w;v.current=x.pointerType,i?(w=l.onItemLeave)==null||w.call(l):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Be(a.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:Be(a.onKeyDown,x=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(uie.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});au.displayName=Mv;var ah="SelectItemText",eF=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,a=Vs(ah,n),s=Fs(ah,n),l=ZV(ah,n),c=pie(ah,n),[d,f]=_.useState(null),h=At(e,b=>f(b),l.onItemTextChange,b=>{var x;return(x=s.itemTextRefCallback)==null?void 0:x.call(s,b,l.value,l.disabled)}),m=d==null?void 0:d.textContent,y=_.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=c;return Vn(()=>(g(y),()=>v(y)),[g,v,y]),u.jsxs(u.Fragment,{children:[u.jsx(ze.span,{id:l.textId,...o,ref:h}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Dd.createPortal(o.children,a.valueNode):null]})});eF.displayName=ah;var tF="SelectItemIndicator",nF=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return ZV(tF,n).isSelected?u.jsx(ze.span,{"aria-hidden":!0,...r,ref:e}):null});nF.displayName=tF;var TS="SelectScrollUpButton",rF=_.forwardRef((t,e)=>{const n=Fs(TS,t.__scopeSelect),r=RA(TS,t.__scopeSelect),[i,o]=_.useState(!1),a=At(e,r.onScrollButtonChange);return Vn(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?u.jsx(oF,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop-l.offsetHeight)}}):null});rF.displayName=TS;var IS="SelectScrollDownButton",iF=_.forwardRef((t,e)=>{const n=Fs(IS,t.__scopeSelect),r=RA(IS,t.__scopeSelect),[i,o]=_.useState(!1),a=At(e,r.onScrollButtonChange);return Vn(()=>{if(n.viewport&&n.isPositioned){let s=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};const l=n.viewport;return s(),l.addEventListener("scroll",s),()=>l.removeEventListener("scroll",s)}},[n.viewport,n.isPositioned]),i?u.jsx(oF,{...t,ref:a,onAutoScroll:()=>{const{viewport:s,selectedItem:l}=n;s&&l&&(s.scrollTop=s.scrollTop+l.offsetHeight)}}):null});iF.displayName=IS;var oF=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=Fs("SelectScrollButton",n),a=_.useRef(null),s=Kx(n),l=_.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return _.useEffect(()=>()=>l(),[l]),Vn(()=>{var d;const c=s().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[s]),u.jsx(ze.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Be(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Be(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Be(i.onPointerLeave,()=>{l()})})}),Tie="SelectSeparator",aF=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(ze.div,{"aria-hidden":!0,...r,ref:e})});aF.displayName=Tie;var AS="SelectArrow",Iie=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Gx(n),o=Vs(AS,n),a=Fs(AS,n);return o.open&&a.position==="popper"?u.jsx(RV,{...i,...r,ref:e}):null});Iie.displayName=AS;function sF(t){return t===""||t===void 0}var lF=_.forwardRef((t,e)=>{const{value:n,...r}=t,i=_.useRef(null),o=At(e,i),a=IA(n);return _.useEffect(()=>{const s=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==n&&d){const f=new Event("change",{bubbles:!0});d.call(s,n),s.dispatchEvent(f)}},[a,n]),u.jsx(AA,{asChild:!0,children:u.jsx("select",{...r,ref:o,defaultValue:n})})});lF.displayName="BubbleSelect";function cF(t){const e=Mi(t),n=_.useRef(""),r=_.useRef(0),i=_.useCallback(a=>{const s=n.current+a;e(s),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(s)},[e]),o=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function uF(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let a=Aie(t,Math.max(o,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Aie(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Cie=PA,dF=kA,Pie=NA,kie=WV,Nie=HV,fF=OA,Oie=XV,hF=JV,pF=au,Rie=eF,jie=nF,mF=rF,gF=iF,yF=aF;const Es=Cie,Ts=Pie,Jo=_.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(dF,{ref:r,className:we("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(kie,{asChild:!0,children:u.jsx(I4,{className:"h-4 w-4 opacity-50"})})]}));Jo.displayName=dF.displayName;const vF=_.forwardRef(({className:t,...e},n)=>u.jsx(mF,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(pK,{className:"h-4 w-4"})}));vF.displayName=mF.displayName;const xF=_.forwardRef(({className:t,...e},n)=>u.jsx(gF,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(I4,{className:"h-4 w-4"})}));xF.displayName=gF.displayName;const Zo=_.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>u.jsx(Nie,{children:u.jsxs(fF,{ref:i,className:we("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(vF,{}),u.jsx(Oie,{className:we("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(xF,{})]})}));Zo.displayName=fF.displayName;const Die=_.forwardRef(({className:t,...e},n)=>u.jsx(hF,{ref:n,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Die.displayName=hF.displayName;const zt=_.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(pF,{ref:r,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(jie,{children:u.jsx(hK,{className:"h-4 w-4"})})}),u.jsx(Rie,{children:e})]}));zt.displayName=pF.displayName;const Mie=_.forwardRef(({className:t,...e},n)=>u.jsx(yF,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));Mie.displayName=yF.displayName;var Lie="Label",bF=_.forwardRef((t,e)=>u.jsx(ze.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));bF.displayName=Lie;var wF=bF;const $ie=JT("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Te=_.forwardRef(({className:t,...e},n)=>u.jsx(wF,{ref:n,className:we($ie(),t),...e}));Te.displayName=wF.displayName;const Vie=({searchQuery:t,onSearch:e,categoryFilter:n,subcategoryFilter:r,categories:i,subcategories:o,onCategoryChange:a,onSubcategoryChange:s,loading:l})=>u.jsxs("div",{className:"mb-6 space-y-4",children:[u.jsx("div",{className:"flex-1",children:u.jsx(Kte,{value:t,onChange:e,placeholder:"Search by name, code, category, keywords..."})}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 space-y-1",children:[u.jsx(Te,{htmlFor:"category-filter",className:"text-sm font-medium",children:"Category"}),u.jsxs(Es,{value:n,onValueChange:a,disabled:l,children:[u.jsx(Jo,{id:"category-filter",className:"border-green-300 dark:border-green-700",children:u.jsx(Ts,{placeholder:"All Categories"})}),u.jsxs(Zo,{children:[u.jsx(zt,{value:"all",children:"All Categories"}),i.map(c=>u.jsx(zt,{value:c,children:c},c))]})]})]}),u.jsxs("div",{className:"flex-1 space-y-1",children:[u.jsx(Te,{htmlFor:"subcategory-filter",className:"text-sm font-medium",children:"Subcategory"}),u.jsxs(Es,{value:r,onValueChange:s,disabled:l,children:[u.jsx(Jo,{id:"subcategory-filter",className:"border-green-300 dark:border-green-700",children:u.jsx(Ts,{placeholder:"All Subcategories"})}),u.jsxs(Zo,{children:[u.jsx(zt,{value:"all",children:"All Subcategories"}),o.map(c=>u.jsx(zt,{value:c,children:c},c))]})]})]})]})]}),ea=_.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:we("w-full caption-bottom text-sm",t),...e})}));ea.displayName="Table";const ta=_.forwardRef(({className:t,...e},n)=>u.jsx("thead",{ref:n,className:we("[&_tr]:border-b",t),...e}));ta.displayName="TableHeader";const na=_.forwardRef(({className:t,...e},n)=>u.jsx("tbody",{ref:n,className:we("[&_tr:last-child]:border-0",t),...e}));na.displayName="TableBody";const Fie=_.forwardRef(({className:t,...e},n)=>u.jsx("tfoot",{ref:n,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Fie.displayName="TableFooter";const Ht=_.forwardRef(({className:t,...e},n)=>u.jsx("tr",{ref:n,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ht.displayName="TableRow";const De=_.forwardRef(({className:t,...e},n)=>u.jsx("th",{ref:n,className:we("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));De.displayName="TableHead";const Ne=_.forwardRef(({className:t,...e},n)=>u.jsx("td",{ref:n,className:we("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ne.displayName="TableCell";const Bie=_.forwardRef(({className:t,...e},n)=>u.jsx("caption",{ref:n,className:we("mt-4 text-sm text-muted-foreground",t),...e}));Bie.displayName="TableCaption";const Uie=JT("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _r({className:t,variant:e,...n}){return u.jsx("div",{className:we(Uie({variant:e}),t),...n})}function zie({products:t,loading:e,onDelete:n,onView:r}){return e?u.jsx("div",{className:"flex justify-center items-center py-10",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):t.length===0?u.jsx("div",{className:"text-center py-10",children:u.jsx("p",{className:"text-muted-foreground",children:"No products found."})}):u.jsx("div",{className:"border rounded-md overflow-hidden",children:u.jsxs(ea,{children:[u.jsx(ta,{style:{fontWeight:"bold",color:"black"},children:u.jsxs(Ht,{children:[u.jsx(De,{children:"Name"}),u.jsx(De,{children:"Code"}),u.jsx(De,{children:"Category"}),u.jsx(De,{children:"Sub Category"}),u.jsx(De,{children:"Keywords"}),u.jsx(De,{className:"text-right",children:"Actions"})]})}),u.jsx(na,{children:t.map(i=>u.jsxs(Ht,{children:[u.jsx(Ne,{className:"font-medium",children:u.jsxs("div",{className:"flex items-center gap-3",children:[i.imageUrl?u.jsx("img",{src:i.imageUrl,alt:i.name,className:"h-8 w-8 rounded object-cover"}):u.jsx("div",{className:"h-8 w-8 rounded bg-muted flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-muted-foreground",children:"No img"})}),u.jsx(cm,{to:`/products/${i.id}`,className:"hover:text-green-600 transition-colors",children:u.jsx("span",{children:i.name})})]})}),u.jsx(Ne,{align:"left",children:i.productCode}),u.jsx(Ne,{align:"left",children:i.category}),u.jsx(Ne,{align:"left",children:i.subcategory}),u.jsx(Ne,{align:"left",children:i.keywords.map((o,a)=>u.jsx(_r,{variant:"outline",className:"bg-accent text-green-700 border-green-200 mx-1",children:o.toUpperCase()},a))}),u.jsx(Ne,{className:"text-right",children:u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>r(i.id),className:"hover:text-green-600 transition-colors",children:u.jsx(iv,{className:"h-4 w-4"})}),u.jsx(ie,{size:"sm",variant:"ghost",className:"hover:text-green-600 transition-colors",onClick:()=>r(i.id),children:u.jsx(tI,{className:"h-4 w-4"})}),u.jsx(ie,{size:"sm",variant:"ghost",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>n(i.id),children:u.jsx(ox,{className:"h-4 w-4"})})]})})]},i.id))})]})})}const jA=({className:t,...e})=>u.jsx("nav",{role:"navigation","aria-label":"pagination",className:we("mx-auto flex w-full justify-center",t),...e});jA.displayName="Pagination";const DA=_.forwardRef(({className:t,...e},n)=>u.jsx("ul",{ref:n,className:we("flex flex-row items-center gap-1",t),...e}));DA.displayName="PaginationContent";const Ei=_.forwardRef(({className:t,...e},n)=>u.jsx("li",{ref:n,className:we("",t),...e}));Ei.displayName="PaginationItem";const Ml=({className:t,isActive:e,size:n="icon",...r})=>u.jsx("a",{"aria-current":e?"page":void 0,className:we(S4({variant:e?"default":"outline",size:n}),t),...r});Ml.displayName="PaginationLink";const MA=({className:t,...e})=>u.jsxs(Ml,{"aria-label":"Go to previous page",size:"default",className:we("gap-1 pl-2.5",t),...e,children:[u.jsx(A4,{className:"h-4 w-4"}),u.jsx("span",{children:"Previous"})]});MA.displayName="PaginationPrevious";const LA=({className:t,...e})=>u.jsxs(Ml,{"aria-label":"Go to next page",size:"default",className:we("gap-1 pr-2.5",t),...e,children:[u.jsx("span",{children:"Next"}),u.jsx(C4,{className:"h-4 w-4"})]});LA.displayName="PaginationNext";const Wie=({products:t,loading:e,totalProducts:n,currentPage:r,pageSize:i,onPageChange:o,onDelete:a,onView:s})=>{const[l,c]=_.useState(1);_.useEffect(()=>{c(Math.max(1,Math.ceil(n/i)))},[n,i]);const d=()=>{const f=[];let m=Math.max(1,r-Math.floor(2.5)),y=Math.min(l,m+5-1);y===l&&(m=Math.max(1,y-5+1)),m>1&&(f.push(u.jsx(Ei,{children:u.jsx(Ml,{onClick:()=>o(1),children:"1"})},"first")),m>2&&f.push(u.jsx(Ei,{children:u.jsx("span",{className:"px-2",children:"..."})},"ellipsis1")));for(let g=m;g<=y;g++)f.push(u.jsx(Ei,{children:u.jsx(Ml,{isActive:r===g,onClick:()=>o(g),children:g})},g));return y<l&&(y<l-1&&f.push(u.jsx(Ei,{children:u.jsx("span",{className:"px-2",children:"..."})},"ellipsis2")),f.push(u.jsx(Ei,{children:u.jsx(Ml,{onClick:()=>o(l),children:l})},"last"))),f};return u.jsxs("div",{className:"space-y-4",children:[u.jsx(zie,{products:t,loading:e,onDelete:a,onView:s}),n>0&&u.jsx("div",{className:"flex justify-center mt-6",children:u.jsx(jA,{children:u.jsxs(DA,{children:[u.jsx(Ei,{children:u.jsx(MA,{onClick:()=>o(Math.max(1,r-1)),className:r===1?"pointer-events-none opacity-50":""})}),d(),u.jsx(Ei,{children:u.jsx(LA,{onClick:()=>o(Math.min(l,r+1)),className:r===l?"pointer-events-none opacity-50":""})})]})})}),u.jsx("div",{className:"text-center text-sm text-muted-foreground",children:n>0?u.jsxs("p",{children:["Showing ",(r-1)*i+1,"-",Math.min(r*i,n)," of ",n," products"]}):e?u.jsx("p",{children:"Loading products..."}):u.jsx("p",{children:"No products found"})})]})},Hie=()=>{const t=nr(),{products:e,loading:n,searchQuery:r,categoryFilter:i,subcategoryFilter:o,categories:a,subcategories:s,totalProducts:l,currentPage:c,pageSize:d,handleSearch:f,handleCategoryChange:h,handleSubcategoryChange:m,handleRefresh:y,deleteProduct:g,handlePageChange:v}=Hte(),b=x=>{t(`/products/${x}`)};return u.jsxs("div",{className:"container px-4 py-6 mx-auto",children:[u.jsx(qte,{loading:n,onRefresh:y}),u.jsx(Vie,{searchQuery:r,onSearch:f,categoryFilter:i,subcategoryFilter:o,categories:a,subcategories:s,onCategoryChange:h,onSubcategoryChange:m,loading:n}),u.jsx(Wie,{products:e,loading:n,totalProducts:l,currentPage:c,pageSize:d,onPageChange:v,onDelete:g,onView:b})]})},qie=({productId:t})=>{const e=nr();return u.jsxs("div",{className:"flex items-center mb-6 gap-2",children:[u.jsx(ie,{variant:"ghost",size:"icon",onClick:()=>e("/products"),className:"text-green-700 hover:bg-green-100/50 dark:text-green-300 dark:hover:bg-green-800/50",children:u.jsx(D_,{className:"h-5 w-5"})}),u.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2 text-green-800 dark:text-green-300",children:[u.jsx(nx,{className:"h-7 w-7 text-green-600 dark:text-green-400"}),"Product Details"]}),u.jsx("div",{className:"ml-auto",children:u.jsxs(ie,{onClick:()=>e(`/edit-product/${t}`),className:"gap-2 bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600",children:[u.jsx(tI,{className:"h-4 w-4"}),"Edit Product"]})})]})},Kie=({product:t})=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(nx,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),u.jsx("span",{className:"text-lg font-medium text-green-800 dark:text-green-300",children:"Product Details"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:"Description"}),u.jsx("p",{className:"text-green-800 dark:text-green-200",children:t.description||"No description available"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:"SKU"}),u.jsx("p",{className:"text-green-800 dark:text-green-200",children:t.sku||"Not available"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:"Barcode"}),u.jsx("p",{className:"text-green-800 dark:text-green-200",children:t.barcode||"Not available"})]})]})]}),u.jsxs("div",{className:"pt-4",children:[u.jsx("h3",{className:"text-sm font-medium text-green-700 dark:text-green-400 mb-2",children:"Specifications"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.specifications?Object.entries(t.specifications).map(([e,n])=>u.jsxs("div",{className:"border border-green-200 dark:border-green-700/50 p-3 rounded-md bg-green-50/70 dark:bg-green-800/30",children:[u.jsx("h4",{className:"text-xs text-green-600/80 dark:text-green-500/80",children:e}),u.jsx("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:n})]},e)):u.jsx("p",{className:"text-green-800/70 dark:text-green-300/70",children:"No specifications available"})})]})]}),Gie=({productId:t})=>{const e=nr();return u.jsxs(ht,{className:"bg-green-50/50 dark:bg-green-900/30 border-green-100 dark:border-green-800/50",children:[u.jsx(yt,{className:"bg-gradient-to-r from-green-100 to-green-50/50 dark:from-green-800/50 dark:to-green-900/30 rounded-t-lg",children:u.jsx(vt,{className:"text-lg text-green-800 dark:text-green-300",children:"Quick Actions"})}),u.jsxs(pt,{className:"space-y-4",children:[u.jsxs(ie,{className:"w-full gap-2 bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600",onClick:()=>e("/grn"),children:[u.jsx(M4,{className:"h-4 w-4"}),"Add to GRN"]}),u.jsxs(ie,{variant:"outline",className:"w-full gap-2 border-green-200 text-green-700 hover:bg-green-100/50 dark:border-green-700 dark:text-green-300 dark:hover:bg-green-800/50",onClick:()=>e(`/edit-product/${t}`),children:[u.jsx(tI,{className:"h-4 w-4"}),"Edit Product"]}),u.jsxs(ie,{variant:"secondary",className:"w-full gap-2 bg-green-100 text-green-800 hover:bg-green-200 dark:bg-green-800/30 dark:text-green-300 dark:hover:bg-green-700/50",onClick:()=>e("/checkout"),children:[u.jsx(MK,{className:"h-4 w-4"}),"Add to Sale"]})]})]})};var Xie="Separator",MO="horizontal",Qie=["horizontal","vertical"],_F=_.forwardRef((t,e)=>{const{decorative:n,orientation:r=MO,...i}=t,o=Yie(r)?r:MO,s=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return u.jsx(ze.div,{"data-orientation":o,...s,...i,ref:e})});_F.displayName=Xie;function Yie(t){return Qie.includes(t)}var SF=_F;const cd=_.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>u.jsx(SF,{ref:i,decorative:n,orientation:e,className:we("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));cd.displayName=SF.displayName;const Jie=({product:t})=>u.jsxs(ht,{className:"bg-green-50/50 dark:bg-green-900/30 border-green-100 dark:border-green-800/50",children:[u.jsx(yt,{className:"bg-gradient-to-r from-green-100 to-green-50/50 dark:from-green-800/50 dark:to-green-900/30 rounded-t-lg",children:u.jsx(vt,{className:"text-lg text-green-800 dark:text-green-300",children:"Sales Information"})}),u.jsxs(pt,{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:"Revenue Potential"}),u.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:["$",(t.stock*t.sellingPrice).toFixed(2)]}),u.jsx("p",{className:"text-sm text-green-600/70 dark:text-green-500/70",children:"Based on current stock and selling price"})]}),u.jsx(cd,{className:"bg-green-200 dark:bg-green-700/50"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:"Profit Potential"}),u.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1",children:["$",(t.stock*(t.sellingPrice-t.costPrice)).toFixed(2)]}),u.jsx("p",{className:"text-sm text-green-600/70 dark:text-green-500/70",children:"Based on current stock and profit margin"})]})]})]}),Zie=()=>{const t=nr();return u.jsx("div",{className:"flex justify-center items-center h-96",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold",children:"Product Not Found"}),u.jsx("p",{className:"text-muted-foreground mt-2",children:"The product you're looking for doesn't exist or has been removed."}),u.jsx(ie,{onClick:()=>t("/products"),className:"mt-4",children:"Go Back to Products"})]})})},eoe=({size:t="md"})=>{const e={sm:"h-6 w-6",md:"h-12 w-12",lg:"h-16 w-16"};return u.jsx("div",{className:"flex justify-center items-center h-96",children:u.jsx("div",{className:`animate-spin rounded-full ${e[t]} border-b-2 border-primary`})})},toe="products_cache",noe=()=>{const{id:t}=d4(),[e,n]=_.useState(null),[r,i]=_.useState(!0);return _.useEffect(()=>{(async()=>{if(t)try{i(!0);const a=`${toe}_${t}`,s=wr(a),l=rc(qt.PRODUCTS);if(s&&!l&&Am(a)){n(s),i(!1),console.log("Using cached product");return}const c=await ad(Ln(ft,Zi,t));if(c.exists()){const d=c.data(),f={id:c.id,name:d.name||"",category:d.category||"",subcategory:d.subcategory||"",keywords:d.keywords||[],barcode:d.barcode,imageUrl:d.imageUrl,description:d.description,createdAt:d.createdAt?new Date(d.createdAt.toDate()):void 0,createdBy:d.createdBy||"Unknown",modifiedDate:d.modifiedDate?new Date(d.modifiedDate.toDate()):void 0,modifiedBy:d.modifiedBy||"Unknown"};n(f),rn(a,f),Tm(qt.PRODUCTS)}else ve.error("Product not found")}catch(a){console.error("Error fetching product:",a),ve.error("Failed to load product details")}finally{i(!1)}})()},[t]),r?u.jsx(eoe,{}):e?u.jsxs("div",{className:"container p-6 max-w-6xl mx-auto",children:[u.jsx(qie,{productId:e.id}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs(ht,{className:"md:col-span-2 bg-green-50/50 dark:bg-green-900/30 border-green-100 dark:border-green-800/50",children:[u.jsx(yt,{className:"bg-gradient-to-r from-green-100 to-green-50/50 dark:from-green-800/50 dark:to-green-900/30 rounded-t-lg",children:u.jsx(vt,{className:"text-2xl text-green-800 dark:text-green-300",children:e.name})}),u.jsx(pt,{children:u.jsx(Kie,{product:e})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(Gie,{productId:e.id}),u.jsx(Jie,{product:e})]})]})]}):u.jsx(Zie,{})},roe=({formData:t,handleChange:e})=>u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Te,{htmlFor:"productCode",children:["Product Code ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx($e,{id:"productCode",name:"productCode",placeholder:"Enter product code",value:t.productCode,onChange:e,required:!0})]}),u.jsxs("div",{className:"space-y-2 md:col-span-2",children:[u.jsxs(Te,{htmlFor:"name",children:["Product Name ",u.jsx("span",{className:"text-red-500",children:"*"})]}),u.jsx($e,{id:"name",name:"name",placeholder:"Enter product name",value:t.name,onChange:e,required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"barcode",children:"Barcode"}),u.jsx($e,{id:"barcode",name:"barcode",placeholder:"Enter barcode (optional)",value:t.barcode,onChange:e})]})]}),ioe=({formData:t,handleChange:e,handleSelectChange:n})=>u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"category",children:"Category"}),u.jsx($e,{id:"category",name:"category",placeholder:"Enter category",value:t.category,onChange:e})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"subcategory",children:"Subcategory"}),u.jsx($e,{id:"subcategory",name:"subcategory",placeholder:"Enter subcategory",value:t.subcategory,onChange:e})]})]}),Xx=_.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Xx.displayName="Textarea";const ooe=({formData:t,handleChange:e})=>u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"keywords",children:"Keywords (comma separated)"}),u.jsx(Xx,{id:"keywords",name:"keywords",placeholder:"Enter keywords separated by commas",value:t.keywords,onChange:e})]})}),aoe=({imagePreview:t,setImagePreview:e,setProductImage:n,uploadType:r="base64"})=>{const i=o=>{if(o.target.files&&o.target.files[0]){const a=o.target.files[0];n(a);const s=new FileReader;s.onload=l=>{var c;(c=l.target)!=null&&c.result&&e(l.target.result)},s.readAsDataURL(a)}};return u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Te,{htmlFor:"productImage",children:["Product Image",u.jsx(_r,{variant:"outline",className:"ml-2 bg-green-50 text-green-700",children:"JPEG Base64"})]}),u.jsxs("div",{className:"flex flex-col space-y-2",children:[t&&u.jsx("div",{className:"p-2 border rounded-md w-40 h-40 flex items-center justify-center mb-2 border-primary/30",children:u.jsx("img",{src:t,alt:"Product preview",className:"max-h-full max-w-full object-contain"})}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx($e,{id:"productImage",type:"file",accept:"image/*",onChange:i,className:"hidden"}),u.jsxs(ie,{type:"button",variant:"outline",onClick:()=>{var o;return(o=document.getElementById("productImage"))==null?void 0:o.click()},className:"gap-2 border-primary/30 text-primary hover:bg-primary/10",children:[u.jsx(tx,{className:"h-4 w-4"}),t?"Change Image":"Upload Image"]}),t&&u.jsx(ie,{type:"button",variant:"outline",onClick:()=>{e(null),n(null)},className:"text-red-500 hover:text-red-600 border-red-300",children:"Remove"})]})]})]})},Nm=(t,e=800)=>new Promise((n,r)=>{const i=new Image;i.onload=()=>{const o=document.createElement("canvas");let a=i.width,s=i.height;a>e&&(s=Math.round(s*e/a),a=e),o.width=a,o.height=s;const l=o.getContext("2d");if(!l){r(new Error("Could not get canvas context"));return}l.drawImage(i,0,0,a,s);const c=o.toDataURL("image/jpeg",.8);n(c)},i.onerror=()=>{r(new Error("Failed to load image"))},i.src=URL.createObjectURL(t)}),soe="products_cache",loe=()=>{const t=nr(),[e,n]=_.useState(!1),[r,i]=_.useState(null),[o,a]=_.useState(null),[s,l]=_.useState(null),[c,d]=_.useState({productCode:"",name:"",category:"",subcategory:"",keywords:"",barcode:""}),f=g=>{const{name:v,value:b}=g.target;d(x=>({...x,[v]:b}))},h=(g,v)=>{d(b=>({...b,[g]:v}))},m=async()=>{if(!c.productCode||!c.name)return ve.error("Please fill in all required fields (product code, name, barcode, category, subcategory, keywords)."),!1;try{const g=pr(ft,Zi),v=sr(g,wl("productCode","==",c.productCode));if(!(await oo(v)).empty)return ve.error("Product code already exists. Please use a unique product code."),!1}catch(g){return console.error("Error checking product code uniqueness:",g),ve.error("Failed to verify product code uniqueness"),!1}return!0},y=async g=>{if(g.preventDefault(),!!await m()){n(!0);try{let v=null;if(r)try{v=await Nm(r)}catch(C){console.error("Error converting image to base64:",C),ve.warning("Failed to process image. Proceeding without image.")}const b=c.keywords.toLowerCase().split(",").map(C=>C.trim()).filter(C=>C.length>0),x=localStorage.getItem("userName")||"Unknown",w={productCode:c.productCode,name:c.name,category:c.category,subcategory:c.subcategory,keywords:b,barcode:c.barcode||null,imageUrl:v||null,createdAt:Ar(),createdBy:x,modifiedDate:Ar(),modifiedBy:x},S=await jx(pr(ft,Zi),w),A={...w,id:S.id,createdAt:new Date,modifiedDate:new Date,createdBy:x,modifiedBy:x};cs(qt.PRODUCTS),rn(`${soe}_${S.id}`,A,Date.now()),ve.success("Product added successfully."),s==="saveAndNew"?(d({productCode:"",name:"",category:c.category,subcategory:c.subcategory,keywords:"",barcode:""}),i(null),a(null),t("/add-product")):t("/products")}catch(v){console.error("Error adding product:",v),ve.error("Failed to add product. Please try again.")}finally{n(!1),l(null)}}};return u.jsxs("form",{onSubmit:y,className:"space-y-6",children:[u.jsx(roe,{formData:c,handleChange:f}),u.jsx(ioe,{formData:c,handleChange:f,handleSelectChange:h}),u.jsx(aoe,{imagePreview:o,setImagePreview:a,setProductImage:i,uploadType:"base64"}),u.jsx(ooe,{formData:c,handleChange:f}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx(ie,{type:"button",variant:"outline",onClick:()=>t("/products"),children:"Cancel"}),u.jsx(ie,{type:"button",onClick:()=>{l("saveAndNew"),y(new Event("submit")).then(g=>{d({productCode:"",name:"",category:c.category,subcategory:c.subcategory,keywords:"",barcode:""}),t("/add-product")})},disabled:e,variant:"outline",className:"border-primary text-primary hover:bg-primary/10",children:e&&s==="saveAndNew"?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"mr-2",children:"Saving..."}),u.jsx("span",{className:"animate-spin",children:"⌛"})]}):u.jsxs(u.Fragment,{children:[u.jsx(rx,{className:"mr-2 h-4 w-4"}),"Save & New"]})}),u.jsx(ie,{type:"submit",onClick:()=>l("save"),disabled:e,className:"bg-primary hover:bg-primary/80",children:e&&s==="save"?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"mr-2",children:"Saving..."}),u.jsx("span",{className:"animate-spin",children:"⌛"})]}):u.jsxs(u.Fragment,{children:[u.jsx(ix,{className:"mr-2 h-4 w-4"}),"Save Product"]})})]})]})},LO=()=>u.jsxs("div",{className:"container p-6 max-w-4xl mx-auto",children:[u.jsxs("div",{className:"flex items-center mb-6",children:[u.jsx(nx,{className:"mr-2 h-6 w-6 text-primary"}),u.jsx("h1",{className:"text-3xl font-bold",children:"Add New Product"})]}),u.jsxs(ht,{className:"bg-secondary/30 border-theme-light",children:[u.jsx(yt,{className:"bg-gradient-to-r from-secondary to-secondary/50 rounded-t-lg",children:u.jsx(vt,{children:"Product Information"})}),u.jsx(pt,{children:u.jsx(loe,{})})]})]});function coe(t,e=[]){let n=[];function r(o,a){const s=_.createContext(a),l=n.length;n=[...n,a];function c(f){const{scope:h,children:m,...y}=f,g=(h==null?void 0:h[t][l])||s,v=_.useMemo(()=>y,Object.values(y));return u.jsx(g.Provider,{value:v,children:m})}function d(f,h){const m=(h==null?void 0:h[t][l])||s,y=_.useContext(m);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,d]}const i=()=>{const o=n.map(a=>_.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return _.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,uoe(i,...e)]}function uoe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...s,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var s1="rovingFocusGroup.onEntryFocus",doe={bubbles:!1,cancelable:!0},Qx="RovingFocusGroup",[CS,EF,foe]=sV(Qx),[hoe,Yx]=coe(Qx,[foe]),[poe,moe]=hoe(Qx),TF=_.forwardRef((t,e)=>u.jsx(CS.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(CS.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(goe,{...t,ref:e})})}));TF.displayName=Qx;var goe=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,h=_.useRef(null),m=At(e,h),y=Vx(o),[g=null,v]=Ss({prop:a,defaultProp:s,onChange:l}),[b,x]=_.useState(!1),w=Mi(c),S=EF(n),A=_.useRef(!1),[C,T]=_.useState(0);return _.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(s1,w),()=>E.removeEventListener(s1,w)},[w]),u.jsx(poe,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:g,onItemFocus:_.useCallback(E=>v(E),[v]),onItemShiftTab:_.useCallback(()=>x(!0),[]),onFocusableItemAdd:_.useCallback(()=>T(E=>E+1),[]),onFocusableItemRemove:_.useCallback(()=>T(E=>E-1),[]),children:u.jsx(ze.div,{tabIndex:b||C===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Be(t.onMouseDown,()=>{A.current=!0}),onFocus:Be(t.onFocus,E=>{const N=!A.current;if(E.target===E.currentTarget&&N&&!b){const P=new CustomEvent(s1,doe);if(E.currentTarget.dispatchEvent(P),!P.defaultPrevented){const R=S().filter(U=>U.focusable),O=R.find(U=>U.active),j=R.find(U=>U.id===g),V=[O,j,...R].filter(Boolean).map(U=>U.ref.current);CF(V,d)}}A.current=!1}),onBlur:Be(t.onBlur,()=>x(!1))})})}),IF="RovingFocusGroupItem",AF=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...a}=t,s=$o(),l=o||s,c=moe(IF,n),d=c.currentTabStopId===l,f=EF(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=c;return _.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),u.jsx(CS.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:u.jsx(ze.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...a,ref:e,onMouseDown:Be(t.onMouseDown,y=>{r?c.onItemFocus(l):y.preventDefault()}),onFocus:Be(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Be(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){c.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=xoe(y,c.orientation,c.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=f().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const x=b.indexOf(y.currentTarget);b=c.loop?boe(b,x+1):b.slice(x+1)}setTimeout(()=>CF(b))}})})})});AF.displayName=IF;var yoe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function voe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function xoe(t,e,n){const r=voe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return yoe[r]}function CF(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function boe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var PF=TF,kF=AF;function woe(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var yc=t=>{const{present:e,children:n}=t,r=_oe(e),i=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),o=At(r.ref,Soe(i));return typeof n=="function"||r.isPresent?_.cloneElement(i,{ref:o}):null};yc.displayName="Presence";function _oe(t){const[e,n]=_.useState(),r=_.useRef({}),i=_.useRef(t),o=_.useRef("none"),a=t?"mounted":"unmounted",[s,l]=woe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const c=Dg(r.current);o.current=s==="mounted"?c:"none"},[s]),Vn(()=>{const c=r.current,d=i.current;if(d!==t){const h=o.current,m=Dg(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Vn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=m=>{const g=Dg(r.current).includes(m.animationName);if(m.target===e&&g&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=m=>{m.target===e&&(o.current=Dg(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:_.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Dg(t){return(t==null?void 0:t.animationName)||"none"}function Soe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $A="Tabs",[Eoe,rOe]=$s($A,[Yx]),NF=Yx(),[Toe,VA]=Eoe($A),OF=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:s,activationMode:l="automatic",...c}=t,d=Vx(s),[f,h]=Ss({prop:r,onChange:i,defaultProp:o});return u.jsx(Toe,{scope:n,baseId:$o(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:l,children:u.jsx(ze.div,{dir:d,"data-orientation":a,...c,ref:e})})});OF.displayName=$A;var RF="TabsList",jF=_.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=VA(RF,n),a=NF(n);return u.jsx(PF,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:u.jsx(ze.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});jF.displayName=RF;var DF="TabsTrigger",MF=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,a=VA(DF,n),s=NF(n),l=VF(a.baseId,r),c=FF(a.baseId,r),d=r===a.value;return u.jsx(kF,{asChild:!0,...s,focusable:!i,active:d,children:u.jsx(ze.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:Be(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:Be(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:Be(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(r)})})})});MF.displayName=DF;var LF="TabsContent",$F=_.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...a}=t,s=VA(LF,n),l=VF(s.baseId,r),c=FF(s.baseId,r),d=r===s.value,f=_.useRef(d);return _.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(yc,{present:i||d,children:({present:h})=>u.jsx(ze.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});$F.displayName=LF;function VF(t,e){return`${t}-trigger-${e}`}function FF(t,e){return`${t}-content-${e}`}var Ioe=OF,BF=jF,UF=MF,zF=$F;const WF=Ioe,FA=_.forwardRef(({className:t,...e},n)=>u.jsx(BF,{ref:n,className:we("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));FA.displayName=BF.displayName;const gp=_.forwardRef(({className:t,...e},n)=>u.jsx(UF,{ref:n,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));gp.displayName=UF.displayName;const yp=_.forwardRef(({className:t,...e},n)=>u.jsx(zF,{ref:n,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));yp.displayName=zF.displayName;var BA="Dialog",[HF,iOe]=$s(BA),[Aoe,Vi]=HF(BA),qF=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,s=_.useRef(null),l=_.useRef(null),[c=!1,d]=Ss({prop:r,defaultProp:i,onChange:o});return u.jsx(Aoe,{scope:e,triggerRef:s,contentRef:l,contentId:$o(),titleId:$o(),descriptionId:$o(),open:c,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};qF.displayName=BA;var KF="DialogTrigger",GF=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vi(KF,n),o=At(e,i.triggerRef);return u.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":WA(i.open),...r,ref:o,onClick:Be(t.onClick,i.onOpenToggle)})});GF.displayName=KF;var UA="DialogPortal",[Coe,XF]=HF(UA,{forceMount:void 0}),QF=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=Vi(UA,e);return u.jsx(Coe,{scope:e,forceMount:n,children:_.Children.map(r,a=>u.jsx(yc,{present:n||o.open,children:u.jsx(TA,{asChild:!0,container:i,children:a})}))})};QF.displayName=UA;var Lv="DialogOverlay",YF=_.forwardRef((t,e)=>{const n=XF(Lv,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Vi(Lv,t.__scopeDialog);return o.modal?u.jsx(yc,{present:r||o.open,children:u.jsx(Poe,{...i,ref:e})}):null});YF.displayName=Lv;var Poe=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vi(Lv,n);return u.jsx(CA,{as:ql,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(ze.div,{"data-state":WA(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),sc="DialogContent",JF=_.forwardRef((t,e)=>{const n=XF(sc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Vi(sc,t.__scopeDialog);return u.jsx(yc,{present:r||o.open,children:o.modal?u.jsx(koe,{...i,ref:e}):u.jsx(Noe,{...i,ref:e})})});JF.displayName=sc;var koe=_.forwardRef((t,e)=>{const n=Vi(sc,t.__scopeDialog),r=_.useRef(null),i=At(e,n.contentRef,r);return _.useEffect(()=>{const o=r.current;if(o)return DV(o)},[]),u.jsx(ZF,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Be(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Be(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:Be(t.onFocusOutside,o=>o.preventDefault())})}),Noe=_.forwardRef((t,e)=>{const n=Vi(sc,t.__scopeDialog),r=_.useRef(!1),i=_.useRef(!1);return u.jsx(ZF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,s;(a=t.onCloseAutoFocus)==null||a.call(t,o),o.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),ZF=_.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=t,s=Vi(sc,n),l=_.useRef(null),c=At(e,l);return uV(),u.jsxs(u.Fragment,{children:[u.jsx(mA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:u.jsx(Fx,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":WA(s.open),...a,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(Ooe,{titleId:s.titleId}),u.jsx(joe,{contentRef:l,descriptionId:s.descriptionId})]})]})}),zA="DialogTitle",e9=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vi(zA,n);return u.jsx(ze.h2,{id:i.titleId,...r,ref:e})});e9.displayName=zA;var t9="DialogDescription",n9=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vi(t9,n);return u.jsx(ze.p,{id:i.descriptionId,...r,ref:e})});n9.displayName=t9;var r9="DialogClose",i9=_.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Vi(r9,n);return u.jsx(ze.button,{type:"button",...r,ref:e,onClick:Be(t.onClick,()=>i.onOpenChange(!1))})});i9.displayName=r9;function WA(t){return t?"open":"closed"}var o9="DialogTitleWarning",[oOe,a9]=Dte(o9,{contentName:sc,titleName:zA,docsSlug:"dialog"}),Ooe=({titleId:t})=>{const e=a9(o9),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Roe="DialogDescriptionWarning",joe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a9(Roe).contentName}}.`;return _.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Doe=qF,Moe=GF,Loe=QF,s9=YF,l9=JF,c9=e9,u9=n9,d9=i9;const Om=Doe,f9=Moe,$oe=Loe,Voe=d9,h9=_.forwardRef(({className:t,...e},n)=>u.jsx(s9,{ref:n,className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));h9.displayName=s9.displayName;const Xd=_.forwardRef(({className:t,children:e,...n},r)=>u.jsxs($oe,{children:[u.jsx(h9,{}),u.jsxs(l9,{ref:r,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(d9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(ax,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xd.displayName=l9.displayName;const Qd=({className:t,...e})=>u.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Qd.displayName="DialogHeader";const Yd=({className:t,...e})=>u.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Yd.displayName="DialogFooter";const Jd=_.forwardRef(({className:t,...e},n)=>u.jsx(c9,{ref:n,className:we("text-lg font-semibold leading-none tracking-tight",t),...e}));Jd.displayName=c9.displayName;const p9=_.forwardRef(({className:t,...e},n)=>u.jsx(u9,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));p9.displayName=u9.displayName;const Foe=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(""),[i,o]=_.useState(!1),[a,s]=_.useState({name:"",phone:"",address:"",email:""}),[l,c]=_.useState(!1),d=(m,y)=>{s(g=>({...g,[m]:y}))},f=async m=>{if(m.preventDefault(),!a.name||!a.phone){ve.error("Name and phone are required fields.");return}o(!0);try{const y=localStorage.getItem("userName")||"Unknown",g={...a,registrationDate:new Date,createdAt:Ar(),createdBy:y,modifiedDate:Ar(),modifiedBy:y},b={id:(await jx(pr(ft,ll),g)).id,...g,registrationDate:new Date,createdAt:new Date,modifiedDate:new Date};e([...t,b]),ve.success("Customer registered successfully."),s({name:"",phone:"",address:"",email:""}),c(!1)}catch(y){console.error("Error adding customer:",y),ve.error("Failed to register customer. Please try again.")}finally{o(!1)}},h=t.filter(m=>m.name.toLowerCase().includes(n.toLowerCase())||m.phone.includes(n)||m.email&&m.email.toLowerCase().includes(n.toLowerCase()));return u.jsxs("div",{className:"p-6 space-y-6 w-full animate-in",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsx("h1",{className:"text-3xl font-semibold text-green-800 dark:text-green-300",children:"Customers"}),u.jsxs(ie,{onClick:()=>c(!0),className:"bg-green-600 hover:bg-green-700",children:[u.jsx(rx,{className:"mr-2 h-4 w-4"}),"Add Customer"]})]}),u.jsxs(WF,{defaultValue:"all-customers",className:"space-y-4",children:[u.jsxs(FA,{className:"grid w-full max-w-md grid-cols-2",children:[u.jsx(gp,{value:"all-customers",children:"All Customers"}),u.jsx(gp,{value:"recent",children:"Recent"})]}),u.jsx(yp,{value:"all-customers",className:"space-y-4",children:u.jsxs(ht,{className:"shadow-md",children:[u.jsx(yt,{className:"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-t-lg pb-2",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[u.jsx(vt,{className:"text-green-800 dark:text-green-300",children:"Customer Management"}),u.jsxs("div",{className:"relative max-w-xs",children:[u.jsx(Gh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 h-4 w-4"}),u.jsx($e,{placeholder:"Search customers...",value:n,onChange:m=>r(m.target.value),className:"pl-10"})]})]})}),u.jsx(pt,{className:"p-4",children:u.jsx("div",{className:"rounded-md border overflow-hidden",children:u.jsxs(ea,{children:[u.jsx(ta,{className:"bg-green-50 dark:bg-green-900/10",children:u.jsxs(Ht,{children:[u.jsx(De,{children:"Name"}),u.jsx(De,{children:"Phone"}),u.jsx(De,{children:"Email"}),u.jsx(De,{children:"Registration Date"}),u.jsx(De,{className:"text-right",children:"Actions"})]})}),u.jsx(na,{children:h.length===0?u.jsx(Ht,{children:u.jsx(Ne,{colSpan:5,className:"text-center py-8",children:"No customers found"})}):h.map(m=>u.jsxs(Ht,{className:"hover:bg-green-50/50 dark:hover:bg-green-900/10",children:[u.jsx(Ne,{className:"font-medium",children:m.name}),u.jsx(Ne,{children:m.phone}),u.jsx(Ne,{children:m.email||"-"}),u.jsx(Ne,{children:m.registrationDate.toLocaleDateString()}),u.jsx(Ne,{className:"text-right",children:u.jsx(ie,{variant:"ghost",size:"sm",children:"View"})})]},m.id))})]})})})]})}),u.jsx(yp,{value:"recent",children:u.jsxs(ht,{children:[u.jsx(yt,{children:u.jsx(vt,{children:"Recent Customers"})}),u.jsx(pt,{children:u.jsx("p",{children:"This tab will display recently added customers."})})]})})]}),u.jsx(Om,{open:l,onOpenChange:c,children:u.jsxs(Xd,{className:"sm:max-w-md",children:[u.jsx(Qd,{children:u.jsxs(Jd,{className:"flex items-center gap-2",children:[u.jsx(gu,{className:"h-5 w-5"}),"Register New Customer"]})}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"name",children:u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(gu,{className:"h-4 w-4"}),"Customer Name*"]})}),u.jsx($e,{id:"name",value:a.name,onChange:m=>d("name",m.target.value),placeholder:"Enter customer name",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"phone",children:u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(jK,{className:"h-4 w-4"}),"Phone Number*"]})}),u.jsx($e,{id:"phone",value:a.phone,onChange:m=>d("phone",m.target.value),placeholder:"Enter phone number",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"email",children:u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(ZT,{className:"h-4 w-4"}),"Email Address"]})}),u.jsx($e,{id:"email",type:"email",value:a.email,onChange:m=>d("email",m.target.value),placeholder:"Enter email address (optional)"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"address",children:u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(AK,{className:"h-4 w-4"}),"Address"]})}),u.jsx(Xx,{id:"address",value:a.address,onChange:m=>d("address",m.target.value),placeholder:"Enter customer address (optional)",className:"min-h-[80px]"})]}),u.jsxs(Yd,{className:"mt-4",children:[u.jsx(ie,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),u.jsx(ie,{type:"submit",disabled:i,className:"bg-green-600 hover:bg-green-700",children:i?"Registering...":"Register Customer"})]})]})]})})]})},$O=[{id:"ORD-001",customer:"John Doe",total:89.98,status:"completed",date:"2024-02-20"},{id:"ORD-002",customer:"Jane Smith",total:159.97,status:"processing",date:"2024-02-20"},{id:"ORD-003",customer:"Bob Wilson",total:29.99,status:"completed",date:"2024-02-19"},{id:"ORD-004",customer:"Alice Brown",total:249.95,status:"pending",date:"2024-02-19"},{id:"ORD-005",customer:"Charlie Davis",total:74.98,status:"completed",date:"2024-02-18"}],Boe=()=>u.jsxs("div",{className:"p-6 space-y-6 w-full",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h1",{className:"text-3xl font-semibold",children:"Orders"}),u.jsxs(_r,{variant:"secondary",className:"px-4 py-1",children:[u.jsx(k4,{className:"mr-2 h-4 w-4"}),"Total Orders: ",$O.length]})]}),u.jsxs(ht,{children:[u.jsx(yt,{children:u.jsx(vt,{children:"Recent Orders"})}),u.jsx(pt,{children:u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsxs(Ht,{children:[u.jsx(De,{children:"Order ID"}),u.jsx(De,{children:"Customer"}),u.jsx(De,{children:"Date"}),u.jsx(De,{children:"Total"}),u.jsx(De,{children:"Status"})]})}),u.jsx(na,{children:$O.map(t=>u.jsxs(Ht,{children:[u.jsx(Ne,{children:t.id}),u.jsx(Ne,{children:t.customer}),u.jsx(Ne,{children:t.date}),u.jsxs(Ne,{children:["$",t.total.toFixed(2)]}),u.jsx(Ne,{children:u.jsx(_r,{variant:t.status==="completed"?"default":t.status==="processing"?"secondary":"outline",children:t.status})})]},t.id))})]})})]})]});var HA="Radio",[Uoe,m9]=$s(HA),[zoe,Woe]=Uoe(HA),g9=_.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:o,disabled:a,value:s="on",onCheck:l,form:c,...d}=t,[f,h]=_.useState(null),m=At(e,v=>h(v)),y=_.useRef(!1),g=f?c||!!f.closest("form"):!0;return u.jsxs(zoe,{scope:n,checked:i,disabled:a,children:[u.jsx(ze.button,{type:"button",role:"radio","aria-checked":i,"data-state":x9(i),"data-disabled":a?"":void 0,disabled:a,value:s,...d,ref:m,onClick:Be(t.onClick,v=>{i||l==null||l(),g&&(y.current=v.isPropagationStopped(),y.current||v.stopPropagation())})}),g&&u.jsx(Hoe,{control:f,bubbles:!y.current,name:r,value:s,checked:i,required:o,disabled:a,form:c,style:{transform:"translateX(-100%)"}})]})});g9.displayName=HA;var y9="RadioIndicator",v9=_.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,o=Woe(y9,n);return u.jsx(yc,{present:r||o.checked,children:u.jsx(ze.span,{"data-state":x9(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e})})});v9.displayName=y9;var Hoe=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,o=_.useRef(null),a=IA(n),s=_A(e);return _.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(a!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[a,n,r]),u.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...t.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function x9(t){return t?"checked":"unchecked"}var qoe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qA="RadioGroup",[Koe,aOe]=$s(qA,[Yx,m9]),b9=Yx(),w9=m9(),[Goe,Xoe]=Koe(qA),_9=_.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:o,required:a=!1,disabled:s=!1,orientation:l,dir:c,loop:d=!0,onValueChange:f,...h}=t,m=b9(n),y=Vx(c),[g,v]=Ss({prop:o,defaultProp:i,onChange:f});return u.jsx(Goe,{scope:n,name:r,required:a,disabled:s,value:g,onValueChange:v,children:u.jsx(PF,{asChild:!0,...m,orientation:l,dir:y,loop:d,children:u.jsx(ze.div,{role:"radiogroup","aria-required":a,"aria-orientation":l,"data-disabled":s?"":void 0,dir:y,...h,ref:e})})})});_9.displayName=qA;var S9="RadioGroupItem",E9=_.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,o=Xoe(S9,n),a=o.disabled||r,s=b9(n),l=w9(n),c=_.useRef(null),d=At(e,c),f=o.value===i.value,h=_.useRef(!1);return _.useEffect(()=>{const m=g=>{qoe.includes(g.key)&&(h.current=!0)},y=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",y)}},[]),u.jsx(kF,{asChild:!0,...s,focusable:!a,active:f,children:u.jsx(g9,{disabled:a,required:o.required,checked:f,...l,...i,name:o.name,ref:d,onCheck:()=>o.onValueChange(i.value),onKeyDown:Be(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:Be(i.onFocus,()=>{var m;h.current&&((m=c.current)==null||m.click())})})})});E9.displayName=S9;var Qoe="RadioGroupIndicator",T9=_.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=w9(n);return u.jsx(v9,{...i,...r,ref:e})});T9.displayName=Qoe;var I9=_9,A9=E9,Yoe=T9;const C9=_.forwardRef(({className:t,...e},n)=>u.jsx(I9,{className:we("grid gap-2",t),...e,ref:n}));C9.displayName=I9.displayName;const PS=_.forwardRef(({className:t,...e},n)=>u.jsx(A9,{ref:n,className:we("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:u.jsx(Yoe,{className:"flex items-center justify-center",children:u.jsx(yK,{className:"h-2.5 w-2.5 fill-current text-current"})})}));PS.displayName=A9.displayName;class Joe{async fetchDocuments(e){try{if(!rc(e.collectionKey)&&Am(e.cacheKey)){const i=wr(e.cacheKey);if(i.length>0)return console.log(`Using cached data for collection: ${e.collectionKey}`),i}const r=await X3(e.collection);return rn(e.cacheKey,r),Tm(e.collectionKey),r}catch(n){return console.error(`Error fetching documents for collection: ${e.collection}`,n),[]}}async findById(e,n){try{const{lastFetchTime:r,lastUpdateTime:i}=Im(e.collectionKey),o=wr(e.cacheKey)||[],a=o.find(l=>l.id===n);if(a&&r>i)return console.log(`Using cached document for ${e.collection} with ID: ${n}`),a;console.log(`Fetching fresh document for ${e.collection} with ID: ${n}`);const s=await fA(e.collection,n);return s&&rn(e.cacheKey,[...o.filter(l=>l.id!==n),s]),s}catch(r){return console.error(`Error fetching document by ID from ${e.collection}:`,r),null}}async saveDocument(e){try{const n=await kte(e.collection,e.document);cs(e.collectionKey);const r=wr(e.cacheKey)||[];return rn(e.cacheKey,[n,...r]),n}catch(n){throw console.error(`Error saving document in ${e.collectionKey}:`,n),n}}}const Is=new Joe;class Zoe{constructor(){Ac(this,"collectionData",{collection:ll,collectionKey:qt.CUSTOMERS,cacheKey:lo.CUSTOMERS_CACHE_KEY,document:null})}async getCustomers(){try{return await X3(ll)}catch(e){console.error("Error getting customers:",e)}}async searchCustomers(e){try{const n=[{field:"name",operator:">=",value:e},{field:"name",operator:"<=",value:e+""}],r=[{field:"phone",operator:">=",value:e},{field:"phone",operator:"<=",value:e+""}],i=[{field:"email",operator:">=",value:e},{field:"email",operator:"<=",value:e+""}],[o,a,s]=await Promise.all([Qw(ll,n),Qw(ll,r),Qw(ll,i)]),l=[...o,...a,...s];return Array.from(new Map(l.map(d=>[d.id,d])).values()).slice(0,10)}catch(n){console.error("Error searching customers:",n)}}async createCustomer(e){try{const n=Vd(),r=new Date,i={id:n,name:e.name,email:e.email,phone:e.phone,type:e.type,createdAt:r,modifiedDate:r,createdBy:"user",modifiedBy:"",registrationDate:r};return this.collectionData.document=i,await Is.saveDocument(this.collectionData)||i}catch(n){throw console.error("Error creating customer:",n),n}}async getCustomerById(e){try{return await fA(ll,e)}catch(n){console.error("Error getting customer by ID:",n)}}}const kS=new Zoe,eae=({onCustomerAdded:t})=>{const[e,n]=_.useState(!1),[r,i]=_.useState(!1),[o,a]=_.useState({name:"",email:"",phone:"",type:"retail"}),s=d=>{const{name:f,value:h}=d.target;a(m=>({...m,[f]:h}))},l=d=>{a(f=>({...f,type:d}))},c=async d=>{if(d.preventDefault(),!o.name||!o.phone){ve.error("Name and phone are required");return}try{i(!0);const f=await kS.createCustomer(o);ve.success(`${f.name} has been added successfully`),t(f.name),n(!1),a({name:"",email:"",phone:"",type:"retail"})}catch(f){ve.error("Failed to create customer"),console.error(f)}finally{i(!1)}};return u.jsxs(Om,{open:e,onOpenChange:n,children:[u.jsx(f9,{asChild:!0,children:u.jsx(ie,{variant:"ghost",size:"sm",children:"+ New Customer"})}),u.jsxs(Xd,{className:"sm:max-w-[425px]",children:[u.jsxs(Qd,{children:[u.jsx(Jd,{children:"Add New Customer"}),u.jsx(p9,{children:"Create a new customer to add to your invoice"})]}),u.jsxs("form",{onSubmit:c,children:[u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(Te,{htmlFor:"name",className:"text-right",children:"Name"}),u.jsx($e,{id:"name",name:"name",value:o.name,onChange:s,className:"col-span-3",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(Te,{htmlFor:"email",className:"text-right",children:"Email"}),u.jsx($e,{id:"email",name:"email",type:"email",value:o.email,onChange:s,className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(Te,{htmlFor:"phone",className:"text-right",children:"Phone"}),u.jsx($e,{id:"phone",name:"phone",value:o.phone,onChange:s,className:"col-span-3",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(Te,{className:"text-right",children:"Type"}),u.jsxs(C9,{value:o.type,onValueChange:d=>l(d),className:"col-span-3 flex space-x-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(PS,{value:"retail",id:"retail"}),u.jsx(Te,{htmlFor:"retail",children:"Retail"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(PS,{value:"wholesale",id:"wholesale"}),u.jsx(Te,{htmlFor:"wholesale",children:"Wholesale"})]})]})]})]}),u.jsx(Yd,{children:u.jsx(ie,{type:"submit",disabled:r,children:r?"Saving...":"Save Customer"})})]})]})]})};class tae{constructor(){Ac(this,"collectionData",{collection:Pte,collectionKey:qt.INVOICE,cacheKey:lo.INVOICE_CACHE_KEY,document:null})}async createInvoice(e){try{const n=Vd(),r=new Date,i=r.toISOString().slice(0,10).replace(/-/g,""),o=Math.floor(1e3+Math.random()*9e3).toString(),a=`INV-${i}-${o}`,s={id:n,invoiceNumber:a,invoiceDate:r,...e};return this.collectionData.document=s,await Is.saveDocument(this.collectionData)||s}catch(n){throw console.error("Error creating invoice:",n),n}}async getInvoiceById(e){try{return null}catch(n){return console.error("Error getting invoice by ID:",n),null}}async getInvoices(){try{return[]}catch(e){return console.error("Error getting invoices:",e),[]}}}const nae=new tae,rae=()=>{const[t]=_.useState(new Date),[e,n]=_.useState(""),[r,i]=_.useState([]),[o,a]=_.useState(0),[s,l]=_.useState("cash"),[c,d]=_.useState(0),[f,h]=_.useState("pending"),[m,y]=_.useState(""),[g,v]=_.useState(""),[b,x]=_.useState([]),[w,S]=_.useState([]),[A,C]=_.useState(!1),[T,E]=_.useState(!1),[N,P]=_.useState(!1);_.useEffect(()=>{(async()=>{try{const fe=await kS.getCustomers();x(fe)}catch(fe){console.error("Failed to load initial data:",fe),ve.error("Failed to load customer data")}})()},[]),_.useEffect(()=>{const fe=setTimeout(async()=>{if(m.length<2){C(!1);return}try{const Ce=await kS.searchCustomers(m);x(Ce),C(!0)}catch(Ce){console.error("Failed to search customers:",Ce)}},300);return()=>clearTimeout(fe)},[m]),_.useEffect(()=>{const fe=setTimeout(async()=>{if(g.length<2){E(!1);return}try{S([]),E(!0)}catch(Ce){console.error("Failed to search products:",Ce)}},300);return()=>clearTimeout(fe)},[g]);const R=_.useMemo(()=>r.reduce((J,fe)=>J+fe.subTotal,0),[r]),O=_.useMemo(()=>r.reduce((J,fe)=>(fe.product,J),0),[r]),j=_.useMemo(()=>R+O+o,[R,O,o]),$=_.useMemo(()=>j-c,[j,c]),V=J=>{const fe={id:J.id,name:J.name},Ce={id:Vd(),product:fe,quantity:1,costPrice:100,sellingPrice:100,discount:0,subTotal:100};i(te=>[...te,Ce]),v(""),E(!1)},U=(J,fe)=>{fe<1||i(Ce=>Ce.map(te=>{if(te.id===J){const Ae=(te.sellingPrice-te.discount)*fe;return{...te,quantity:fe,subTotal:Ae}}return te}))},q=(J,fe)=>{fe<0||i(Ce=>Ce.map(te=>{if(te.id===J){const Ae=(fe-te.discount)*te.quantity;return{...te,sellingPrice:fe,subTotal:Ae}}return te}))},L=(J,fe)=>{fe<0||i(Ce=>Ce.map(te=>{if(te.id===J){if(fe>te.sellingPrice)return ve.warning("Discount cannot be greater than selling price"),te;const Ae=(te.sellingPrice-fe)*te.quantity;return{...te,discount:fe,subTotal:Ae}}return te}))},K=J=>{i(fe=>fe.filter(Ce=>Ce.id!==J))},Q=J=>{n(J.name),C(!1),y("")},ee=J=>{n(J)},ne=async(J=!1)=>{if(!e){ve.warning("Please select a customer for this invoice");return}if(r.length===0){ve.error("Please add at least one product to the invoice");return}if(!J&&s==="cash"&&$!==0&&c<=0){ve.error("Please enter a valid amount paid");return}try{P(!0);const Ce={customerName:e,products:r,subTotal:R,tax:O,shippingFees:o,total:j,paymentType:s,amountPaid:c,balance:$,status:J?"draft":f},te=await nae.createInvoice(Ce);ve.info(J?"Draft invoice has been saved successfully":`Invoice ${te.invoiceNumber} has been created successfully`),n(""),i([]),a(0),l("cash"),d(0),h("pending")}catch(fe){console.error("Failed to create invoice:",fe),ve.error(`Failed to ${J?"save draft":"create invoice"}`)}finally{P(!1)}},oe=J=>J.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return u.jsx(RK,{children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Invoice"}),u.jsx("p",{className:"text-muted-foreground",children:"Create a new invoice for your customers"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ie,{variant:"outline",onClick:()=>ne(!0),disabled:N,className:"gap-1",children:[u.jsx(d2,{size:16}),u.jsx("span",{children:"Save as Draft"})]}),u.jsxs(ie,{variant:"outline",className:"gap-1",children:[u.jsx(DK,{size:16}),u.jsx("span",{className:"hidden md:inline",children:"Print Preview"})]}),u.jsxs(ie,{onClick:()=>ne(!1),disabled:N,className:"gap-1",children:[u.jsx(ix,{size:16}),u.jsx("span",{children:"Save Invoice"})]})]})]}),u.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[u.jsx(ht,{className:"md:col-span-3",children:u.jsx(pt,{className:"p-6",children:u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx(Te,{htmlFor:"invoiceDate",children:"Invoice Date"}),u.jsx("div",{id:"invoiceDate",className:"mt-1 p-2 bg-muted rounded text-sm",children:oe(t)})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Te,{htmlFor:"customerSearch",children:"Customer"}),u.jsx("div",{className:"mt-1 flex",children:e?u.jsxs("div",{className:"flex flex-1 items-center justify-between bg-muted p-2 rounded",children:[u.jsx("span",{children:e}),u.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>n(""),className:"h-6 w-6 p-0",children:"×"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Gh,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),u.jsx($e,{id:"customerSearch",placeholder:"Search customer...",className:"pl-8 pr-4",value:m,onChange:J=>y(J.target.value),onFocus:()=>{m.length>=2&&C(!0)}}),A&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-popover border rounded-md shadow-md max-h-48 overflow-y-auto",children:b.length>0?b.map(J=>u.jsxs("div",{className:"p-2 hover:bg-accent cursor-pointer",onClick:()=>Q(J),children:[u.jsx("div",{className:"font-medium",children:J.name}),u.jsx("div",{className:"text-xs text-muted-foreground",children:J.phone})]},J.id)):u.jsx("div",{className:"p-2 text-center text-muted-foreground",children:"No customers found"})})]}),u.jsx(eae,{onCustomerAdded:ee})]})})]}),u.jsxs("div",{children:[u.jsx(Te,{htmlFor:"status",children:"Status"}),u.jsxs(PA,{value:f,onValueChange:J=>h(J),children:[u.jsx(kA,{className:"mt-1",children:u.jsx(NA,{placeholder:"Select status"})}),u.jsxs(OA,{children:[u.jsx(au,{value:"pending",children:"Pending"}),u.jsx(au,{value:"paid",children:"Paid"}),u.jsx(au,{value:"overdue",children:"Overdue"}),u.jsx(au,{value:"canceled",children:"Canceled"})]})]})]})]})})}),u.jsxs(ht,{className:"md:col-span-2",children:[u.jsx(yt,{className:"pb-3",children:u.jsx(vt,{className:"text-xl",children:"Invoice Items"})}),u.jsxs(pt,{children:[u.jsxs("div",{className:"relative mb-4",children:[u.jsx(Gh,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),u.jsx($e,{placeholder:"Search product by name, ID or barcode...",className:"pl-8 pr-4",value:g,onChange:J=>v(J.target.value),onFocus:()=>{g.length>=2&&E(!0)}}),T&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-popover border rounded-md shadow-md max-h-48 overflow-y-auto",children:w.length>0?w.map(J=>u.jsxs("div",{className:"p-2 hover:bg-accent cursor-pointer",onClick:()=>V(J),children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"font-medium",children:J.name}),u.jsxs(_r,{variant:"outline",children:["$",J.productCode]})]}),u.jsxs("div",{className:"text-xs text-muted-foreground flex justify-between",children:[u.jsxs("span",{children:["SKU: ",J.productCode]}),u.jsxs("span",{children:["Stock: ",J.barcode]})]})]},J.id)):u.jsx("div",{className:"p-2 text-center text-muted-foreground",children:"No products found"})})]}),u.jsx("div",{className:"border rounded-md",children:u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsxs(Ht,{children:[u.jsx(De,{children:"Product"}),u.jsx(De,{className:"w-[100px] text-right",children:"Qty"}),u.jsx(De,{className:"w-[120px] text-right",children:"Price"}),u.jsx(De,{className:"w-[100px] text-right",children:"Disc"}),u.jsx(De,{className:"w-[120px] text-right",children:"Subtotal"}),u.jsx(De,{className:"w-[50px]"})]})}),u.jsx(na,{children:r.length>0?r.map(J=>u.jsxs(Ht,{children:[u.jsx(Ne,{children:J.product.name}),u.jsx(Ne,{className:"text-right",children:u.jsx($e,{type:"number",value:J.quantity,onChange:fe=>U(J.id,parseInt(fe.target.value)),min:1,className:"w-16 p-1 h-8 text-right"})}),u.jsx(Ne,{className:"text-right",children:u.jsx($e,{type:"number",value:J.sellingPrice,onChange:fe=>q(J.id,parseFloat(fe.target.value)),min:0,step:.01,className:"w-20 p-1 h-8 text-right"})}),u.jsx(Ne,{className:"text-right",children:u.jsx($e,{type:"number",value:J.discount,onChange:fe=>L(J.id,parseFloat(fe.target.value)),min:0,step:.01,className:"w-16 p-1 h-8 text-right"})}),u.jsxs(Ne,{className:"text-right font-medium",children:["$",J.subTotal.toFixed(2)]}),u.jsx(Ne,{children:u.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>K(J.id),className:"h-8 w-8 p-0 text-destructive",children:u.jsx(ox,{size:16})})})]},J.id)):u.jsx(Ht,{children:u.jsx(Ne,{colSpan:6,className:"text-center py-4 text-muted-foreground",children:"No items added. Search for products above to add them to the invoice."})})})]})})]})]}),u.jsxs(ht,{children:[u.jsx(yt,{className:"pb-3",children:u.jsx(vt,{className:"text-xl",children:"Invoice Summary"})}),u.jsxs(pt,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),u.jsxs("span",{children:["$",R.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Tax:"}),u.jsxs("span",{children:["$",O.toFixed(2)]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Shipping:"}),u.jsx($e,{type:"number",value:o,onChange:J=>a(parseFloat(J.target.value)||0),min:0,step:.01,className:"w-24 h-8 text-right"})]})]}),u.jsx(cd,{}),u.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[u.jsx("span",{children:"Total:"}),u.jsxs("span",{children:["$",j.toFixed(2)]})]}),u.jsx(cd,{}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(Te,{htmlFor:"paymentType",children:"Payment Method"}),u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs(ie,{type:"button",variant:s==="cash"?"default":"outline",className:"flex flex-col items-center justify-center h-20 p-2",onClick:()=>l("cash"),children:[u.jsx(N4,{className:"h-6 w-6 mb-1"}),u.jsx("span",{className:"text-xs font-medium",children:"Cash"})]}),u.jsxs(ie,{type:"button",variant:s==="card"?"default":"outline",className:"flex flex-col items-center justify-center h-20 p-2",onClick:()=>l("card"),children:[u.jsx(vK,{className:"h-6 w-6 mb-1"}),u.jsx("span",{className:"text-xs font-medium",children:"Card"})]}),u.jsxs(ie,{type:"button",variant:s==="cheque"?"default":"outline",className:"flex flex-col items-center justify-center h-20 p-2",onClick:()=>l("cheque"),children:[u.jsx(ov,{className:"h-6 w-6 mb-1"}),u.jsx("span",{className:"text-xs font-medium",children:"Cheque"})]})]}),s==="cash"&&u.jsxs("div",{className:"space-y-3 pt-2",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsx(Te,{htmlFor:"amountPaid",children:"Amount Paid"}),u.jsx($e,{id:"amountPaid",type:"number",value:c,onChange:J=>d(parseFloat(J.target.value)||0),min:0,step:.01})]}),u.jsxs("div",{className:"flex justify-between font-medium",children:[u.jsx("span",{children:"Balance:"}),u.jsxs("span",{className:$<0?"text-green-600":$>0?"text-red-600":"",children:["$",$.toFixed(2)]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[u.jsx(ie,{variant:"outline",size:"sm",onClick:()=>d(j),className:"text-xs h-8",children:"Exact"}),u.jsx(ie,{variant:"outline",size:"sm",onClick:()=>d(Math.ceil(j/10)*10),className:"text-xs h-8",children:"Round ↑"}),u.jsx(ie,{variant:"outline",size:"sm",onClick:()=>d(Math.ceil(j/100)*100),className:"text-xs h-8",children:"Next 100"})]})]})]})]}),u.jsxs(aV,{className:"flex flex-col space-y-2",children:[u.jsxs(ie,{className:"w-full gap-1",onClick:()=>ne(!1),disabled:N,children:[u.jsx(ov,{size:16}),u.jsx("span",{children:N?"Creating...":"Create Invoice"})]}),u.jsxs(ie,{variant:"outline",className:"w-full gap-1",onClick:()=>ne(!0),disabled:N,children:[u.jsx(d2,{size:16}),u.jsx("span",{children:N?"Saving...":"Save as Draft"})]})]})]})]})]})})};var iae=Array.isArray,Cr=iae,oae=typeof gl=="object"&&gl&&gl.Object===Object&&gl,P9=oae,aae=P9,sae=typeof self=="object"&&self&&self.Object===Object&&self,lae=aae||sae||Function("return this")(),vo=lae,cae=vo,uae=cae.Symbol,Rm=uae,VO=Rm,k9=Object.prototype,dae=k9.hasOwnProperty,fae=k9.toString,Vf=VO?VO.toStringTag:void 0;function hae(t){var e=dae.call(t,Vf),n=t[Vf];try{t[Vf]=void 0;var r=!0}catch{}var i=fae.call(t);return r&&(e?t[Vf]=n:delete t[Vf]),i}var pae=hae,mae=Object.prototype,gae=mae.toString;function yae(t){return gae.call(t)}var vae=yae,FO=Rm,xae=pae,bae=vae,wae="[object Null]",_ae="[object Undefined]",BO=FO?FO.toStringTag:void 0;function Sae(t){return t==null?t===void 0?_ae:wae:BO&&BO in Object(t)?xae(t):bae(t)}var ua=Sae;function Eae(t){return t!=null&&typeof t=="object"}var da=Eae,Tae=ua,Iae=da,Aae="[object Symbol]";function Cae(t){return typeof t=="symbol"||Iae(t)&&Tae(t)==Aae}var Zd=Cae,Pae=Cr,kae=Zd,Nae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oae=/^\w*$/;function Rae(t,e){if(Pae(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||kae(t)?!0:Oae.test(t)||!Nae.test(t)||e!=null&&t in Object(e)}var KA=Rae;function jae(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Bs=jae;const ef=St(Bs);var Dae=ua,Mae=Bs,Lae="[object AsyncFunction]",$ae="[object Function]",Vae="[object GeneratorFunction]",Fae="[object Proxy]";function Bae(t){if(!Mae(t))return!1;var e=Dae(t);return e==$ae||e==Vae||e==Lae||e==Fae}var GA=Bae;const et=St(GA);var Uae=vo,zae=Uae["__core-js_shared__"],Wae=zae,l1=Wae,UO=function(){var t=/[^.]+$/.exec(l1&&l1.keys&&l1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Hae(t){return!!UO&&UO in t}var qae=Hae,Kae=Function.prototype,Gae=Kae.toString;function Xae(t){if(t!=null){try{return Gae.call(t)}catch{}try{return t+""}catch{}}return""}var N9=Xae,Qae=GA,Yae=qae,Jae=Bs,Zae=N9,ese=/[\\^$.*+?()[\]{}|]/g,tse=/^\[object .+?Constructor\]$/,nse=Function.prototype,rse=Object.prototype,ise=nse.toString,ose=rse.hasOwnProperty,ase=RegExp("^"+ise.call(ose).replace(ese,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sse(t){if(!Jae(t)||Yae(t))return!1;var e=Qae(t)?ase:tse;return e.test(Zae(t))}var lse=sse;function cse(t,e){return t==null?void 0:t[e]}var use=cse,dse=lse,fse=use;function hse(t,e){var n=fse(t,e);return dse(n)?n:void 0}var vc=hse,pse=vc,mse=pse(Object,"create"),Jx=mse,zO=Jx;function gse(){this.__data__=zO?zO(null):{},this.size=0}var yse=gse;function vse(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var xse=vse,bse=Jx,wse="__lodash_hash_undefined__",_se=Object.prototype,Sse=_se.hasOwnProperty;function Ese(t){var e=this.__data__;if(bse){var n=e[t];return n===wse?void 0:n}return Sse.call(e,t)?e[t]:void 0}var Tse=Ese,Ise=Jx,Ase=Object.prototype,Cse=Ase.hasOwnProperty;function Pse(t){var e=this.__data__;return Ise?e[t]!==void 0:Cse.call(e,t)}var kse=Pse,Nse=Jx,Ose="__lodash_hash_undefined__";function Rse(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Nse&&e===void 0?Ose:e,this}var jse=Rse,Dse=yse,Mse=xse,Lse=Tse,$se=kse,Vse=jse;function tf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tf.prototype.clear=Dse;tf.prototype.delete=Mse;tf.prototype.get=Lse;tf.prototype.has=$se;tf.prototype.set=Vse;var Fse=tf;function Bse(){this.__data__=[],this.size=0}var Use=Bse;function zse(t,e){return t===e||t!==t&&e!==e}var XA=zse,Wse=XA;function Hse(t,e){for(var n=t.length;n--;)if(Wse(t[n][0],e))return n;return-1}var Zx=Hse,qse=Zx,Kse=Array.prototype,Gse=Kse.splice;function Xse(t){var e=this.__data__,n=qse(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Gse.call(e,n,1),--this.size,!0}var Qse=Xse,Yse=Zx;function Jse(t){var e=this.__data__,n=Yse(e,t);return n<0?void 0:e[n][1]}var Zse=Jse,ele=Zx;function tle(t){return ele(this.__data__,t)>-1}var nle=tle,rle=Zx;function ile(t,e){var n=this.__data__,r=rle(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var ole=ile,ale=Use,sle=Qse,lle=Zse,cle=nle,ule=ole;function nf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nf.prototype.clear=ale;nf.prototype.delete=sle;nf.prototype.get=lle;nf.prototype.has=cle;nf.prototype.set=ule;var eb=nf,dle=vc,fle=vo,hle=dle(fle,"Map"),QA=hle,WO=Fse,ple=eb,mle=QA;function gle(){this.size=0,this.__data__={hash:new WO,map:new(mle||ple),string:new WO}}var yle=gle;function vle(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var xle=vle,ble=xle;function wle(t,e){var n=t.__data__;return ble(e)?n[typeof e=="string"?"string":"hash"]:n.map}var tb=wle,_le=tb;function Sle(t){var e=_le(this,t).delete(t);return this.size-=e?1:0,e}var Ele=Sle,Tle=tb;function Ile(t){return Tle(this,t).get(t)}var Ale=Ile,Cle=tb;function Ple(t){return Cle(this,t).has(t)}var kle=Ple,Nle=tb;function Ole(t,e){var n=Nle(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Rle=Ole,jle=yle,Dle=Ele,Mle=Ale,Lle=kle,$le=Rle;function rf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}rf.prototype.clear=jle;rf.prototype.delete=Dle;rf.prototype.get=Mle;rf.prototype.has=Lle;rf.prototype.set=$le;var YA=rf,O9=YA,Vle="Expected a function";function JA(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Vle);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(JA.Cache||O9),n}JA.Cache=O9;var R9=JA;const Fle=St(R9);var Ble=R9,Ule=500;function zle(t){var e=Ble(t,function(r){return n.size===Ule&&n.clear(),r}),n=e.cache;return e}var Wle=zle,Hle=Wle,qle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kle=/\\(\\)?/g,Gle=Hle(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(qle,function(n,r,i,o){e.push(i?o.replace(Kle,"$1"):r||n)}),e}),Xle=Gle;function Qle(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var ZA=Qle,HO=Rm,Yle=ZA,Jle=Cr,Zle=Zd,ece=1/0,qO=HO?HO.prototype:void 0,KO=qO?qO.toString:void 0;function j9(t){if(typeof t=="string")return t;if(Jle(t))return Yle(t,j9)+"";if(Zle(t))return KO?KO.call(t):"";var e=t+"";return e=="0"&&1/t==-ece?"-0":e}var tce=j9,nce=tce;function rce(t){return t==null?"":nce(t)}var D9=rce,ice=Cr,oce=KA,ace=Xle,sce=D9;function lce(t,e){return ice(t)?t:oce(t,e)?[t]:ace(sce(t))}var M9=lce,cce=Zd,uce=1/0;function dce(t){if(typeof t=="string"||cce(t))return t;var e=t+"";return e=="0"&&1/t==-uce?"-0":e}var nb=dce,fce=M9,hce=nb;function pce(t,e){e=fce(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[hce(e[n++])];return n&&n==r?t:void 0}var eC=pce,mce=eC;function gce(t,e,n){var r=t==null?void 0:mce(t,e);return r===void 0?n:r}var L9=gce;const ai=St(L9);function yce(t){return t==null}var vce=yce;const mt=St(vce);var xce=ua,bce=Cr,wce=da,_ce="[object String]";function Sce(t){return typeof t=="string"||!bce(t)&&wce(t)&&xce(t)==_ce}var Ece=Sce;const jm=St(Ece);var $9={exports:{}},wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tC=Symbol.for("react.element"),nC=Symbol.for("react.portal"),rb=Symbol.for("react.fragment"),ib=Symbol.for("react.strict_mode"),ob=Symbol.for("react.profiler"),ab=Symbol.for("react.provider"),sb=Symbol.for("react.context"),Tce=Symbol.for("react.server_context"),lb=Symbol.for("react.forward_ref"),cb=Symbol.for("react.suspense"),ub=Symbol.for("react.suspense_list"),db=Symbol.for("react.memo"),fb=Symbol.for("react.lazy"),Ice=Symbol.for("react.offscreen"),V9;V9=Symbol.for("react.module.reference");function di(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case tC:switch(t=t.type,t){case rb:case ob:case ib:case cb:case ub:return t;default:switch(t=t&&t.$$typeof,t){case Tce:case sb:case lb:case fb:case db:case ab:return t;default:return e}}case nC:return e}}}wt.ContextConsumer=sb;wt.ContextProvider=ab;wt.Element=tC;wt.ForwardRef=lb;wt.Fragment=rb;wt.Lazy=fb;wt.Memo=db;wt.Portal=nC;wt.Profiler=ob;wt.StrictMode=ib;wt.Suspense=cb;wt.SuspenseList=ub;wt.isAsyncMode=function(){return!1};wt.isConcurrentMode=function(){return!1};wt.isContextConsumer=function(t){return di(t)===sb};wt.isContextProvider=function(t){return di(t)===ab};wt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===tC};wt.isForwardRef=function(t){return di(t)===lb};wt.isFragment=function(t){return di(t)===rb};wt.isLazy=function(t){return di(t)===fb};wt.isMemo=function(t){return di(t)===db};wt.isPortal=function(t){return di(t)===nC};wt.isProfiler=function(t){return di(t)===ob};wt.isStrictMode=function(t){return di(t)===ib};wt.isSuspense=function(t){return di(t)===cb};wt.isSuspenseList=function(t){return di(t)===ub};wt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===rb||t===ob||t===ib||t===cb||t===ub||t===Ice||typeof t=="object"&&t!==null&&(t.$$typeof===fb||t.$$typeof===db||t.$$typeof===ab||t.$$typeof===sb||t.$$typeof===lb||t.$$typeof===V9||t.getModuleId!==void 0)};wt.typeOf=di;$9.exports=wt;var F9=$9.exports,Ace=ua,Cce=da,Pce="[object Number]";function kce(t){return typeof t=="number"||Cce(t)&&Ace(t)==Pce}var B9=kce;const Nce=St(B9);var Oce=B9;function Rce(t){return Oce(t)&&t!=+t}var jce=Rce;const Dm=St(jce);var Ci=function(e){return e===0?0:e>0?1:-1},Sl=function(e){return jm(e)&&e.indexOf("%")===e.length-1},me=function(e){return Nce(e)&&!Dm(e)},mn=function(e){return me(e)||jm(e)},Dce=0,hb=function(e){var n=++Dce;return"".concat(e||"").concat(n)},lc=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!me(e)&&!jm(e))return r;var o;if(Sl(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Dm(o)&&(o=r),i&&o>n&&(o=n),o},Ma=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Mce=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},$c=function(e,n){return me(e)&&me(n)?function(r){return e+r*(n-e)}:function(){return n}};function NS(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ai(r,e))===n})}function Su(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function OS(t){"@babel/helpers - typeof";return OS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OS(t)}var Lce=["viewBox","children"],$ce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],GO=["points","pathLength"],c1={svg:Lce,polygon:GO,polyline:GO},rC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$v=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(_.isValidElement(e)&&(r=e.props),!ef(r))return null;var i={};return Object.keys(r).forEach(function(o){rC.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Vce=function(e,n,r){return function(i){return e(n,r,i),null}},Vv=function(e,n,r){if(!ef(e)||OS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];rC.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Vce(a,n,r))}),i},Fce=["children"],Bce=["children"];function XO(t,e){if(t==null)return{};var n=Uce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var QO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Vo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},YO=null,u1=null,iC=function t(e){if(e===YO&&Array.isArray(u1))return u1;var n=[];return _.Children.forEach(e,function(r){mt(r)||(F9.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),u1=n,YO=e,n};function Ri(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Vo(i)}):r=[Vo(e)],iC(t).forEach(function(i){var o=ai(i,"type.displayName")||ai(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function jr(t,e){var n=Ri(t,e);return n&&n[0]}var JO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!me(r)||r<=0||!me(i)||i<=0)},zce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Wce=function(e){return e&&e.type&&jm(e.type)&&zce.indexOf(e.type)>=0},Hce=function(e,n,r,i){var o,a=(o=c1==null?void 0:c1[i])!==null&&o!==void 0?o:[];return!et(e)&&(i&&a.includes(n)||$ce.includes(n))||r&&rC.includes(n)},ct=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(_.isValidElement(e)&&(i=e.props),!ef(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;Hce((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},RS=function t(e,n){if(e===n)return!0;var r=_.Children.count(e);if(r!==_.Children.count(n))return!1;if(r===0)return!0;if(r===1)return ZO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!ZO(o,a))return!1}return!0},ZO=function(e,n){if(mt(e)&&mt(n))return!0;if(!mt(e)&&!mt(n)){var r=e.props||{},i=r.children,o=XO(r,Fce),a=n.props||{},s=a.children,l=XO(a,Bce);return i&&s?Su(o,l)&&RS(i,s):!i&&!s?Su(o,l):!1}return!1},eR=function(e,n){var r=[],i={};return iC(e).forEach(function(o,a){if(Wce(o))r.push(o);else if(o){var s=Vo(o.type),l=n[s]||{},c=l.handler,d=l.once;if(c&&(!d||!i[s])){var f=c(o,s,a);r.push(f),i[s]=!0}}}),r},qce=function(e){var n=e&&e.type;return n&&QO[n]?QO[n]:null},Kce=function(e,n){return iC(n).indexOf(e)},Gce=["children","width","height","viewBox","className","style","title","desc"];function jS(){return jS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jS.apply(this,arguments)}function Xce(t,e){if(t==null)return{};var n=Qce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function DS(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,c=Xce(t,Gce),d=i||{width:n,height:r,x:0,y:0},f=st("recharts-surface",o);return B.createElement("svg",jS({},ct(c,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),B.createElement("title",null,s),B.createElement("desc",null,l),e)}var Yce=["children","className"];function MS(){return MS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MS.apply(this,arguments)}function Jce(t,e){if(t==null)return{};var n=Zce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var En=B.forwardRef(function(t,e){var n=t.children,r=t.className,i=Jce(t,Yce),o=st("recharts-layer",r);return B.createElement("g",MS({className:o},ct(i,!0),{ref:e}),n)}),Fo=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function eue(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var tue=eue,nue=tue;function rue(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:nue(t,e,n)}var iue=rue,oue="\\ud800-\\udfff",aue="\\u0300-\\u036f",sue="\\ufe20-\\ufe2f",lue="\\u20d0-\\u20ff",cue=aue+sue+lue,uue="\\ufe0e\\ufe0f",due="\\u200d",fue=RegExp("["+due+oue+cue+uue+"]");function hue(t){return fue.test(t)}var U9=hue;function pue(t){return t.split("")}var mue=pue,z9="\\ud800-\\udfff",gue="\\u0300-\\u036f",yue="\\ufe20-\\ufe2f",vue="\\u20d0-\\u20ff",xue=gue+yue+vue,bue="\\ufe0e\\ufe0f",wue="["+z9+"]",LS="["+xue+"]",$S="\\ud83c[\\udffb-\\udfff]",_ue="(?:"+LS+"|"+$S+")",W9="[^"+z9+"]",H9="(?:\\ud83c[\\udde6-\\uddff]){2}",q9="[\\ud800-\\udbff][\\udc00-\\udfff]",Sue="\\u200d",K9=_ue+"?",G9="["+bue+"]?",Eue="(?:"+Sue+"(?:"+[W9,H9,q9].join("|")+")"+G9+K9+")*",Tue=G9+K9+Eue,Iue="(?:"+[W9+LS+"?",LS,H9,q9,wue].join("|")+")",Aue=RegExp($S+"(?="+$S+")|"+Iue+Tue,"g");function Cue(t){return t.match(Aue)||[]}var Pue=Cue,kue=mue,Nue=U9,Oue=Pue;function Rue(t){return Nue(t)?Oue(t):kue(t)}var jue=Rue,Due=iue,Mue=U9,Lue=jue,$ue=D9;function Vue(t){return function(e){e=$ue(e);var n=Mue(e)?Lue(e):void 0,r=n?n[0]:e.charAt(0),i=n?Due(n,1).join(""):e.slice(1);return r[t]()+i}}var Fue=Vue,Bue=Fue,Uue=Bue("toUpperCase"),zue=Uue;const pb=St(zue);function Ct(t){return function(){return t}}const X9=Math.cos,Fv=Math.sin,Fi=Math.sqrt,Bv=Math.PI,mb=2*Bv,VS=Math.PI,FS=2*VS,cl=1e-6,Wue=FS-cl;function Q9(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Hue(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Q9;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class que{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Q9:Hue(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,c=i-n,d=a-e,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>cl)if(!(Math.abs(f*l-c*d)>cl)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,y=i-s,g=l*l+c*c,v=m*m+y*y,b=Math.sqrt(g),x=Math.sqrt(h),w=o*Math.tan((VS-Math.acos((g+h-v)/(2*b*x)))/2),S=w/x,A=w/b;Math.abs(S-1)>cl&&this._append`L${e+S*d},${n+S*f}`,this._append`A${o},${o},0,0,${+(f*m>d*y)},${this._x1=e+A*l},${this._y1=n+A*c}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=e+s,d=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>cl||Math.abs(this._y1-d)>cl)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%FS+FS),h>Wue?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>cl&&this._append`A${r},${r},0,${+(h>=VS)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function oC(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new que(e)}function aC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Y9(t){this._context=t}Y9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function gb(t){return new Y9(t)}function J9(t){return t[0]}function Z9(t){return t[1]}function e8(t,e){var n=Ct(!0),r=null,i=gb,o=null,a=oC(s);t=typeof t=="function"?t:t===void 0?J9:Ct(t),e=typeof e=="function"?e:e===void 0?Z9:Ct(e);function s(l){var c,d=(l=aC(l)).length,f,h=!1,m;for(r==null&&(o=i(m=a())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,c,l),+e(f,c,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ct(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ct(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ct(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Mg(t,e,n){var r=null,i=Ct(!0),o=null,a=gb,s=null,l=oC(c);t=typeof t=="function"?t:t===void 0?J9:Ct(+t),e=typeof e=="function"?e:Ct(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Z9:Ct(+n);function c(f){var h,m,y,g=(f=aC(f)).length,v,b=!1,x,w=new Array(g),S=new Array(g);for(o==null&&(s=a(x=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===b)if(b=!b)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=m;--y)s.point(w[y],S[y]);s.lineEnd(),s.areaEnd()}b&&(w[h]=+t(v,h,f),S[h]=+e(v,h,f),s.point(r?+r(v,h,f):w[h],n?+n(v,h,f):S[h]))}if(x)return s=null,x+""||null}function d(){return e8().defined(i).curve(a).context(o)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ct(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ct(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ct(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ct(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ct(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ct(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ct(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),c):a},c.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),c):o},c}class t8{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Kue(t){return new t8(t,!0)}function Gue(t){return new t8(t,!1)}const sC={draw(t,e){const n=Fi(e/Bv);t.moveTo(n,0),t.arc(0,0,n,0,mb)}},Xue={draw(t,e){const n=Fi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},n8=Fi(1/3),Que=n8*2,Yue={draw(t,e){const n=Fi(e/Que),r=n*n8;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Jue={draw(t,e){const n=Fi(e),r=-n/2;t.rect(r,r,n,n)}},Zue=.8908130915292852,r8=Fv(Bv/10)/Fv(7*Bv/10),ede=Fv(mb/10)*r8,tde=-X9(mb/10)*r8,nde={draw(t,e){const n=Fi(e*Zue),r=ede*n,i=tde*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=mb*o/5,s=X9(a),l=Fv(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},d1=Fi(3),rde={draw(t,e){const n=-Fi(e/(d1*3));t.moveTo(0,n*2),t.lineTo(-d1*n,-n),t.lineTo(d1*n,-n),t.closePath()}},Gr=-.5,Xr=Fi(3)/2,BS=1/Fi(12),ide=(BS/2+1)*3,ode={draw(t,e){const n=Fi(e/ide),r=n/2,i=n*BS,o=r,a=n*BS+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Gr*r-Xr*i,Xr*r+Gr*i),t.lineTo(Gr*o-Xr*a,Xr*o+Gr*a),t.lineTo(Gr*s-Xr*l,Xr*s+Gr*l),t.lineTo(Gr*r+Xr*i,Gr*i-Xr*r),t.lineTo(Gr*o+Xr*a,Gr*a-Xr*o),t.lineTo(Gr*s+Xr*l,Gr*l-Xr*s),t.closePath()}};function ade(t,e){let n=null,r=oC(i);t=typeof t=="function"?t:Ct(t||sC),e=typeof e=="function"?e:Ct(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ct(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ct(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Uv(){}function zv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function i8(t){this._context=t}i8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sde(t){return new i8(t)}function o8(t){this._context=t}o8.prototype={areaStart:Uv,areaEnd:Uv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lde(t){return new o8(t)}function a8(t){this._context=t}a8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cde(t){return new a8(t)}function s8(t){this._context=t}s8.prototype={areaStart:Uv,areaEnd:Uv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ude(t){return new s8(t)}function tR(t){return t<0?-1:1}function nR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(tR(o)+tR(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function rR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function f1(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Wv(t){this._context=t}Wv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:f1(this,this._t0,rR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,f1(this,rR(this,n=nR(this,t,e)),n);break;default:f1(this,this._t0,n=nR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function l8(t){this._context=new c8(t)}(l8.prototype=Object.create(Wv.prototype)).point=function(t,e){Wv.prototype.point.call(this,e,t)};function c8(t){this._context=t}c8.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function dde(t){return new Wv(t)}function fde(t){return new l8(t)}function u8(t){this._context=t}u8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=iR(t),i=iR(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function iR(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function hde(t){return new u8(t)}function yb(t,e){this._context=t,this._t=e}yb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function pde(t){return new yb(t,.5)}function mde(t){return new yb(t,0)}function gde(t){return new yb(t,1)}function ud(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function US(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function yde(t,e){return t[e]}function vde(t){const e=[];return e.key=t,e}function xde(){var t=Ct([]),e=US,n=ud,r=yde;function i(o){var a=Array.from(t.apply(this,arguments),vde),s,l=a.length,c=-1,d;for(const f of o)for(s=0,++c;s<l;++s)(a[s][c]=[0,+r(f,a[s].key,c,o)]).data=f;for(s=0,d=aC(e(a));s<l;++s)a[d[s]].index=s;return n(a,d),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ct(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ct(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?US:typeof o=="function"?o:Ct(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ud,i):n},i}function bde(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}ud(t,e)}}function wde(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}ud(t,e)}}function _de(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,c=0;s<a;++s){for(var d=t[e[s]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,y=0;y<s;++y){var g=t[e[y]],v=g[r][1]||0,b=g[r-1][1]||0;m+=v-b}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,ud(t,e)}}function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}var Sde=["type","size","sizeType"];function zS(){return zS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zS.apply(this,arguments)}function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){Ede(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ede(t,e,n){return e=Tde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tde(t){var e=Ide(t,"string");return vp(e)=="symbol"?e:e+""}function Ide(t,e){if(vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ade(t,e){if(t==null)return{};var n=Cde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var d8={symbolCircle:sC,symbolCross:Xue,symbolDiamond:Yue,symbolSquare:Jue,symbolStar:nde,symbolTriangle:rde,symbolWye:ode},Pde=Math.PI/180,kde=function(e){var n="symbol".concat(pb(e));return d8[n]||sC},Nde=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Pde;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Ode=function(e,n){d8["symbol".concat(pb(e))]=n},lC=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=Ade(e,Sde),c=aR(aR({},l),{},{type:r,size:o,sizeType:s}),d=function(){var v=kde(r),b=ade().type(v).size(Nde(o,s,r));return b()},f=c.className,h=c.cx,m=c.cy,y=ct(c,!0);return h===+h&&m===+m&&o===+o?B.createElement("path",zS({},y,{className:st("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};lC.registerSymbol=Ode;function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function WS(){return WS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WS.apply(this,arguments)}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){xp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h8(r.key),r)}}function Mde(t,e,n){return e&&Dde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lde(t,e,n){return e=Hv(e),$de(t,f8()?Reflect.construct(e,n||[],Hv(t).constructor):e.apply(t,n))}function $de(t,e){if(e&&(dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vde(t)}function Vde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f8=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(t)}function Fde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HS(t,e)}function HS(t,e){return HS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HS(t,e)}function xp(t,e,n){return e=h8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h8(t){var e=Bde(t,"string");return dd(e)=="symbol"?e:e+""}function Bde(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qr=32,cC=function(t){function e(){return jde(this,e),Lde(this,e,arguments)}return Fde(e,t),Mde(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Qr/2,a=Qr/6,s=Qr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Qr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Qr,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return B.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Qr/8,"h").concat(Qr,"v").concat(Qr*3/4,"h").concat(-Qr,"z"),className:"recharts-legend-icon"});if(B.isValidElement(r.legendIcon)){var c=Rde({},r);return delete c.legendIcon,B.cloneElement(r.legendIcon,c)}return B.createElement(lC,{fill:l,cx:o,cy:o,size:Qr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:Qr,height:Qr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,y){var g=m.formatter||l,v=st(xp(xp({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=et(m.value)?null:m.value;Fo(!et(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?c:m.color;return B.createElement("li",WS({className:v,style:f,key:"legend-item-".concat(y)},Vv(r.props,m,y)),B.createElement(DS,{width:a,height:a,viewBox:d,style:h},r.renderIcon(m)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g?g(b,m,y):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(_.PureComponent);xp(cC,"displayName","Legend");xp(cC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ude=eb;function zde(){this.__data__=new Ude,this.size=0}var Wde=zde;function Hde(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var qde=Hde;function Kde(t){return this.__data__.get(t)}var Gde=Kde;function Xde(t){return this.__data__.has(t)}var Qde=Xde,Yde=eb,Jde=QA,Zde=YA,efe=200;function tfe(t,e){var n=this.__data__;if(n instanceof Yde){var r=n.__data__;if(!Jde||r.length<efe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Zde(r)}return n.set(t,e),this.size=n.size,this}var nfe=tfe,rfe=eb,ife=Wde,ofe=qde,afe=Gde,sfe=Qde,lfe=nfe;function of(t){var e=this.__data__=new rfe(t);this.size=e.size}of.prototype.clear=ife;of.prototype.delete=ofe;of.prototype.get=afe;of.prototype.has=sfe;of.prototype.set=lfe;var p8=of,cfe="__lodash_hash_undefined__";function ufe(t){return this.__data__.set(t,cfe),this}var dfe=ufe;function ffe(t){return this.__data__.has(t)}var hfe=ffe,pfe=YA,mfe=dfe,gfe=hfe;function qv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new pfe;++e<n;)this.add(t[e])}qv.prototype.add=qv.prototype.push=mfe;qv.prototype.has=gfe;var m8=qv;function yfe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var g8=yfe;function vfe(t,e){return t.has(e)}var y8=vfe,xfe=m8,bfe=g8,wfe=y8,_fe=1,Sfe=2;function Efe(t,e,n,r,i,o){var a=n&_fe,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),d=o.get(e);if(c&&d)return c==e&&d==t;var f=-1,h=!0,m=n&Sfe?new xfe:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var y=t[f],g=e[f];if(r)var v=a?r(g,y,f,e,t,o):r(y,g,f,t,e,o);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!bfe(e,function(b,x){if(!wfe(m,x)&&(y===b||i(y,b,n,r,o)))return m.push(x)})){h=!1;break}}else if(!(y===g||i(y,g,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var v8=Efe,Tfe=vo,Ife=Tfe.Uint8Array,Afe=Ife;function Cfe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Pfe=Cfe;function kfe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var uC=kfe,lR=Rm,cR=Afe,Nfe=XA,Ofe=v8,Rfe=Pfe,jfe=uC,Dfe=1,Mfe=2,Lfe="[object Boolean]",$fe="[object Date]",Vfe="[object Error]",Ffe="[object Map]",Bfe="[object Number]",Ufe="[object RegExp]",zfe="[object Set]",Wfe="[object String]",Hfe="[object Symbol]",qfe="[object ArrayBuffer]",Kfe="[object DataView]",uR=lR?lR.prototype:void 0,h1=uR?uR.valueOf:void 0;function Gfe(t,e,n,r,i,o,a){switch(n){case Kfe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case qfe:return!(t.byteLength!=e.byteLength||!o(new cR(t),new cR(e)));case Lfe:case $fe:case Bfe:return Nfe(+t,+e);case Vfe:return t.name==e.name&&t.message==e.message;case Ufe:case Wfe:return t==e+"";case Ffe:var s=Rfe;case zfe:var l=r&Dfe;if(s||(s=jfe),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=Mfe,a.set(t,e);var d=Ofe(s(t),s(e),r,i,o,a);return a.delete(t),d;case Hfe:if(h1)return h1.call(t)==h1.call(e)}return!1}var Xfe=Gfe;function Qfe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var x8=Qfe,Yfe=x8,Jfe=Cr;function Zfe(t,e,n){var r=e(t);return Jfe(t)?r:Yfe(r,n(t))}var ehe=Zfe;function the(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var nhe=the;function rhe(){return[]}var ihe=rhe,ohe=nhe,ahe=ihe,she=Object.prototype,lhe=she.propertyIsEnumerable,dR=Object.getOwnPropertySymbols,che=dR?function(t){return t==null?[]:(t=Object(t),ohe(dR(t),function(e){return lhe.call(t,e)}))}:ahe,uhe=che;function dhe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var fhe=dhe,hhe=ua,phe=da,mhe="[object Arguments]";function ghe(t){return phe(t)&&hhe(t)==mhe}var yhe=ghe,fR=yhe,vhe=da,b8=Object.prototype,xhe=b8.hasOwnProperty,bhe=b8.propertyIsEnumerable,whe=fR(function(){return arguments}())?fR:function(t){return vhe(t)&&xhe.call(t,"callee")&&!bhe.call(t,"callee")},dC=whe,Kv={exports:{}};function _he(){return!1}var She=_he;Kv.exports;(function(t,e){var n=vo,r=She,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(Kv,Kv.exports);var w8=Kv.exports,Ehe=9007199254740991,The=/^(?:0|[1-9]\d*)$/;function Ihe(t,e){var n=typeof t;return e=e??Ehe,!!e&&(n=="number"||n!="symbol"&&The.test(t))&&t>-1&&t%1==0&&t<e}var fC=Ihe,Ahe=9007199254740991;function Che(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ahe}var hC=Che,Phe=ua,khe=hC,Nhe=da,Ohe="[object Arguments]",Rhe="[object Array]",jhe="[object Boolean]",Dhe="[object Date]",Mhe="[object Error]",Lhe="[object Function]",$he="[object Map]",Vhe="[object Number]",Fhe="[object Object]",Bhe="[object RegExp]",Uhe="[object Set]",zhe="[object String]",Whe="[object WeakMap]",Hhe="[object ArrayBuffer]",qhe="[object DataView]",Khe="[object Float32Array]",Ghe="[object Float64Array]",Xhe="[object Int8Array]",Qhe="[object Int16Array]",Yhe="[object Int32Array]",Jhe="[object Uint8Array]",Zhe="[object Uint8ClampedArray]",epe="[object Uint16Array]",tpe="[object Uint32Array]",Rt={};Rt[Khe]=Rt[Ghe]=Rt[Xhe]=Rt[Qhe]=Rt[Yhe]=Rt[Jhe]=Rt[Zhe]=Rt[epe]=Rt[tpe]=!0;Rt[Ohe]=Rt[Rhe]=Rt[Hhe]=Rt[jhe]=Rt[qhe]=Rt[Dhe]=Rt[Mhe]=Rt[Lhe]=Rt[$he]=Rt[Vhe]=Rt[Fhe]=Rt[Bhe]=Rt[Uhe]=Rt[zhe]=Rt[Whe]=!1;function npe(t){return Nhe(t)&&khe(t.length)&&!!Rt[Phe(t)]}var rpe=npe;function ipe(t){return function(e){return t(e)}}var _8=ipe,Gv={exports:{}};Gv.exports;(function(t,e){var n=P9,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Gv,Gv.exports);var ope=Gv.exports,ape=rpe,spe=_8,hR=ope,pR=hR&&hR.isTypedArray,lpe=pR?spe(pR):ape,S8=lpe,cpe=fhe,upe=dC,dpe=Cr,fpe=w8,hpe=fC,ppe=S8,mpe=Object.prototype,gpe=mpe.hasOwnProperty;function ype(t,e){var n=dpe(t),r=!n&&upe(t),i=!n&&!r&&fpe(t),o=!n&&!r&&!i&&ppe(t),a=n||r||i||o,s=a?cpe(t.length,String):[],l=s.length;for(var c in t)(e||gpe.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||hpe(c,l)))&&s.push(c);return s}var vpe=ype,xpe=Object.prototype;function bpe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||xpe;return t===n}var wpe=bpe;function _pe(t,e){return function(n){return t(e(n))}}var E8=_pe,Spe=E8,Epe=Spe(Object.keys,Object),Tpe=Epe,Ipe=wpe,Ape=Tpe,Cpe=Object.prototype,Ppe=Cpe.hasOwnProperty;function kpe(t){if(!Ipe(t))return Ape(t);var e=[];for(var n in Object(t))Ppe.call(t,n)&&n!="constructor"&&e.push(n);return e}var Npe=kpe,Ope=GA,Rpe=hC;function jpe(t){return t!=null&&Rpe(t.length)&&!Ope(t)}var Mm=jpe,Dpe=vpe,Mpe=Npe,Lpe=Mm;function $pe(t){return Lpe(t)?Dpe(t):Mpe(t)}var vb=$pe,Vpe=ehe,Fpe=uhe,Bpe=vb;function Upe(t){return Vpe(t,Bpe,Fpe)}var zpe=Upe,mR=zpe,Wpe=1,Hpe=Object.prototype,qpe=Hpe.hasOwnProperty;function Kpe(t,e,n,r,i,o){var a=n&Wpe,s=mR(t),l=s.length,c=mR(e),d=c.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:qpe.call(e,h)))return!1}var m=o.get(t),y=o.get(e);if(m&&y)return m==e&&y==t;var g=!0;o.set(t,e),o.set(e,t);for(var v=a;++f<l;){h=s[f];var b=t[h],x=e[h];if(r)var w=a?r(x,b,h,e,t,o):r(b,x,h,t,e,o);if(!(w===void 0?b===x||i(b,x,n,r,o):w)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var S=t.constructor,A=e.constructor;S!=A&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof A=="function"&&A instanceof A)&&(g=!1)}return o.delete(t),o.delete(e),g}var Gpe=Kpe,Xpe=vc,Qpe=vo,Ype=Xpe(Qpe,"DataView"),Jpe=Ype,Zpe=vc,eme=vo,tme=Zpe(eme,"Promise"),nme=tme,rme=vc,ime=vo,ome=rme(ime,"Set"),T8=ome,ame=vc,sme=vo,lme=ame(sme,"WeakMap"),cme=lme,qS=Jpe,KS=QA,GS=nme,XS=T8,QS=cme,I8=ua,af=N9,gR="[object Map]",ume="[object Object]",yR="[object Promise]",vR="[object Set]",xR="[object WeakMap]",bR="[object DataView]",dme=af(qS),fme=af(KS),hme=af(GS),pme=af(XS),mme=af(QS),ul=I8;(qS&&ul(new qS(new ArrayBuffer(1)))!=bR||KS&&ul(new KS)!=gR||GS&&ul(GS.resolve())!=yR||XS&&ul(new XS)!=vR||QS&&ul(new QS)!=xR)&&(ul=function(t){var e=I8(t),n=e==ume?t.constructor:void 0,r=n?af(n):"";if(r)switch(r){case dme:return bR;case fme:return gR;case hme:return yR;case pme:return vR;case mme:return xR}return e});var gme=ul,p1=p8,yme=v8,vme=Xfe,xme=Gpe,wR=gme,_R=Cr,SR=w8,bme=S8,wme=1,ER="[object Arguments]",TR="[object Array]",Lg="[object Object]",_me=Object.prototype,IR=_me.hasOwnProperty;function Sme(t,e,n,r,i,o){var a=_R(t),s=_R(e),l=a?TR:wR(t),c=s?TR:wR(e);l=l==ER?Lg:l,c=c==ER?Lg:c;var d=l==Lg,f=c==Lg,h=l==c;if(h&&SR(t)){if(!SR(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new p1),a||bme(t)?yme(t,e,n,r,i,o):vme(t,e,l,n,r,i,o);if(!(n&wme)){var m=d&&IR.call(t,"__wrapped__"),y=f&&IR.call(e,"__wrapped__");if(m||y){var g=m?t.value():t,v=y?e.value():e;return o||(o=new p1),i(g,v,n,r,o)}}return h?(o||(o=new p1),xme(t,e,n,r,i,o)):!1}var Eme=Sme,Tme=Eme,AR=da;function A8(t,e,n,r,i){return t===e?!0:t==null||e==null||!AR(t)&&!AR(e)?t!==t&&e!==e:Tme(t,e,n,r,A8,i)}var pC=A8,Ime=p8,Ame=pC,Cme=1,Pme=2;function kme(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],c=t[l],d=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Ime;if(r)var h=r(c,d,l,t,e,f);if(!(h===void 0?Ame(d,c,Cme|Pme,r,f):h))return!1}}return!0}var Nme=kme,Ome=Bs;function Rme(t){return t===t&&!Ome(t)}var C8=Rme,jme=C8,Dme=vb;function Mme(t){for(var e=Dme(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,jme(i)]}return e}var Lme=Mme;function $me(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var P8=$me,Vme=Nme,Fme=Lme,Bme=P8;function Ume(t){var e=Fme(t);return e.length==1&&e[0][2]?Bme(e[0][0],e[0][1]):function(n){return n===t||Vme(n,t,e)}}var zme=Ume;function Wme(t,e){return t!=null&&e in Object(t)}var Hme=Wme,qme=M9,Kme=dC,Gme=Cr,Xme=fC,Qme=hC,Yme=nb;function Jme(t,e,n){e=qme(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Yme(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Qme(i)&&Xme(a,i)&&(Gme(t)||Kme(t)))}var Zme=Jme,ege=Hme,tge=Zme;function nge(t,e){return t!=null&&tge(t,e,ege)}var rge=nge,ige=pC,oge=L9,age=rge,sge=KA,lge=C8,cge=P8,uge=nb,dge=1,fge=2;function hge(t,e){return sge(t)&&lge(e)?cge(uge(t),e):function(n){var r=oge(n,t);return r===void 0&&r===e?age(n,t):ige(e,r,dge|fge)}}var pge=hge;function mge(t){return t}var sf=mge;function gge(t){return function(e){return e==null?void 0:e[t]}}var yge=gge,vge=eC;function xge(t){return function(e){return vge(e,t)}}var bge=xge,wge=yge,_ge=bge,Sge=KA,Ege=nb;function Tge(t){return Sge(t)?wge(Ege(t)):_ge(t)}var Ige=Tge,Age=zme,Cge=pge,Pge=sf,kge=Cr,Nge=Ige;function Oge(t){return typeof t=="function"?t:t==null?Pge:typeof t=="object"?kge(t)?Cge(t[0],t[1]):Age(t):Nge(t)}var Us=Oge;function Rge(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var k8=Rge;function jge(t){return t!==t}var Dge=jge;function Mge(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Lge=Mge,$ge=k8,Vge=Dge,Fge=Lge;function Bge(t,e,n){return e===e?Fge(t,e,n):$ge(t,Vge,n)}var Uge=Bge,zge=Uge;function Wge(t,e){var n=t==null?0:t.length;return!!n&&zge(t,e,0)>-1}var Hge=Wge;function qge(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Kge=qge;function Gge(){}var Xge=Gge,m1=T8,Qge=Xge,Yge=uC,Jge=1/0,Zge=m1&&1/Yge(new m1([,-0]))[1]==Jge?function(t){return new m1(t)}:Qge,eye=Zge,tye=m8,nye=Hge,rye=Kge,iye=y8,oye=eye,aye=uC,sye=200;function lye(t,e,n){var r=-1,i=nye,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=rye;else if(o>=sye){var c=e?null:oye(t);if(c)return aye(c);a=!1,i=iye,l=new tye}else l=e?[]:s;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(d)}else i(l,f,n)||(l!==s&&l.push(f),s.push(d))}return s}var cye=lye,uye=Us,dye=cye;function fye(t,e){return t&&t.length?dye(t,uye(e)):[]}var hye=fye;const CR=St(hye);function N8(t,e,n){return e===!0?CR(t,n):et(e)?CR(t,e):t}function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}var pye=["ref"];function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _o(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){xb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R8(r.key),r)}}function gye(t,e,n){return e&&kR(t.prototype,e),n&&kR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yye(t,e,n){return e=Xv(e),vye(t,O8()?Reflect.construct(e,n||[],Xv(t).constructor):e.apply(t,n))}function vye(t,e){if(e&&(fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xye(t)}function xye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O8=function(){return!!t})()}function Xv(t){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xv(t)}function bye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YS(t,e)}function YS(t,e){return YS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YS(t,e)}function xb(t,e,n){return e=R8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R8(t){var e=wye(t,"string");return fd(e)=="symbol"?e:e+""}function wye(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ye(t,e){if(t==null)return{};var n=Sye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Eye(t){return t.value}function Tye(t,e){if(B.isValidElement(t))return B.cloneElement(t,e);if(typeof t=="function")return B.createElement(t,e);e.ref;var n=_ye(e,pye);return B.createElement(cC,n)}var NR=1,Eu=function(t){function e(){var n;mye(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=yye(this,e,[].concat(i)),xb(n,"lastBoundingBox",{width:-1,height:-1}),n}return bye(e,t),gye(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>NR||Math.abs(i.height-this.lastBoundingBox.height)>NR)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_o({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((c||0)-m.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return _o(_o({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,f=_o(_o({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return B.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},Tye(o,_o(_o({},this.props),{},{payload:N8(d,c,Eye)})))}}],[{key:"getWithHeight",value:function(r,i){var o=_o(_o({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&me(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(_.PureComponent);xb(Eu,"displayName","Legend");xb(Eu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var OR=Rm,Iye=dC,Aye=Cr,RR=OR?OR.isConcatSpreadable:void 0;function Cye(t){return Aye(t)||Iye(t)||!!(RR&&t&&t[RR])}var Pye=Cye,kye=x8,Nye=Pye;function j8(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Nye),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?j8(s,e-1,n,r,i):kye(i,s):r||(i[i.length]=s)}return i}var D8=j8;function Oye(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var Rye=Oye,jye=Rye,Dye=jye(),Mye=Dye,Lye=Mye,$ye=vb;function Vye(t,e){return t&&Lye(t,e,$ye)}var M8=Vye,Fye=Mm;function Bye(t,e){return function(n,r){if(n==null)return n;if(!Fye(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var Uye=Bye,zye=M8,Wye=Uye,Hye=Wye(zye),mC=Hye,qye=mC,Kye=Mm;function Gye(t,e){var n=-1,r=Kye(t)?Array(t.length):[];return qye(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var L8=Gye;function Xye(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Qye=Xye,jR=Zd;function Yye(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=jR(t),a=e!==void 0,s=e===null,l=e===e,c=jR(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var Jye=Yye,Zye=Jye;function eve(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=Zye(i[r],o[r]);if(l){if(r>=s)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var tve=eve,g1=ZA,nve=eC,rve=Us,ive=L8,ove=Qye,ave=_8,sve=tve,lve=sf,cve=Cr;function uve(t,e,n){e.length?e=g1(e,function(o){return cve(o)?function(a){return nve(a,o.length===1?o[0]:o)}:o}):e=[lve];var r=-1;e=g1(e,ave(rve));var i=ive(t,function(o,a,s){var l=g1(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return ove(i,function(o,a){return sve(o,a,n)})}var dve=uve;function fve(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var hve=fve,pve=hve,DR=Math.max;function mve(t,e,n){return e=DR(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=DR(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),pve(t,this,s)}}var gve=mve;function yve(t){return function(){return t}}var vve=yve,xve=vc,bve=function(){try{var t=xve(Object,"defineProperty");return t({},"",{}),t}catch{}}(),$8=bve,wve=vve,MR=$8,_ve=sf,Sve=MR?function(t,e){return MR(t,"toString",{configurable:!0,enumerable:!1,value:wve(e),writable:!0})}:_ve,Eve=Sve,Tve=800,Ive=16,Ave=Date.now;function Cve(t){var e=0,n=0;return function(){var r=Ave(),i=Ive-(r-n);if(n=r,i>0){if(++e>=Tve)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Pve=Cve,kve=Eve,Nve=Pve,Ove=Nve(kve),Rve=Ove,jve=sf,Dve=gve,Mve=Rve;function Lve(t,e){return Mve(Dve(t,e,jve),t+"")}var $ve=Lve,Vve=XA,Fve=Mm,Bve=fC,Uve=Bs;function zve(t,e,n){if(!Uve(n))return!1;var r=typeof e;return(r=="number"?Fve(n)&&Bve(e,n.length):r=="string"&&e in n)?Vve(n[e],t):!1}var bb=zve,Wve=D8,Hve=dve,qve=$ve,LR=bb,Kve=qve(function(t,e){if(t==null)return[];var n=e.length;return n>1&&LR(t,e[0],e[1])?e=[]:n>2&&LR(e[0],e[1],e[2])&&(e=[e[0]]),Hve(t,Wve(e,1),[])}),Gve=Kve;const gC=St(Gve);function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function JS(){return JS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JS.apply(this,arguments)}function Xve(t,e){return Zve(t)||Jve(t,e)||Yve(t,e)||Qve()}function Qve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yve(t,e){if(t){if(typeof t=="string")return $R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $R(t,e)}}function $R(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Zve(t){if(Array.isArray(t))return t}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){e0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e0e(t,e,n){return e=t0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t0e(t){var e=n0e(t,"string");return bp(e)=="symbol"?e:e+""}function n0e(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r0e(t){return Array.isArray(t)&&mn(t[0])&&mn(t[1])?t.join(" ~ "):t}var i0e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,g=e.label,v=e.labelFormatter,b=e.accessibilityLayer,x=b===void 0?!1:b,w=function(){if(d&&d.length){var O={padding:0,margin:0},j=(h?gC(d,h):d).map(function($,V){if($.type==="none")return null;var U=y1({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},s),q=$.formatter||f||r0e,L=$.value,K=$.name,Q=L,ee=K;if(q&&Q!=null&&ee!=null){var ne=q(L,K,$,V,d);if(Array.isArray(ne)){var oe=Xve(ne,2);Q=oe[0],ee=oe[1]}else Q=ne}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:U},mn(ee)?B.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,mn(ee)?B.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,B.createElement("span",{className:"recharts-tooltip-item-value"},Q),B.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:O},j)}return null},S=y1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),A=y1({margin:0},c),C=!mt(g),T=C?g:"",E=st("recharts-default-tooltip",m),N=st("recharts-tooltip-label",y);C&&v&&d!==void 0&&d!==null&&(T=v(g,d));var P=x?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",JS({className:E,style:S},P),B.createElement("p",{className:N,style:A},B.isValidElement(T)?T:"".concat(T)),w())};function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function $g(t,e,n){return e=o0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o0e(t){var e=a0e(t,"string");return wp(e)=="symbol"?e:e+""}function a0e(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ff="recharts-tooltip-wrapper",s0e={visibility:"hidden"};function l0e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return st(Ff,$g($g($g($g({},"".concat(Ff,"-right"),me(n)&&e&&me(e.x)&&n>=e.x),"".concat(Ff,"-left"),me(n)&&e&&me(e.x)&&n<e.x),"".concat(Ff,"-bottom"),me(r)&&e&&me(e.y)&&r>=e.y),"".concat(Ff,"-top"),me(r)&&e&&me(e.y)&&r<e.y))}function FR(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&me(o[r]))return o[r];var d=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?d:f;if(a[r]){var h=d,m=l[r];return h<m?Math.max(f,l[r]):Math.max(d,l[r])}var y=f+s,g=l[r]+c;return y>g?Math.max(d,l[r]):Math.max(f,l[r])}function c0e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function u0e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,c,d,f;return a.height>0&&a.width>0&&n?(d=FR({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=FR({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=c0e({translateX:d,translateY:f,useTranslate3d:s})):c=s0e,{cssProperties:c,cssClasses:l0e({translateX:d,translateY:f,coordinate:n})}}function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){eE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F8(r.key),r)}}function h0e(t,e,n){return e&&f0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function p0e(t,e,n){return e=Qv(e),m0e(t,V8()?Reflect.construct(e,n||[],Qv(t).constructor):e.apply(t,n))}function m0e(t,e){if(e&&(hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g0e(t)}function g0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V8=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qv(t)}function y0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZS(t,e)}function ZS(t,e){return ZS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZS(t,e)}function eE(t,e,n){return e=F8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F8(t){var e=v0e(t,"string");return hd(e)=="symbol"?e:e+""}function v0e(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zR=1,x0e=function(t){function e(){var n;d0e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=p0e(this,e,[].concat(i)),eE(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),eE(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return y0e(e,t),h0e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>zR||Math.abs(r.height-this.state.lastBoundingBox.height)>zR)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,y=i.position,g=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,x=i.wrapperStyle,w=u0e({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:m,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),S=w.cssClasses,A=w.cssProperties,C=UR(UR({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return B.createElement("div",{tabIndex:-1,className:S,style:C,ref:function(E){r.wrapperNode=E}},c)}}])}(_.PureComponent),b0e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},us={isSsr:b0e(),get:function(e){return us[e]},set:function(e,n){if(typeof e=="string")us[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){us[i]=e[i]})}}};function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){yC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U8(r.key),r)}}function S0e(t,e,n){return e&&_0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function E0e(t,e,n){return e=Yv(e),T0e(t,B8()?Reflect.construct(e,n||[],Yv(t).constructor):e.apply(t,n))}function T0e(t,e){if(e&&(pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I0e(t)}function I0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B8=function(){return!!t})()}function Yv(t){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yv(t)}function A0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tE(t,e)}function tE(t,e){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tE(t,e)}function yC(t,e,n){return e=U8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U8(t){var e=C0e(t,"string");return pd(e)=="symbol"?e:e+""}function C0e(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P0e(t){return t.dataKey}function k0e(t,e){return B.isValidElement(t)?B.cloneElement(t,e):typeof t=="function"?B.createElement(t,e):B.createElement(i0e,e)}var Ki=function(t){function e(){return w0e(this,e),E0e(this,e,arguments)}return A0e(e,t),S0e(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,y=i.payload,g=i.payloadUniqBy,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,S=i.wrapperStyle,A=y??[];f&&A.length&&(A=N8(y.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),g,P0e));var C=A.length>0;return B.createElement(x0e,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:C,offset:m,position:v,reverseDirection:b,useTranslate3d:x,viewBox:w,wrapperStyle:S},k0e(c,HR(HR({},this.props),{},{payload:A})))}}])}(_.PureComponent);yC(Ki,"displayName","Tooltip");yC(Ki,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!us.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var N0e=vo,O0e=function(){return N0e.Date.now()},R0e=O0e,j0e=/\s/;function D0e(t){for(var e=t.length;e--&&j0e.test(t.charAt(e)););return e}var M0e=D0e,L0e=M0e,$0e=/^\s+/;function V0e(t){return t&&t.slice(0,L0e(t)+1).replace($0e,"")}var F0e=V0e,B0e=F0e,qR=Bs,U0e=Zd,KR=NaN,z0e=/^[-+]0x[0-9a-f]+$/i,W0e=/^0b[01]+$/i,H0e=/^0o[0-7]+$/i,q0e=parseInt;function K0e(t){if(typeof t=="number")return t;if(U0e(t))return KR;if(qR(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=qR(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=B0e(t);var n=W0e.test(t);return n||H0e.test(t)?q0e(t.slice(2),n?2:8):z0e.test(t)?KR:+t}var z8=K0e,G0e=Bs,v1=R0e,GR=z8,X0e="Expected a function",Q0e=Math.max,Y0e=Math.min;function J0e(t,e,n){var r,i,o,a,s,l,c=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(X0e);e=GR(e)||0,G0e(n)&&(d=!!n.leading,f="maxWait"in n,o=f?Q0e(GR(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(C){var T=r,E=i;return r=i=void 0,c=C,a=t.apply(E,T),a}function y(C){return c=C,s=setTimeout(b,e),d?m(C):a}function g(C){var T=C-l,E=C-c,N=e-T;return f?Y0e(N,o-E):N}function v(C){var T=C-l,E=C-c;return l===void 0||T>=e||T<0||f&&E>=o}function b(){var C=v1();if(v(C))return x(C);s=setTimeout(b,g(C))}function x(C){return s=void 0,h&&r?m(C):(r=i=void 0,a)}function w(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function S(){return s===void 0?a:x(v1())}function A(){var C=v1(),T=v(C);if(r=arguments,i=this,l=C,T){if(s===void 0)return y(l);if(f)return clearTimeout(s),s=setTimeout(b,e),m(l)}return s===void 0&&(s=setTimeout(b,e)),a}return A.cancel=w,A.flush=S,A}var Z0e=J0e,exe=Z0e,txe=Bs,nxe="Expected a function";function rxe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(nxe);return txe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),exe(t,e,{leading:r,maxWait:e,trailing:i})}var ixe=rxe;const W8=St(ixe);function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){oxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oxe(t,e,n){return e=axe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function axe(t){var e=sxe(t,"string");return _p(e)=="symbol"?e:e+""}function sxe(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lxe(t,e){return fxe(t)||dxe(t,e)||uxe(t,e)||cxe()}function cxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uxe(t,e){if(t){if(typeof t=="string")return QR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QR(t,e)}}function QR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function fxe(t){if(Array.isArray(t))return t}var hxe=_.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,c=t.minWidth,d=c===void 0?0:c,f=t.minHeight,h=t.maxHeight,m=t.children,y=t.debounce,g=y===void 0?0:y,v=t.id,b=t.className,x=t.onResize,w=t.style,S=w===void 0?{}:w,A=_.useRef(null),C=_.useRef();C.current=x,_.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var T=_.useState({containerWidth:i.width,containerHeight:i.height}),E=lxe(T,2),N=E[0],P=E[1],R=_.useCallback(function(j,$){P(function(V){var U=Math.round(j),q=Math.round($);return V.containerWidth===U&&V.containerHeight===q?V:{containerWidth:U,containerHeight:q}})},[]);_.useEffect(function(){var j=function(K){var Q,ee=K[0].contentRect,ne=ee.width,oe=ee.height;R(ne,oe),(Q=C.current)===null||Q===void 0||Q.call(C,ne,oe)};g>0&&(j=W8(j,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(j),V=A.current.getBoundingClientRect(),U=V.width,q=V.height;return R(U,q),$.observe(A.current),function(){$.disconnect()}},[R,g]);var O=_.useMemo(function(){var j=N.containerWidth,$=N.containerHeight;if(j<0||$<0)return null;Fo(Sl(a)||Sl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Fo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=Sl(a)?j:a,U=Sl(l)?$:l;n&&n>0&&(V?U=V/n:U&&(V=U*n),h&&U>h&&(U=h)),Fo(V>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,U,a,l,d,f,n);var q=!Array.isArray(m)&&Vo(m.type).endsWith("Chart");return B.Children.map(m,function(L){return F9.isElement(L)?_.cloneElement(L,Vg({width:V,height:U},q?{style:Vg({height:"100%",width:"100%",maxHeight:U,maxWidth:V},L.props.style)}:{})):L})},[n,m,l,h,f,d,N,a]);return B.createElement("div",{id:v?"".concat(v):void 0,className:st("recharts-responsive-container",b),style:Vg(Vg({},S),{},{width:a,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:A},O)}),H8=function(e){return null};H8.displayName="Cell";function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){pxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pxe(t,e,n){return e=mxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mxe(t){var e=gxe(t,"string");return Sp(e)=="symbol"?e:e+""}function gxe(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vc={widthCache:{},cacheCount:0},yxe=2e3,vxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JR="recharts_measurement_span";function xxe(t){var e=nE({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Eh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||us.isSsr)return{width:0,height:0};var r=xxe(n),i=JSON.stringify({text:e,copyStyle:r});if(Vc.widthCache[i])return Vc.widthCache[i];try{var o=document.getElementById(JR);o||(o=document.createElement("span"),o.setAttribute("id",JR),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=nE(nE({},vxe),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Vc.widthCache[i]=l,++Vc.cacheCount>yxe&&(Vc.cacheCount=0,Vc.widthCache={}),l}catch{return{width:0,height:0}}},bxe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function Jv(t,e){return Exe(t)||Sxe(t,e)||_xe(t,e)||wxe()}function wxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _xe(t,e){if(t){if(typeof t=="string")return ZR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZR(t,e)}}function ZR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Exe(t){if(Array.isArray(t))return t}function Txe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ej(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Axe(r.key),r)}}function Ixe(t,e,n){return e&&ej(t.prototype,e),n&&ej(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Axe(t){var e=Cxe(t,"string");return Ep(e)=="symbol"?e:e+""}function Cxe(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pxe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kxe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,q8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Nxe=Object.keys(q8),su="NaN";function Oxe(t,e){return t*q8[e]}var Fg=function(){function t(e,n){Txe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Pxe.test(n)&&(this.num=NaN,this.unit=""),Nxe.includes(n)&&(this.num=Oxe(e,n),this.unit="px")}return Ixe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=kxe.exec(n))!==null&&r!==void 0?r:[],o=Jv(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function K8(t){if(t.includes(su))return su;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=tj.exec(e))!==null&&n!==void 0?n:[],i=Jv(r,4),o=i[1],a=i[2],s=i[3],l=Fg.parse(o??""),c=Fg.parse(s??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return su;e=e.replace(tj,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=nj.exec(e))!==null&&f!==void 0?f:[],m=Jv(h,4),y=m[1],g=m[2],v=m[3],b=Fg.parse(y??""),x=Fg.parse(v??""),w=g==="+"?b.add(x):b.subtract(x);if(w.isNaN())return su;e=e.replace(nj,w.toString())}return e}var rj=/\(([^()]*)\)/;function Rxe(t){for(var e=t;e.includes("(");){var n=rj.exec(e),r=Jv(n,2),i=r[1];e=e.replace(rj,K8(i))}return e}function jxe(t){var e=t.replace(/\s+/g,"");return e=Rxe(e),e=K8(e),e}function Dxe(t){try{return jxe(t)}catch{return su}}function x1(t){var e=Dxe(t.slice(5,-1));return e===su?"":e}var Mxe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Lxe=["dx","dy","angle","className","breakAll"];function rE(){return rE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rE.apply(this,arguments)}function ij(t,e){if(t==null)return{};var n=$xe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $xe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oj(t,e){return Uxe(t)||Bxe(t,e)||Fxe(t,e)||Vxe()}function Vxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fxe(t,e){if(t){if(typeof t=="string")return aj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aj(t,e)}}function aj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Uxe(t){if(Array.isArray(t))return t}var G8=/[ \f\n\r\t\v\u2028\u2029]+/,X8=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];mt(n)||(r?o=n.toString().split(""):o=n.toString().split(G8));var a=o.map(function(l){return{word:l,width:Eh(l,i).width}}),s=r?0:Eh(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},zxe=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,c=e.breakAll,d=me(a),f=s,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(U,q){var L=q.word,K=q.width,Q=U[U.length-1];if(Q&&(i==null||o||Q.width+K+r<Number(i)))Q.words.push(L),Q.width+=K+r;else{var ee={words:[L],width:K};U.push(ee)}return U},[])},m=h(n),y=function(V){return V.reduce(function(U,q){return U.width>q.width?U:q})};if(!d)return m;for(var g="…",v=function(V){var U=f.slice(0,V),q=X8({breakAll:c,style:l,children:U+g}).wordsWithComputedWidth,L=h(q),K=L.length>a||y(L).width>Number(i);return[K,L]},b=0,x=f.length-1,w=0,S;b<=x&&w<=f.length-1;){var A=Math.floor((b+x)/2),C=A-1,T=v(C),E=oj(T,2),N=E[0],P=E[1],R=v(A),O=oj(R,1),j=O[0];if(!N&&!j&&(b=A+1),N&&j&&(x=A-1),!N&&j){S=P;break}w++}return S||m},sj=function(e){var n=mt(e)?[]:e.toString().split(G8);return[{words:n}]},Wxe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!us.isSsr){var l,c,d=X8({breakAll:a,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,c=h}else return sj(i);return zxe({breakAll:a,children:i,maxLines:s,style:o},l,c,n,r)}return sj(i)},lj="#808080",Zv=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,m=h===void 0?"start":h,y=e.verticalAnchor,g=y===void 0?"end":y,v=e.fill,b=v===void 0?lj:v,x=ij(e,Mxe),w=_.useMemo(function(){return Wxe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),S=x.dx,A=x.dy,C=x.angle,T=x.className,E=x.breakAll,N=ij(x,Lxe);if(!mn(r)||!mn(o))return null;var P=r+(me(S)?S:0),R=o+(me(A)?A:0),O;switch(g){case"start":O=x1("calc(".concat(c,")"));break;case"middle":O=x1("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:O=x1("calc(".concat(w.length-1," * -").concat(s,")"));break}var j=[];if(f){var $=w[0].width,V=x.width;j.push("scale(".concat((me(V)?V/$:1)/$,")"))}return C&&j.push("rotate(".concat(C,", ").concat(P,", ").concat(R,")")),j.length&&(N.transform=j.join(" ")),B.createElement("text",rE({},ct(N,!0),{x:P,y:R,className:st("recharts-text",T),textAnchor:m,fill:b.includes("url")?lj:b}),w.map(function(U,q){var L=U.words.join(E?"":" ");return B.createElement("tspan",{x:P,dy:q===0?O:s,key:"".concat(L,"-").concat(q)},L)}))};function ds(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hxe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vC(t){let e,n,r;t.length!==2?(e=ds,n=(s,l)=>ds(t(s),l),r=(s,l)=>t(s)-l):(e=t===ds||t===Hxe?t:qxe,n=t,r=t);function i(s,l,c=0,d=s.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){if(c<d){if(e(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function a(s,l,c=0,d=s.length){const f=i(s,l,c,d-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function qxe(){return 0}function Q8(t){return t===null?NaN:+t}function*Kxe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Gxe=vC(ds),Lm=Gxe.right;vC(Q8).center;class cj extends Map{constructor(e,n=Yxe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(uj(this,e))}has(e){return super.has(uj(this,e))}set(e,n){return super.set(Xxe(this,e),n)}delete(e){return super.delete(Qxe(this,e))}}function uj({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Xxe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Qxe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Yxe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Jxe(t=ds){if(t===ds)return Y8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Y8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Zxe=Math.sqrt(50),ebe=Math.sqrt(10),tbe=Math.sqrt(2);function e0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Zxe?10:o>=ebe?5:o>=tbe?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?e0(t,e,n*2):[s,l,c]}function iE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?e0(e,t,n):e0(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function oE(t,e,n){return e=+e,t=+t,n=+n,e0(t,e,n)[2]}function aE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?oE(e,t,n):oE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function dj(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function fj(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function J8(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Y8:Jxe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(e-c*f/l+h)),y=Math.min(r,Math.floor(e+(l-c)*f/l+h));J8(t,e,m,y,i)}const o=t[e];let a=n,s=r;for(Bf(t,n,e),i(t[r],o)>0&&Bf(t,n,r);a<s;){for(Bf(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Bf(t,n,s):(++s,Bf(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Bf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function nbe(t,e,n){if(t=Float64Array.from(Kxe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return fj(t);if(e>=1)return dj(t);var r,i=(r-1)*e,o=Math.floor(i),a=dj(J8(t,o).subarray(0,o+1)),s=fj(t.subarray(o+1));return a+(s-a)*(i-o)}}function rbe(t,e,n=Q8){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function ibe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function fi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const sE=Symbol("implicit");function xC(){var t=new cj,e=[],n=[],r=sE;function i(o){let a=t.get(o);if(a===void 0){if(r!==sE)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new cj;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return xC(e,n).unknown(r)},fi.apply(i,arguments),i}function Tp(){var t=xC().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,c=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<r,y=m?i:r,g=m?r:i;o=(g-y)/Math.max(1,h-l+c*2),s&&(o=Math.floor(o)),y+=(g-y-o*(h-l))*d,a=o*(1-l),s&&(y=Math.round(y),a=Math.round(a));var v=ibe(h).map(function(b){return y+o*b});return n(m?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Tp(e(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(d)},fi.apply(f(),arguments)}function Z8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Z8(e())},t}function Th(){return Z8(Tp.apply(null,arguments).paddingInner(1))}function bC(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function eB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function $m(){}var Ip=.7,t0=1/Ip,Tu="\\s*([+-]?\\d+)\\s*",Ap="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",co="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",obe=/^#([0-9a-f]{3,8})$/,abe=new RegExp(`^rgb\\(${Tu},${Tu},${Tu}\\)$`),sbe=new RegExp(`^rgb\\(${co},${co},${co}\\)$`),lbe=new RegExp(`^rgba\\(${Tu},${Tu},${Tu},${Ap}\\)$`),cbe=new RegExp(`^rgba\\(${co},${co},${co},${Ap}\\)$`),ube=new RegExp(`^hsl\\(${Ap},${co},${co}\\)$`),dbe=new RegExp(`^hsla\\(${Ap},${co},${co},${Ap}\\)$`),hj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bC($m,Cp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pj,formatHex:pj,formatHex8:fbe,formatHsl:hbe,formatRgb:mj,toString:mj});function pj(){return this.rgb().formatHex()}function fbe(){return this.rgb().formatHex8()}function hbe(){return tB(this).formatHsl()}function mj(){return this.rgb().formatRgb()}function Cp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=obe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?gj(e):n===3?new Sr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Bg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Bg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=abe.exec(t))?new Sr(e[1],e[2],e[3],1):(e=sbe.exec(t))?new Sr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=lbe.exec(t))?Bg(e[1],e[2],e[3],e[4]):(e=cbe.exec(t))?Bg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ube.exec(t))?xj(e[1],e[2]/100,e[3]/100,1):(e=dbe.exec(t))?xj(e[1],e[2]/100,e[3]/100,e[4]):hj.hasOwnProperty(t)?gj(hj[t]):t==="transparent"?new Sr(NaN,NaN,NaN,0):null}function gj(t){return new Sr(t>>16&255,t>>8&255,t&255,1)}function Bg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Sr(t,e,n,r)}function pbe(t){return t instanceof $m||(t=Cp(t)),t?(t=t.rgb(),new Sr(t.r,t.g,t.b,t.opacity)):new Sr}function lE(t,e,n,r){return arguments.length===1?pbe(t):new Sr(t,e,n,r??1)}function Sr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}bC(Sr,lE,eB($m,{brighter(t){return t=t==null?t0:Math.pow(t0,t),new Sr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ip:Math.pow(Ip,t),new Sr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Sr(Ll(this.r),Ll(this.g),Ll(this.b),n0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yj,formatHex:yj,formatHex8:mbe,formatRgb:vj,toString:vj}));function yj(){return`#${El(this.r)}${El(this.g)}${El(this.b)}`}function mbe(){return`#${El(this.r)}${El(this.g)}${El(this.b)}${El((isNaN(this.opacity)?1:this.opacity)*255)}`}function vj(){const t=n0(this.opacity);return`${t===1?"rgb(":"rgba("}${Ll(this.r)}, ${Ll(this.g)}, ${Ll(this.b)}${t===1?")":`, ${t})`}`}function n0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ll(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function El(t){return t=Ll(t),(t<16?"0":"")+t.toString(16)}function xj(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ai(t,e,n,r)}function tB(t){if(t instanceof Ai)return new Ai(t.h,t.s,t.l,t.opacity);if(t instanceof $m||(t=Cp(t)),!t)return new Ai;if(t instanceof Ai)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Ai(a,s,l,t.opacity)}function gbe(t,e,n,r){return arguments.length===1?tB(t):new Ai(t,e,n,r??1)}function Ai(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}bC(Ai,gbe,eB($m,{brighter(t){return t=t==null?t0:Math.pow(t0,t),new Ai(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ip:Math.pow(Ip,t),new Ai(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Sr(b1(t>=240?t-240:t+120,i,r),b1(t,i,r),b1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ai(bj(this.h),Ug(this.s),Ug(this.l),n0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=n0(this.opacity);return`${t===1?"hsl(":"hsla("}${bj(this.h)}, ${Ug(this.s)*100}%, ${Ug(this.l)*100}%${t===1?")":`, ${t})`}`}}));function bj(t){return t=(t||0)%360,t<0?t+360:t}function Ug(t){return Math.max(0,Math.min(1,t||0))}function b1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const wC=t=>()=>t;function ybe(t,e){return function(n){return t+n*e}}function vbe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function xbe(t){return(t=+t)==1?nB:function(e,n){return n-e?vbe(e,n,t):wC(isNaN(e)?n:e)}}function nB(t,e){var n=e-t;return n?ybe(t,n):wC(isNaN(t)?e:t)}const wj=function t(e){var n=xbe(e);function r(i,o){var a=n((i=lE(i)).r,(o=lE(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),c=nB(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function bbe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function wbe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _be(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=lf(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Sbe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function r0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ebe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=lf(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var cE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,w1=new RegExp(cE.source,"g");function Tbe(t){return function(){return t}}function Ibe(t){return function(e){return t(e)+""}}function Abe(t,e){var n=cE.lastIndex=w1.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=cE.exec(t))&&(i=w1.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:r0(r,i)})),n=w1.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Ibe(l[0].x):Tbe(e):(e=l.length,function(c){for(var d=0,f;d<e;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function lf(t,e){var n=typeof e,r;return e==null||n==="boolean"?wC(e):(n==="number"?r0:n==="string"?(r=Cp(e))?(e=r,wj):Abe:e instanceof Cp?wj:e instanceof Date?Sbe:wbe(e)?bbe:Array.isArray(e)?_be:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ebe:r0)(t,e)}function _C(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Cbe(t,e){e===void 0&&(e=t,t=lf);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Pbe(t){return function(){return t}}function i0(t){return+t}var _j=[0,1];function ur(t){return t}function uE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Pbe(isNaN(e)?NaN:.5)}function kbe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Nbe(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=uE(i,r),o=n(a,o)):(r=uE(r,i),o=n(o,a)),function(s){return o(r(s))}}function Obe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=uE(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=Lm(t,s,1,r)-1;return o[l](i[l](s))}}function Vm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function wb(){var t=_j,e=_j,n=lf,r,i,o,a=ur,s,l,c;function d(){var h=Math.min(t.length,e.length);return a!==ur&&(a=kbe(t[0],t[h-1])),s=h>2?Obe:Nbe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((c||(c=s(e,t.map(r),r0)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,i0),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=_C,d()},f.clamp=function(h){return arguments.length?(a=h?!0:ur,d()):a!==ur},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,m){return r=h,i=m,d()}}function SC(){return wb()(ur,ur)}function Rbe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function o0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function md(t){return t=o0(Math.abs(t)),t?t[1]:NaN}function jbe(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Dbe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Mbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pp(t){if(!(e=Mbe.exec(t)))throw new Error("invalid format: "+t);var e;return new EC({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Pp.prototype=EC.prototype;function EC(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}EC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lbe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var rB;function $be(t,e){var n=o0(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(rB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+o0(t,Math.max(0,e+o-1))[0]}function Sj(t,e){var n=o0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ej={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Rbe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Sj(t*100,e),r:Sj,s:$be,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Tj(t){return t}var Ij=Array.prototype.map,Aj=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Vbe(t){var e=t.grouping===void 0||t.thousands===void 0?Tj:jbe(Ij.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Tj:Dbe(Ij.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Pp(f);var h=f.fill,m=f.align,y=f.sign,g=f.symbol,v=f.zero,b=f.width,x=f.comma,w=f.precision,S=f.trim,A=f.type;A==="n"?(x=!0,A="g"):Ej[A]||(w===void 0&&(w=12),S=!0,A="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var C=g==="$"?n:g==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",T=g==="$"?r:/[%p]/.test(A)?a:"",E=Ej[A],N=/[defgprs%]/.test(A);w=w===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function P(R){var O=C,j=T,$,V,U;if(A==="c")j=E(R)+j,R="";else{R=+R;var q=R<0||1/R<0;if(R=isNaN(R)?l:E(Math.abs(R),w),S&&(R=Lbe(R)),q&&+R==0&&y!=="+"&&(q=!1),O=(q?y==="("?y:s:y==="-"||y==="("?"":y)+O,j=(A==="s"?Aj[8+rB/3]:"")+j+(q&&y==="("?")":""),N){for($=-1,V=R.length;++$<V;)if(U=R.charCodeAt($),48>U||U>57){j=(U===46?i+R.slice($+1):R.slice($))+j,R=R.slice(0,$);break}}}x&&!v&&(R=e(R,1/0));var L=O.length+R.length+j.length,K=L<b?new Array(b-L+1).join(h):"";switch(x&&v&&(R=e(K+R,K.length?b-j.length:1/0),K=""),m){case"<":R=O+R+j+K;break;case"=":R=O+K+R+j;break;case"^":R=K.slice(0,L=K.length>>1)+O+R+j+K.slice(L);break;default:R=K+O+R+j;break}return o(R)}return P.toString=function(){return f+""},P}function d(f,h){var m=c((f=Pp(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(md(h)/3)))*3,g=Math.pow(10,-y),v=Aj[8+y/3];return function(b){return m(g*b)+v}}return{format:c,formatPrefix:d}}var zg,TC,iB;Fbe({thousands:",",grouping:[3],currency:["$",""]});function Fbe(t){return zg=Vbe(t),TC=zg.format,iB=zg.formatPrefix,zg}function Bbe(t){return Math.max(0,-md(Math.abs(t)))}function Ube(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(md(e)/3)))*3-md(Math.abs(t)))}function zbe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,md(e)-md(t))+1}function oB(t,e,n,r){var i=aE(t,e,n),o;switch(r=Pp(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Ube(i,a))&&(r.precision=o),iB(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=zbe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Bbe(i))&&(r.precision=o-(r.type==="%")*2);break}}return TC(r)}function zs(t){var e=t.domain;return t.ticks=function(n){var r=e();return iE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return oB(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,c,d=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);d-- >0;){if(c=oE(a,s,n),c===l)return r[i]=a,r[o]=s,e(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;l=c}return t},t}function a0(){var t=SC();return t.copy=function(){return Vm(t,a0())},fi.apply(t,arguments),zs(t)}function aB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,i0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return aB(t).unknown(e)},t=arguments.length?Array.from(t,i0):[0,1],zs(n)}function sB(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Cj(t){return Math.log(t)}function Pj(t){return Math.exp(t)}function Wbe(t){return-Math.log(-t)}function Hbe(t){return-Math.exp(-t)}function qbe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Kbe(t){return t===10?qbe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Gbe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function kj(t){return(e,n)=>-t(-e,n)}function IC(t){const e=t(Cj,Pj),n=e.domain;let r=10,i,o;function a(){return i=Gbe(r),o=Kbe(r),n()[0]<0?(i=kj(i),o=kj(o),t(Wbe,Hbe)):t(Cj,Pj),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),y,g;const v=s==null?10:+s;let b=[];if(!(r%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(y=1;y<r;++y)if(g=h<0?y/o(-h):y*o(h),!(g<c)){if(g>d)break;b.push(g)}}else for(;h<=m;++h)for(y=r-1;y>=1;--y)if(g=h>0?y/o(-h):y*o(h),!(g<c)){if(g>d)break;b.push(g)}b.length*2<v&&(b=iE(c,d,v))}else b=iE(h,m,Math.min(m-h,v)).map(o);return f?b.reverse():b},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Pp(l)).precision==null&&(l.trim=!0),l=TC(l)),s===1/0)return l;const c=Math.max(1,r*s/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},e.nice=()=>n(sB(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function lB(){const t=IC(wb()).domain([1,10]);return t.copy=()=>Vm(t,lB()).base(t.base()),fi.apply(t,arguments),t}function Nj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Oj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function AC(t){var e=1,n=t(Nj(e),Oj(e));return n.constant=function(r){return arguments.length?t(Nj(e=+r),Oj(e)):e},zs(n)}function cB(){var t=AC(wb());return t.copy=function(){return Vm(t,cB()).constant(t.constant())},fi.apply(t,arguments)}function Rj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Xbe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Qbe(t){return t<0?-t*t:t*t}function CC(t){var e=t(ur,ur),n=1;function r(){return n===1?t(ur,ur):n===.5?t(Xbe,Qbe):t(Rj(n),Rj(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},zs(e)}function PC(){var t=CC(wb());return t.copy=function(){return Vm(t,PC()).exponent(t.exponent())},fi.apply(t,arguments),t}function Ybe(){return PC.apply(null,arguments).exponent(.5)}function jj(t){return Math.sign(t)*t*t}function Jbe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function uB(){var t=SC(),e=[0,1],n=!1,r;function i(o){var a=Jbe(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(jj(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,i0)).map(jj)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return uB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},fi.apply(i,arguments),zs(i)}function dB(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=rbe(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Lm(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(ds),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return dB().domain(t).range(e).unknown(r)},fi.apply(o,arguments)}function fB(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Lm(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return fB().domain([t,e]).range(i).unknown(o)},fi.apply(zs(a),arguments)}function hB(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Lm(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return hB().domain(t).range(e).unknown(n)},fi.apply(i,arguments)}const _1=new Date,S1=new Date;function vn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let c;do l.push(c=new Date(+o)),e(o,s),t(o);while(c<o&&o<a);return l},i.filter=o=>vn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(_1.setTime(+o),S1.setTime(+a),t(_1),t(S1),Math.floor(n(_1,S1))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const s0=vn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);s0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?vn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):s0);s0.range;const Ro=1e3,ri=Ro*60,jo=ri*60,ra=jo*24,kC=ra*7,Dj=ra*30,E1=ra*365,Tl=vn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ro)},(t,e)=>(e-t)/Ro,t=>t.getUTCSeconds());Tl.range;const NC=vn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ro)},(t,e)=>{t.setTime(+t+e*ri)},(t,e)=>(e-t)/ri,t=>t.getMinutes());NC.range;const OC=vn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ri)},(t,e)=>(e-t)/ri,t=>t.getUTCMinutes());OC.range;const RC=vn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ro-t.getMinutes()*ri)},(t,e)=>{t.setTime(+t+e*jo)},(t,e)=>(e-t)/jo,t=>t.getHours());RC.range;const jC=vn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*jo)},(t,e)=>(e-t)/jo,t=>t.getUTCHours());jC.range;const Fm=vn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ri)/ra,t=>t.getDate()-1);Fm.range;const _b=vn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ra,t=>t.getUTCDate()-1);_b.range;const pB=vn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ra,t=>Math.floor(t/ra));pB.range;function xc(t){return vn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ri)/kC)}const Sb=xc(0),l0=xc(1),Zbe=xc(2),ewe=xc(3),gd=xc(4),twe=xc(5),nwe=xc(6);Sb.range;l0.range;Zbe.range;ewe.range;gd.range;twe.range;nwe.range;function bc(t){return vn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/kC)}const Eb=bc(0),c0=bc(1),rwe=bc(2),iwe=bc(3),yd=bc(4),owe=bc(5),awe=bc(6);Eb.range;c0.range;rwe.range;iwe.range;yd.range;owe.range;awe.range;const DC=vn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());DC.range;const MC=vn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());MC.range;const ia=vn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ia.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ia.range;const oa=vn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());oa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});oa.range;function mB(t,e,n,r,i,o){const a=[[Tl,1,Ro],[Tl,5,5*Ro],[Tl,15,15*Ro],[Tl,30,30*Ro],[o,1,ri],[o,5,5*ri],[o,15,15*ri],[o,30,30*ri],[i,1,jo],[i,3,3*jo],[i,6,6*jo],[i,12,12*jo],[r,1,ra],[r,2,2*ra],[n,1,kC],[e,1,Dj],[e,3,3*Dj],[t,1,E1]];function s(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),y=m?m.range(c,+d+1):[];return h?y.reverse():y}function l(c,d,f){const h=Math.abs(d-c)/f,m=vC(([,,v])=>v).right(a,h);if(m===a.length)return t.every(aE(c/E1,d/E1,f));if(m===0)return s0.every(Math.max(aE(c,d,f),1));const[y,g]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return y.every(g)}return[s,l]}const[swe,lwe]=mB(oa,MC,Eb,pB,jC,OC),[cwe,uwe]=mB(ia,DC,Sb,Fm,RC,NC);function T1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function I1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Uf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function dwe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=zf(i),d=Wf(i),f=zf(o),h=Wf(o),m=zf(a),y=Wf(a),g=zf(s),v=Wf(s),b=zf(l),x=Wf(l),w={a:q,A:L,b:K,B:Q,c:null,d:Bj,e:Bj,f:jwe,g:Wwe,G:qwe,H:Nwe,I:Owe,j:Rwe,L:gB,m:Dwe,M:Mwe,p:ee,q:ne,Q:Wj,s:Hj,S:Lwe,u:$we,U:Vwe,V:Fwe,w:Bwe,W:Uwe,x:null,X:null,y:zwe,Y:Hwe,Z:Kwe,"%":zj},S={a:oe,A:J,b:fe,B:Ce,c:null,d:Uj,e:Uj,f:Ywe,g:s1e,G:c1e,H:Gwe,I:Xwe,j:Qwe,L:vB,m:Jwe,M:Zwe,p:te,q:Ae,Q:Wj,s:Hj,S:e1e,u:t1e,U:n1e,V:r1e,w:i1e,W:o1e,x:null,X:null,y:a1e,Y:l1e,Z:u1e,"%":zj},A={a:P,A:R,b:O,B:j,c:$,d:Vj,e:Vj,f:Awe,g:$j,G:Lj,H:Fj,I:Fj,j:Swe,L:Iwe,m:_we,M:Ewe,p:N,q:wwe,Q:Pwe,s:kwe,S:Twe,u:gwe,U:ywe,V:vwe,w:mwe,W:xwe,x:V,X:U,y:$j,Y:Lj,Z:bwe,"%":Cwe};w.x=C(n,w),w.X=C(r,w),w.c=C(e,w),S.x=C(n,S),S.X=C(r,S),S.c=C(e,S);function C(ce,ue){return function(se){var G=[],ke=-1,M=0,F=ce.length,H,ge,Se;for(se instanceof Date||(se=new Date(+se));++ke<F;)ce.charCodeAt(ke)===37&&(G.push(ce.slice(M,ke)),(ge=Mj[H=ce.charAt(++ke)])!=null?H=ce.charAt(++ke):ge=H==="e"?" ":"0",(Se=ue[H])&&(H=Se(se,ge)),G.push(H),M=ke+1);return G.push(ce.slice(M,ke)),G.join("")}}function T(ce,ue){return function(se){var G=Uf(1900,void 0,1),ke=E(G,ce,se+="",0),M,F;if(ke!=se.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(ue&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(M=I1(Uf(G.y,0,1)),F=M.getUTCDay(),M=F>4||F===0?c0.ceil(M):c0(M),M=_b.offset(M,(G.V-1)*7),G.y=M.getUTCFullYear(),G.m=M.getUTCMonth(),G.d=M.getUTCDate()+(G.w+6)%7):(M=T1(Uf(G.y,0,1)),F=M.getDay(),M=F>4||F===0?l0.ceil(M):l0(M),M=Fm.offset(M,(G.V-1)*7),G.y=M.getFullYear(),G.m=M.getMonth(),G.d=M.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),F="Z"in G?I1(Uf(G.y,0,1)).getUTCDay():T1(Uf(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(F+5)%7:G.w+G.U*7-(F+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,I1(G)):T1(G)}}function E(ce,ue,se,G){for(var ke=0,M=ue.length,F=se.length,H,ge;ke<M;){if(G>=F)return-1;if(H=ue.charCodeAt(ke++),H===37){if(H=ue.charAt(ke++),ge=A[H in Mj?ue.charAt(ke++):H],!ge||(G=ge(ce,se,G))<0)return-1}else if(H!=se.charCodeAt(G++))return-1}return G}function N(ce,ue,se){var G=c.exec(ue.slice(se));return G?(ce.p=d.get(G[0].toLowerCase()),se+G[0].length):-1}function P(ce,ue,se){var G=m.exec(ue.slice(se));return G?(ce.w=y.get(G[0].toLowerCase()),se+G[0].length):-1}function R(ce,ue,se){var G=f.exec(ue.slice(se));return G?(ce.w=h.get(G[0].toLowerCase()),se+G[0].length):-1}function O(ce,ue,se){var G=b.exec(ue.slice(se));return G?(ce.m=x.get(G[0].toLowerCase()),se+G[0].length):-1}function j(ce,ue,se){var G=g.exec(ue.slice(se));return G?(ce.m=v.get(G[0].toLowerCase()),se+G[0].length):-1}function $(ce,ue,se){return E(ce,e,ue,se)}function V(ce,ue,se){return E(ce,n,ue,se)}function U(ce,ue,se){return E(ce,r,ue,se)}function q(ce){return a[ce.getDay()]}function L(ce){return o[ce.getDay()]}function K(ce){return l[ce.getMonth()]}function Q(ce){return s[ce.getMonth()]}function ee(ce){return i[+(ce.getHours()>=12)]}function ne(ce){return 1+~~(ce.getMonth()/3)}function oe(ce){return a[ce.getUTCDay()]}function J(ce){return o[ce.getUTCDay()]}function fe(ce){return l[ce.getUTCMonth()]}function Ce(ce){return s[ce.getUTCMonth()]}function te(ce){return i[+(ce.getUTCHours()>=12)]}function Ae(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var ue=C(ce+="",w);return ue.toString=function(){return ce},ue},parse:function(ce){var ue=T(ce+="",!1);return ue.toString=function(){return ce},ue},utcFormat:function(ce){var ue=C(ce+="",S);return ue.toString=function(){return ce},ue},utcParse:function(ce){var ue=T(ce+="",!0);return ue.toString=function(){return ce},ue}}}var Mj={"-":"",_:" ",0:"0"},An=/^\s*\d+/,fwe=/^%/,hwe=/[\\^$*+?|[\]().{}]/g;function lt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function pwe(t){return t.replace(hwe,"\\$&")}function zf(t){return new RegExp("^(?:"+t.map(pwe).join("|")+")","i")}function Wf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function mwe(t,e,n){var r=An.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function gwe(t,e,n){var r=An.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ywe(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function vwe(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function xwe(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Lj(t,e,n){var r=An.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function $j(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bwe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function wwe(t,e,n){var r=An.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function _we(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Vj(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Swe(t,e,n){var r=An.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Fj(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ewe(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Twe(t,e,n){var r=An.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Iwe(t,e,n){var r=An.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Awe(t,e,n){var r=An.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Cwe(t,e,n){var r=fwe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Pwe(t,e,n){var r=An.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function kwe(t,e,n){var r=An.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Bj(t,e){return lt(t.getDate(),e,2)}function Nwe(t,e){return lt(t.getHours(),e,2)}function Owe(t,e){return lt(t.getHours()%12||12,e,2)}function Rwe(t,e){return lt(1+Fm.count(ia(t),t),e,3)}function gB(t,e){return lt(t.getMilliseconds(),e,3)}function jwe(t,e){return gB(t,e)+"000"}function Dwe(t,e){return lt(t.getMonth()+1,e,2)}function Mwe(t,e){return lt(t.getMinutes(),e,2)}function Lwe(t,e){return lt(t.getSeconds(),e,2)}function $we(t){var e=t.getDay();return e===0?7:e}function Vwe(t,e){return lt(Sb.count(ia(t)-1,t),e,2)}function yB(t){var e=t.getDay();return e>=4||e===0?gd(t):gd.ceil(t)}function Fwe(t,e){return t=yB(t),lt(gd.count(ia(t),t)+(ia(t).getDay()===4),e,2)}function Bwe(t){return t.getDay()}function Uwe(t,e){return lt(l0.count(ia(t)-1,t),e,2)}function zwe(t,e){return lt(t.getFullYear()%100,e,2)}function Wwe(t,e){return t=yB(t),lt(t.getFullYear()%100,e,2)}function Hwe(t,e){return lt(t.getFullYear()%1e4,e,4)}function qwe(t,e){var n=t.getDay();return t=n>=4||n===0?gd(t):gd.ceil(t),lt(t.getFullYear()%1e4,e,4)}function Kwe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+lt(e/60|0,"0",2)+lt(e%60,"0",2)}function Uj(t,e){return lt(t.getUTCDate(),e,2)}function Gwe(t,e){return lt(t.getUTCHours(),e,2)}function Xwe(t,e){return lt(t.getUTCHours()%12||12,e,2)}function Qwe(t,e){return lt(1+_b.count(oa(t),t),e,3)}function vB(t,e){return lt(t.getUTCMilliseconds(),e,3)}function Ywe(t,e){return vB(t,e)+"000"}function Jwe(t,e){return lt(t.getUTCMonth()+1,e,2)}function Zwe(t,e){return lt(t.getUTCMinutes(),e,2)}function e1e(t,e){return lt(t.getUTCSeconds(),e,2)}function t1e(t){var e=t.getUTCDay();return e===0?7:e}function n1e(t,e){return lt(Eb.count(oa(t)-1,t),e,2)}function xB(t){var e=t.getUTCDay();return e>=4||e===0?yd(t):yd.ceil(t)}function r1e(t,e){return t=xB(t),lt(yd.count(oa(t),t)+(oa(t).getUTCDay()===4),e,2)}function i1e(t){return t.getUTCDay()}function o1e(t,e){return lt(c0.count(oa(t)-1,t),e,2)}function a1e(t,e){return lt(t.getUTCFullYear()%100,e,2)}function s1e(t,e){return t=xB(t),lt(t.getUTCFullYear()%100,e,2)}function l1e(t,e){return lt(t.getUTCFullYear()%1e4,e,4)}function c1e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?yd(t):yd.ceil(t),lt(t.getUTCFullYear()%1e4,e,4)}function u1e(){return"+0000"}function zj(){return"%"}function Wj(t){return+t}function Hj(t){return Math.floor(+t/1e3)}var Fc,bB,wB;d1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function d1e(t){return Fc=dwe(t),bB=Fc.format,Fc.parse,wB=Fc.utcFormat,Fc.utcParse,Fc}function f1e(t){return new Date(t)}function h1e(t){return t instanceof Date?+t:+new Date(+t)}function LC(t,e,n,r,i,o,a,s,l,c){var d=SC(),f=d.invert,h=d.domain,m=c(".%L"),y=c(":%S"),g=c("%I:%M"),v=c("%I %p"),b=c("%a %d"),x=c("%b %d"),w=c("%B"),S=c("%Y");function A(C){return(l(C)<C?m:s(C)<C?y:a(C)<C?g:o(C)<C?v:r(C)<C?i(C)<C?b:x:n(C)<C?w:S)(C)}return d.invert=function(C){return new Date(f(C))},d.domain=function(C){return arguments.length?h(Array.from(C,h1e)):h().map(f1e)},d.ticks=function(C){var T=h();return t(T[0],T[T.length-1],C??10)},d.tickFormat=function(C,T){return T==null?A:c(T)},d.nice=function(C){var T=h();return(!C||typeof C.range!="function")&&(C=e(T[0],T[T.length-1],C??10)),C?h(sB(T,C)):d},d.copy=function(){return Vm(d,LC(t,e,n,r,i,o,a,s,l,c))},d}function p1e(){return fi.apply(LC(cwe,uwe,ia,DC,Sb,Fm,RC,NC,Tl,bB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function m1e(){return fi.apply(LC(swe,lwe,oa,MC,Eb,_b,jC,OC,Tl,wB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Tb(){var t=0,e=1,n,r,i,o,a=ur,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(a=f,c):a};function d(f){return function(h){var m,y;return arguments.length?([m,y]=h,a=f(m,y),c):[a(0),a(1)]}}return c.range=d(lf),c.rangeRound=d(_C),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Ws(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function _B(){var t=zs(Tb()(ur));return t.copy=function(){return Ws(t,_B())},fa.apply(t,arguments)}function SB(){var t=IC(Tb()).domain([1,10]);return t.copy=function(){return Ws(t,SB()).base(t.base())},fa.apply(t,arguments)}function EB(){var t=AC(Tb());return t.copy=function(){return Ws(t,EB()).constant(t.constant())},fa.apply(t,arguments)}function $C(){var t=CC(Tb());return t.copy=function(){return Ws(t,$C()).exponent(t.exponent())},fa.apply(t,arguments)}function g1e(){return $C.apply(null,arguments).exponent(.5)}function TB(){var t=[],e=ur;function n(r){if(r!=null&&!isNaN(r=+r))return e((Lm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ds),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>nbe(t,o/r))},n.copy=function(){return TB(e).domain(t)},fa.apply(n,arguments)}function Ib(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,c=ur,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-o)*(r*g<r*o?s:l),c(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),o=d(e=+e),a=d(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[t,e,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(c=g,m):c};function y(g){return function(v){var b,x,w;return arguments.length?([b,x,w]=v,c=Cbe(g,[b,x,w]),m):[c(0),c(.5),c(1)]}}return m.range=y(lf),m.rangeRound=y(_C),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(t),o=g(e),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function IB(){var t=zs(Ib()(ur));return t.copy=function(){return Ws(t,IB())},fa.apply(t,arguments)}function AB(){var t=IC(Ib()).domain([.1,1,10]);return t.copy=function(){return Ws(t,AB()).base(t.base())},fa.apply(t,arguments)}function CB(){var t=AC(Ib());return t.copy=function(){return Ws(t,CB()).constant(t.constant())},fa.apply(t,arguments)}function VC(){var t=CC(Ib());return t.copy=function(){return Ws(t,VC()).exponent(t.exponent())},fa.apply(t,arguments)}function y1e(){return VC.apply(null,arguments).exponent(.5)}const qj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tp,scaleDiverging:IB,scaleDivergingLog:AB,scaleDivergingPow:VC,scaleDivergingSqrt:y1e,scaleDivergingSymlog:CB,scaleIdentity:aB,scaleImplicit:sE,scaleLinear:a0,scaleLog:lB,scaleOrdinal:xC,scalePoint:Th,scalePow:PC,scaleQuantile:dB,scaleQuantize:fB,scaleRadial:uB,scaleSequential:_B,scaleSequentialLog:SB,scaleSequentialPow:$C,scaleSequentialQuantile:TB,scaleSequentialSqrt:g1e,scaleSequentialSymlog:EB,scaleSqrt:Ybe,scaleSymlog:cB,scaleThreshold:hB,scaleTime:p1e,scaleUtc:m1e,tickFormat:oB},Symbol.toStringTag,{value:"Module"}));var v1e=Zd;function x1e(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!v1e(a):n(a,s)))var s=a,l=o}return l}var PB=x1e;function b1e(t,e){return t>e}var w1e=b1e,_1e=PB,S1e=w1e,E1e=sf;function T1e(t){return t&&t.length?_1e(t,E1e,S1e):void 0}var I1e=T1e;const Ab=St(I1e);function A1e(t,e){return t<e}var C1e=A1e,P1e=PB,k1e=C1e,N1e=sf;function O1e(t){return t&&t.length?P1e(t,N1e,k1e):void 0}var R1e=O1e;const Cb=St(R1e);var j1e=ZA,D1e=Us,M1e=L8,L1e=Cr;function $1e(t,e){var n=L1e(t)?j1e:M1e;return n(t,D1e(e))}var V1e=$1e,F1e=D8,B1e=V1e;function U1e(t,e){return F1e(B1e(t,e),1)}var z1e=U1e;const W1e=St(z1e);var H1e=pC;function q1e(t,e){return H1e(t,e)}var K1e=q1e;const FC=St(K1e);var cf=1e9,G1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},UC,Vt=!0,ui="[DecimalError] ",$l=ui+"Invalid argument: ",BC=ui+"Exponent out of range: ",uf=Math.floor,dl=Math.pow,X1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$r,_n=1e7,jt=7,kB=9007199254740991,u0=uf(kB/jt),be={};be.absoluteValue=be.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};be.comparedTo=be.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};be.decimalPlaces=be.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*jt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};be.dividedBy=be.div=function(t){return Bo(this,new this.constructor(t))};be.dividedToIntegerBy=be.idiv=function(t){var e=this,n=e.constructor;return It(Bo(e,new n(t),0,1),n.precision)};be.equals=be.eq=function(t){return!this.cmp(t)};be.exponent=function(){return un(this)};be.greaterThan=be.gt=function(t){return this.cmp(t)>0};be.greaterThanOrEqualTo=be.gte=function(t){return this.cmp(t)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(t){return this.cmp(t)<0};be.lessThanOrEqualTo=be.lte=function(t){return this.cmp(t)<1};be.logarithm=be.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq($r))throw Error(ui+"NaN");if(n.s<1)throw Error(ui+(n.s?"NaN":"-Infinity"));return n.eq($r)?new r(0):(Vt=!1,e=Bo(kp(n,o),kp(t,o),o),Vt=!0,It(e,i))};be.minus=be.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?RB(e,t):NB(e,(t.s=-t.s,t))};be.modulo=be.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ui+"NaN");return n.s?(Vt=!1,e=Bo(n,t,0,1).times(t),Vt=!0,n.minus(e)):It(new r(n),i)};be.naturalExponential=be.exp=function(){return OB(this)};be.naturalLogarithm=be.ln=function(){return kp(this)};be.negated=be.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};be.plus=be.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?NB(e,t):RB(e,(t.s=-t.s,t))};be.precision=be.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($l+t);if(e=un(i)+1,r=i.d.length-1,n=r*jt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};be.squareRoot=be.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ui+"NaN")}for(t=un(s),Vt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=no(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=uf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Bo(s,o,a+2)).times(.5),no(o.d).slice(0,a)===(e=no(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(It(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Vt=!0,It(r,n)};be.times=be.mul=function(t){var e,n,r,i,o,a,s,l,c,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,c=m.length,l<c&&(o=h,h=m,m=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+m[r]*h[i-r-1]+e,o[i--]=s%_n|0,e=s/_n|0;o[i]=(o[i]+e)%_n|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Vt?It(t,f.precision):t};be.toDecimalPlaces=be.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(po(t,0,cf),e===void 0?e=r.rounding:po(e,0,8),It(n,t+un(n)+1,e))};be.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=cc(r,!0):(po(t,0,cf),e===void 0?e=i.rounding:po(e,0,8),r=It(new i(r),t+1,e),n=cc(r,!0,t+1)),n};be.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?cc(i):(po(t,0,cf),e===void 0?e=o.rounding:po(e,0,8),r=It(new o(i),t+un(i)+1,e),n=cc(r.abs(),!1,t+un(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};be.toInteger=be.toint=function(){var t=this,e=t.constructor;return It(new e(t),un(t)+1,e.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l($r);if(s=new l(s),!s.s){if(t.s<1)throw Error(ui+"Infinity");return s}if(s.eq($r))return s;if(r=l.precision,t.eq($r))return It(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=d<0?-d:d)<=kB){for(i=new l($r),e=Math.ceil(r/jt+4),Vt=!1;n%2&&(i=i.times(s),Gj(i.d,e)),n=uf(n/2),n!==0;)s=s.times(s),Gj(s.d,e);return Vt=!0,t.s<0?new l($r).div(i):It(i,r)}}else if(o<0)throw Error(ui+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Vt=!1,i=t.times(kp(s,r+c)),Vt=!0,i=OB(i),i.s=o,i};be.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=un(i),r=cc(i,n<=o.toExpNeg||n>=o.toExpPos)):(po(t,1,cf),e===void 0?e=o.rounding:po(e,0,8),i=It(new o(i),t,e),n=un(i),r=cc(i,t<=n||n<=o.toExpNeg,t)),r};be.toSignificantDigits=be.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(po(t,1,cf),e===void 0?e=r.rounding:po(e,0,8)),It(new r(n),t,e)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=un(t),n=t.constructor;return cc(t,e<=n.toExpNeg||e>=n.toExpPos)};function NB(t,e){var n,r,i,o,a,s,l,c,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Vt?It(e,f):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=c.length):(r=c,i=a,s=l.length),a=Math.ceil(f/jt),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=c.length,s-o<0&&(o=s,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/_n|0,l[o]%=_n;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Vt?It(e,f):e}function po(t,e,n){if(t!==~~t||t<e||t>n)throw Error($l+t)}function no(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=jt-r.length,n&&(o+=Ca(n)),o+=r;a=t[e],r=a+"",n=jt-r.length,n&&(o+=Ca(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Bo=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%_n|0,a=o/_n|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*_n+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,c,d,f,h,m,y,g,v,b,x,w,S,A,C,T,E,N=r.constructor,P=r.s==i.s?1:-1,R=r.d,O=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(ui+"Division by zero");for(l=r.e-i.e,T=O.length,A=R.length,m=new N(P),y=m.d=[],c=0;O[c]==(R[c]||0);)++c;if(O[c]>(R[c]||0)&&--l,o==null?x=o=N.precision:a?x=o+(un(r)-un(i))+1:x=o,x<0)return new N(0);if(x=x/jt+2|0,c=0,T==1)for(d=0,O=O[0],x++;(c<A||d)&&x--;c++)w=d*_n+(R[c]||0),y[c]=w/O|0,d=w%O|0;else{for(d=_n/(O[0]+1)|0,d>1&&(O=t(O,d),R=t(R,d),T=O.length,A=R.length),S=T,g=R.slice(0,T),v=g.length;v<T;)g[v++]=0;E=O.slice(),E.unshift(0),C=O[0],O[1]>=_n/2&&++C;do d=0,s=e(O,g,T,v),s<0?(b=g[0],T!=v&&(b=b*_n+(g[1]||0)),d=b/C|0,d>1?(d>=_n&&(d=_n-1),f=t(O,d),h=f.length,v=g.length,s=e(f,g,h,v),s==1&&(d--,n(f,T<h?E:O,h))):(d==0&&(s=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),n(g,f,v),s==-1&&(v=g.length,s=e(O,g,T,v),s<1&&(d++,n(g,T<v?E:O,v))),v=g.length):s===0&&(d++,g=[0]),y[c++]=d,s&&g[0]?g[v++]=R[S]||0:(g=[R[S]],v=1);while((S++<A||g[0]!==void 0)&&x--)}return y[0]||y.shift(),m.e=l,It(m,a?o+un(m)+1:o)}}();function OB(t,e){var n,r,i,o,a,s,l=0,c=0,d=t.constructor,f=d.precision;if(un(t)>16)throw Error(BC+un(t));if(!t.s)return new d($r);for(e==null?(Vt=!1,s=f):s=e,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(dl(2,c))/Math.LN10*2+5|0,s+=r,n=i=o=new d($r),d.precision=s;;){if(i=It(i.times(t),s),n=n.times(++l),a=o.plus(Bo(i,n,s)),no(a.d).slice(0,s)===no(o.d).slice(0,s)){for(;c--;)o=It(o.times(o),s);return d.precision=f,e==null?(Vt=!0,It(o,f)):o}o=a}}function un(t){for(var e=t.e*jt,n=t.d[0];n>=10;n/=10)e++;return e}function A1(t,e,n){if(e>t.LN10.sd())throw Vt=!0,n&&(t.precision=n),Error(ui+"LN10 precision limit exceeded");return It(new t(t.LN10),e)}function Ca(t){for(var e="";t--;)e+="0";return e}function kp(t,e){var n,r,i,o,a,s,l,c,d,f=1,h=10,m=t,y=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(ui+(m.s?"NaN":"-Infinity"));if(m.eq($r))return new g(0);if(e==null?(Vt=!1,c=v):c=e,m.eq(10))return e==null&&(Vt=!0),A1(g,c);if(c+=h,g.precision=c,n=no(y),r=n.charAt(0),o=un(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=no(m.d),r=n.charAt(0),f++;o=un(m),r>1?(m=new g("0."+n),o++):m=new g(r+"."+n.slice(1))}else return l=A1(g,c+2,v).times(o+""),m=kp(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=v,e==null?(Vt=!0,It(m,v)):m;for(s=a=m=Bo(m.minus($r),m.plus($r),c),d=It(m.times(m),c),i=3;;){if(a=It(a.times(d),c),l=s.plus(Bo(a,new g(i),c)),no(l.d).slice(0,c)===no(s.d).slice(0,c))return s=s.times(2),o!==0&&(s=s.plus(A1(g,c+2,v).times(o+""))),s=Bo(s,new g(f),c),g.precision=v,e==null?(Vt=!0,It(s,v)):s;s=l,i+=2}}function Kj(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=uf(n/jt),t.d=[],r=(n+1)%jt,n<0&&(r+=jt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=jt;r<i;)t.d.push(+e.slice(r,r+=jt));e=e.slice(r),r=jt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Vt&&(t.e>u0||t.e<-u0))throw Error(BC+n)}else t.s=0,t.e=0,t.d=[0];return t}function It(t,e,n){var r,i,o,a,s,l,c,d,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=jt,i=e,c=f[d=0];else{if(d=Math.ceil((r+1)/jt),o=f.length,d>=o)return t;for(c=o=f[d],a=1;o>=10;o/=10)a++;r%=jt,i=r-jt+a}if(n!==void 0&&(o=dl(10,a-i-1),s=c/o%10|0,l=e<0||f[d+1]!==void 0||c%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/dl(10,a-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=un(t),f.length=1,e=e-o-1,f[0]=dl(10,(jt-e%jt)%jt),t.e=uf(-e/jt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=dl(10,jt-r),f[d]=i>0?(c/dl(10,a-i)%dl(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==_n&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=_n)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(Vt&&(t.e>u0||t.e<-u0))throw Error(BC+un(t));return t}function RB(t,e){var n,r,i,o,a,s,l,c,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Vt?It(e,m):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(d=a<0,d?(n=l,a=-a,s=f.length):(n=f,r=c,s=l.length),i=Math.max(Math.ceil(m/jt),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=_n-1;--l[o],l[i]+=_n}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Vt?It(e,m):e):new h(0)}function cc(t,e,n){var r,i=un(t),o=no(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Ca(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ca(-i-1)+o,n&&(r=n-a)>0&&(o+=Ca(r))):i>=a?(o+=Ca(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Ca(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Ca(r))),t.s<0?"-"+o:o}function Gj(t,e){if(t.length>e)return t.length=e,!0}function jB(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error($l+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return Kj(a,o.toString())}else if(typeof o!="string")throw Error($l+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,X1e.test(o))Kj(a,o);else throw Error($l+o)}if(i.prototype=be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=jB,i.config=i.set=Q1e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Q1e(t){if(!t||typeof t!="object")throw Error(ui+"Object expected");var e,n,r,i=["precision",1,cf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(uf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error($l+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($l+n+": "+r);return this}var UC=jB(G1e);$r=new UC(1);const _t=UC;function Y1e(t){return t_e(t)||e_e(t)||Z1e(t)||J1e()}function J1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z1e(t,e){if(t){if(typeof t=="string")return dE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dE(t,e)}}function e_e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function t_e(t){if(Array.isArray(t))return dE(t)}function dE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var n_e=function(e){return e},DB={"@@functional/placeholder":!0},MB=function(e){return e===DB},Xj=function(e){return function n(){return arguments.length===0||arguments.length===1&&MB(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},r_e=function t(e,n){return e===1?n:Xj(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==DB}).length;return a>=e?n.apply(void 0,i):t(e-a,Xj(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=i.map(function(f){return MB(f)?l.shift():f});return n.apply(void 0,Y1e(d).concat(l))}))})},Pb=function(e){return r_e(e.length,e)},fE=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},i_e=Pb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),o_e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return n_e;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},hE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},LB=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function a_e(t){var e;return t===0?e=1:e=Math.floor(new _t(t).abs().log(10).toNumber())+1,e}function s_e(t,e,n){for(var r=new _t(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var l_e=Pb(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),c_e=Pb(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),u_e=Pb(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const kb={rangeStep:s_e,getDigitCount:a_e,interpolateNumber:l_e,uninterpolateNumber:c_e,uninterpolateTruncation:u_e};function pE(t){return h_e(t)||f_e(t)||$B(t)||d_e()}function d_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f_e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function h_e(t){if(Array.isArray(t))return mE(t)}function Np(t,e){return g_e(t)||m_e(t,e)||$B(t,e)||p_e()}function p_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $B(t,e){if(t){if(typeof t=="string")return mE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mE(t,e)}}function mE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m_e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function g_e(t){if(Array.isArray(t))return t}function VB(t){var e=Np(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function FB(t,e,n){if(t.lte(0))return new _t(0);var r=kb.getDigitCount(t.toNumber()),i=new _t(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new _t(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new _t(Math.ceil(l))}function y_e(t,e,n){var r=1,i=new _t(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new _t(10).pow(kb.getDigitCount(t)-1),i=new _t(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new _t(Math.floor(t)))}else t===0?i=new _t(Math.floor((e-1)/2)):n||(i=new _t(Math.floor(t)));var a=Math.floor((e-1)/2),s=o_e(i_e(function(l){return i.add(new _t(l-a).mul(r)).toNumber()}),fE);return s(0,e)}function BB(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new _t(0),tickMin:new _t(0),tickMax:new _t(0)};var o=FB(new _t(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new _t(0):(a=new _t(t).add(e).div(2),a=a.sub(new _t(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new _t(e).sub(a).div(o).toNumber()),c=s+l+1;return c>n?BB(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:o,tickMin:a.sub(new _t(s).mul(o)),tickMax:a.add(new _t(l).mul(o))})}function v_e(t){var e=Np(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=VB([n,r]),l=Np(s,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var f=d===1/0?[c].concat(pE(fE(0,i-1).map(function(){return 1/0}))):[].concat(pE(fE(0,i-1).map(function(){return-1/0})),[d]);return n>r?hE(f):f}if(c===d)return y_e(c,i,o);var h=BB(c,d,a,o),m=h.step,y=h.tickMin,g=h.tickMax,v=kb.rangeStep(y,g.add(new _t(.1).mul(m)),m);return n>r?hE(v):v}function x_e(t,e){var n=Np(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=VB([r,i]),s=Np(a,2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),f=FB(new _t(c).sub(l).div(d-1),o,0),h=[].concat(pE(kb.rangeStep(new _t(l),new _t(c).sub(new _t(.99).mul(f)),f)),[c]);return r>i?hE(h):h}var b_e=LB(v_e),w_e=LB(x_e),__e="Invariant failed";function uc(t,e){throw new Error(__e)}var S_e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function d0(){return d0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d0.apply(this,arguments)}function E_e(t,e){return C_e(t)||A_e(t,e)||I_e(t,e)||T_e()}function T_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I_e(t,e){if(t){if(typeof t=="string")return Qj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qj(t,e)}}function Qj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function C_e(t){if(Array.isArray(t))return t}function P_e(t,e){if(t==null)return{};var n=k_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function N_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WB(r.key),r)}}function R_e(t,e,n){return e&&O_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function j_e(t,e,n){return e=f0(e),D_e(t,UB()?Reflect.construct(e,n||[],f0(t).constructor):e.apply(t,n))}function D_e(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M_e(t)}function M_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UB=function(){return!!t})()}function f0(t){return f0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f0(t)}function L_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gE(t,e)}function gE(t,e){return gE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gE(t,e)}function zB(t,e,n){return e=WB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WB(t){var e=$_e(t,"string");return vd(e)=="symbol"?e:e+""}function $_e(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nb=function(t){function e(){return N_e(this,e),j_e(this,e,arguments)}return L_e(e,t),R_e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=P_e(r,S_e),m=ct(h,!1);this.props.direction==="x"&&d.type!=="number"&&uc();var y=l.map(function(g){var v=c(g,s),b=v.x,x=v.y,w=v.value,S=v.errorVal;if(!S)return null;var A=[],C,T;if(Array.isArray(S)){var E=E_e(S,2);C=E[0],T=E[1]}else C=T=S;if(o==="vertical"){var N=d.scale,P=x+i,R=P+a,O=P-a,j=N(w-C),$=N(w+T);A.push({x1:$,y1:R,x2:$,y2:O}),A.push({x1:j,y1:P,x2:$,y2:P}),A.push({x1:j,y1:R,x2:j,y2:O})}else if(o==="horizontal"){var V=f.scale,U=b+i,q=U-a,L=U+a,K=V(w-C),Q=V(w+T);A.push({x1:q,y1:Q,x2:L,y2:Q}),A.push({x1:U,y1:K,x2:U,y2:Q}),A.push({x1:q,y1:K,x2:L,y2:K})}return B.createElement(En,d0({className:"recharts-errorBar",key:"bar-".concat(A.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},m),A.map(function(ee){return B.createElement("line",d0({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return B.createElement(En,{className:"recharts-errorBars"},y)}}])}(B.Component);zB(Nb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});zB(Nb,"displayName","ErrorBar");function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function Yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yj(Object(n),!0).forEach(function(r){V_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V_e(t,e,n){return e=F_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F_e(t){var e=B_e(t,"string");return Op(e)=="symbol"?e:e+""}function B_e(t,e){if(Op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HB=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=jr(n,Eu);if(!a)return null;var s=Eu.defaultProps,l=s!==void 0?nl(nl({},s),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:o==="children"?c=(r||[]).reduce(function(d,f){var h=f.item,m=f.props,y=m.sectors||m.data||[];return d.concat(y.map(function(g){return{type:a.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?nl(nl({},h),f.props):{},y=m.dataKey,g=m.name,v=m.legendType,b=m.hide;return{inactive:b,dataKey:y,type:l.iconType||v||"square",color:zC(f),value:g||y,payload:m}}),nl(nl(nl({},l),Eu.getWithHeight(a,i)),{},{payload:c,item:a})};function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}function Jj(t){return H_e(t)||W_e(t)||z_e(t)||U_e()}function U_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z_e(t,e){if(t){if(typeof t=="string")return yE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yE(t,e)}}function W_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function H_e(t){if(Array.isArray(t))return yE(t)}function yE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zj(Object(n),!0).forEach(function(r){Iu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iu(t,e,n){return e=q_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q_e(t){var e=K_e(t,"string");return Rp(e)=="symbol"?e:e+""}function K_e(t,e){if(Rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mo(t,e,n){return mt(t)||mt(e)?n:mn(e)?ai(t,e,n):et(e)?e(t):n}function Ih(t,e,n,r){var i=W1e(t,function(s){return mo(s,e)});if(n==="number"){var o=i.filter(function(s){return me(s)||parseFloat(s)});return o.length?[Cb(o),Ab(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!mt(s)}):i;return a.map(function(s){return mn(s)||s instanceof Date?s:""})}var G_e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<s;c++){var d=c>0?i[c-1].coordinate:i[s-1].coordinate,f=i[c].coordinate,h=c>=s-1?i[0].coordinate:i[c+1].coordinate,m=void 0;if(Ci(f-d)!==Ci(h-f)){var y=[];if(Ci(h-f)===Ci(l[1]-l[0])){m=h;var g=f+l[1]-l[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{m=d;var v=h+l[1]-l[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){a=i[c].index;break}}else{var x=Math.min(d,h),w=Math.max(d,h);if(e>(x+f)/2&&e<=(w+f)/2){a=i[c].index;break}}}else for(var S=0;S<s;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<s-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===s-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){a=r[S].index;break}return a},zC=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?en(en({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},X_e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,c=s.length;l<c;l++)for(var d=o[s[l]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var y=d[f[h]],g=y.items,v=y.cateAxisId,b=g.filter(function(T){return Vo(T.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,w=x!==void 0?en(en({},x),b[0].props):b[0].props,S=w.barSize,A=w[v];a[A]||(a[A]=[]);var C=mt(S)?n:S;a[A].push({item:b[0],stackList:b.slice(1),barSize:mt(C)?void 0:lc(C,r,0)})}}return a},Q_e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var c=lc(n,i,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,m=i/l,y=a.reduce(function(S,A){return S+A.barSize||0},0);y+=(l-1)*c,y>=i&&(y-=(l-1)*c,c=0),y>=i&&m>0&&(h=!0,m*=.9,y=l*m);var g=(i-y)/2>>0,v={offset:g-c,size:0};d=a.reduce(function(S,A){var C={item:A.item,position:{offset:v.offset+v.size+c,size:h?m:A.barSize}},T=[].concat(Jj(S),[C]);return v=T[T.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(E){T.push({item:E,position:v})}),T},f)}else{var b=lc(r,i,0,!0);i-2*b-(l-1)*c<=0&&(c=0);var x=(i-2*b-(l-1)*c)/l;x>1&&(x>>=0);var w=s===+s?Math.min(x,s):x;d=a.reduce(function(S,A,C){var T=[].concat(Jj(S),[{item:A.item,position:{offset:b+(x+c)*C+(x-w)/2,size:w}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(E){T.push({item:E,position:T[T.length-1].position})}),T},f)}return d},Y_e=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),c=HB({children:o,legendWidth:l});if(c){var d=i||{},f=d.width,h=d.height,m=c.align,y=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&m!=="center"&&me(e[m]))return en(en({},e),{},Iu({},m,e[m]+(f||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&y!=="middle"&&me(e[y]))return en(en({},e),{},Iu({},y,e[y]+(h||0)))}return e},J_e=function(e,n,r){return mt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},qB=function(e,n,r,i,o){var a=n.props.children,s=Ri(a,Nb).filter(function(c){return J_e(i,o,c.props.direction)});if(s&&s.length){var l=s.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var f=mo(d,r);if(mt(f))return c;var h=Array.isArray(f)?[Cb(f),Ab(f)]:[f,f],m=l.reduce(function(y,g){var v=mo(d,g,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,y[0]),Math.max(x,y[1])]},[1/0,-1/0]);return[Math.min(m[0],c[0]),Math.max(m[1],c[1])]},[1/0,-1/0])}return null},Z_e=function(e,n,r,i,o){var a=n.map(function(s){return qB(e,s,r,o,i)}).filter(function(s){return!mt(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},KB=function(e,n,r,i,o){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&qB(e,l,c,i)||Ih(e,c,r,o)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,c){for(var d=0,f=c.length;d<f;d++)s[c[d]]||(s[c[d]]=!0,l.push(c[d]));return l},[])},GB=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},XB=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Do=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ci(s[0]-s[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+c,value:f,offset:c}});return d.filter(function(f){return!Dm(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+c,value:f,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,h){return{coordinate:i(f)+c,value:o?o[f]:f,index:h,offset:c}})},C1=new WeakMap,Wg=function(e,n){if(typeof n!="function")return e;C1.has(e)||C1.set(e,new WeakMap);var r=C1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},eSe=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:Tp(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:a0(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Th(),realScaleType:"point"}:o==="category"?{scale:Tp(),realScaleType:"band"}:{scale:a0(),realScaleType:"linear"};if(jm(i)){var l="scale".concat(pb(i));return{scale:(qj[l]||Th)(),realScaleType:qj[l]?l:"point"}}return et(i)?{scale:i}:{scale:Th(),realScaleType:"point"}},eD=1e-4,tSe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-eD,a=Math.max(i[0],i[1])+eD,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},nSe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},rSe=function(e,n){if(!n||n.length!==2||!me(n[0])||!me(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!me(e[0])||e[0]<r)&&(o[0]=r),(!me(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},iSe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Dm(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},oSe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Dm(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},aSe={sign:iSe,expand:bde,none:ud,silhouette:wde,wiggle:_de,positive:oSe},sSe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=aSe[r],a=xde().keys(i).value(function(s,l){return+mo(s,l,0)}).order(US).offset(o);return a(e)},lSe=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},c=s.reduce(function(f,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?en(en({},h.type.defaultProps),h.props):h.props,g=y.stackId,v=y.hide;if(v)return f;var b=y[r],x=f[b]||{hasStack:!1,stackGroups:{}};if(mn(g)){var w=x.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[g]=w}else x.stackGroups[hb("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return en(en({},f),{},Iu({},b,x))},l),d={};return Object.keys(c).reduce(function(f,h){var m=c[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,v){var b=m.stackGroups[v];return en(en({},g),{},Iu({},v,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:sSe(e,b.items,o)}))},y)}return en(en({},f),{},Iu({},h,m))},d)},cSe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=b_e(c,o,s);return e.domain([Cb(d),Ab(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=w_e(f,o,s);return{niceTicks:h}}return null},tD=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=mo(a,n.dataKey,n.domain[s]);return mt(l)?null:n.scale(l)-o/2+i},uSe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},dSe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?en(en({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(mn(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},fSe=function(e){return e.reduce(function(n,r){return[Cb(r.concat([n[0]]).filter(me)),Ab(r.concat([n[1]]).filter(me))]},[1/0,-1/0])},QB=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(c,d){var f=fSe(d.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},nD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vE=function(e,n,r){if(et(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(me(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(nD.test(e[0])){var o=+nD.exec(e[0])[1];i[0]=n[0]-o}else et(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(me(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(rD.test(e[1])){var a=+rD.exec(e[1])[1];i[1]=n[1]+a}else et(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},h0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=gC(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var c=o[s],d=o[s-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},iD=function(e,n,r){return!e||!e.length||FC(e,ai(r,"type.defaultProps.domain"))?n:e},YB=function(e,n){var r=e.type.defaultProps?en(en({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return en(en({},ct(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:zC(e),value:mo(n,i),type:l,payload:n,chartType:c,hide:d})};function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function oD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oD(Object(n),!0).forEach(function(r){hSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hSe(t,e,n){return e=pSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pSe(t){var e=mSe(t,"string");return jp(e)=="symbol"?e:e+""}function mSe(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p0=Math.PI/180,gSe=function(e){return e*180/Math.PI},Dn=function(e,n,r,i){return{x:e+Math.cos(-p0*i)*r,y:n+Math.sin(-p0*i)*r}},ySe=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},vSe=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=ySe({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:s,angle:gSe(c),angleInRadian:c}},xSe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},bSe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},sD=function(e,n){var r=e.x,i=e.y,o=vSe({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var d=xSe(n),f=d.startAngle,h=d.endAngle,m=s,y;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;y=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=f}return y?aD(aD({},n),{},{radius:a,angle:bSe(m,n)}):null};function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}var wSe=["offset"];function _Se(t){return ISe(t)||TSe(t)||ESe(t)||SSe()}function SSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ESe(t,e){if(t){if(typeof t=="string")return xE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xE(t,e)}}function TSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ISe(t){if(Array.isArray(t))return xE(t)}function xE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ASe(t,e){if(t==null)return{};var n=CSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lD(Object(n),!0).forEach(function(r){PSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PSe(t,e,n){return e=kSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kSe(t){var e=NSe(t,"string");return Dp(e)=="symbol"?e:e+""}function NSe(t,e){if(Dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mp.apply(this,arguments)}var OSe=function(e){var n=e.value,r=e.formatter,i=mt(e.children)?n:e.children;return et(r)?r(i):i},RSe=function(e,n){var r=Ci(n-e),i=Math.min(Math.abs(n-e),360);return r*i},jSe=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,c=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,y=l.endAngle,g=l.clockWise,v=(f+h)/2,b=RSe(m,y),x=b>=0?1:-1,w,S;i==="insideStart"?(w=m+x*a,S=g):i==="insideEnd"?(w=y-x*a,S=!g):i==="end"&&(w=y+x*a,S=g),S=b<=0?S:!S;var A=Dn(c,d,v,w),C=Dn(c,d,v,w+(S?1:-1)*359),T="M".concat(A.x,",").concat(A.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(C.x,",").concat(C.y),E=mt(e.id)?hb("recharts-radial-line-"):e.id;return B.createElement("text",Mp({},r,{dominantBaseline:"central",className:st("recharts-radial-bar-label",s)}),B.createElement("defs",null,B.createElement("path",{id:E,d:T})),B.createElement("textPath",{xlinkHref:"#".concat(E)},n))},DSe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,c=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var m=Dn(a,s,c+r,h),y=m.x,g=m.y;return{x:y,y:g,textAnchor:y>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,b=Dn(a,s,v,h),x=b.x,w=b.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},MSe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,c=a.width,d=a.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",y=f>0?"start":"end",g=c>=0?1:-1,v=g*i,b=g>0?"end":"start",x=g>0?"start":"end";if(o==="top"){var w={x:s+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return fn(fn({},w),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var S={x:s+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:y};return fn(fn({},S),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(o==="left"){var A={x:s-v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return fn(fn({},A),r?{width:Math.max(A.x-r.x,0),height:d}:{})}if(o==="right"){var C={x:s+c+v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return fn(fn({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:d}:{})}var T=r?{width:c,height:d}:{};return o==="insideLeft"?fn({x:s+v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},T):o==="insideRight"?fn({x:s+c-v,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},T):o==="insideTop"?fn({x:s+c/2,y:l+h,textAnchor:"middle",verticalAnchor:y},T):o==="insideBottom"?fn({x:s+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:m},T):o==="insideTopLeft"?fn({x:s+v,y:l+h,textAnchor:x,verticalAnchor:y},T):o==="insideTopRight"?fn({x:s+c-v,y:l+h,textAnchor:b,verticalAnchor:y},T):o==="insideBottomLeft"?fn({x:s+v,y:l+d-h,textAnchor:x,verticalAnchor:m},T):o==="insideBottomRight"?fn({x:s+c-v,y:l+d-h,textAnchor:b,verticalAnchor:m},T):ef(o)&&(me(o.x)||Sl(o.x))&&(me(o.y)||Sl(o.y))?fn({x:s+lc(o.x,c),y:l+lc(o.y,d),textAnchor:"end",verticalAnchor:"end"},T):fn({x:s+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},T)},LSe=function(e){return"cx"in e&&me(e.cx)};function Qn(t){var e=t.offset,n=e===void 0?5:e,r=ASe(t,wSe),i=fn({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,c=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||mt(s)&&mt(l)&&!_.isValidElement(c)&&!et(c))return null;if(_.isValidElement(c))return _.cloneElement(c,i);var m;if(et(c)){if(m=_.createElement(c,i),_.isValidElement(m))return m}else m=OSe(i);var y=LSe(o),g=ct(i,!0);if(y&&(a==="insideStart"||a==="insideEnd"||a==="end"))return jSe(i,m,g);var v=y?DSe(i):MSe(i);return B.createElement(Zv,Mp({className:st("recharts-label",f)},g,v,{breakAll:h}),m)}Qn.displayName="Label";var JB=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,m=e.top,y=e.left,g=e.width,v=e.height,b=e.clockWise,x=e.labelViewBox;if(x)return x;if(me(g)&&me(v)){if(me(f)&&me(h))return{x:f,y:h,width:g,height:v};if(me(m)&&me(y))return{x:m,y,width:g,height:v}}return me(f)&&me(h)?{x:f,y:h,width:0,height:0}:me(n)&&me(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:d||l||s||0,clockWise:b}:e.viewBox?e.viewBox:{}},$Se=function(e,n){return e?e===!0?B.createElement(Qn,{key:"label-implicit",viewBox:n}):mn(e)?B.createElement(Qn,{key:"label-implicit",viewBox:n,value:e}):_.isValidElement(e)?e.type===Qn?_.cloneElement(e,{key:"label-implicit",viewBox:n}):B.createElement(Qn,{key:"label-implicit",content:e,viewBox:n}):et(e)?B.createElement(Qn,{key:"label-implicit",content:e,viewBox:n}):ef(e)?B.createElement(Qn,Mp({viewBox:n},e,{key:"label-implicit"})):null:null},VSe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=JB(e),a=Ri(i,Qn).map(function(l,c){return _.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return a;var s=$Se(e.label,n||o);return[s].concat(_Se(a))};Qn.parseViewBox=JB;Qn.renderCallByParent=VSe;function FSe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var BSe=FSe;const USe=St(BSe);function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}var zSe=["valueAccessor"],WSe=["data","dataKey","clockWise","id","textBreakAll"];function HSe(t){return XSe(t)||GSe(t)||KSe(t)||qSe()}function qSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KSe(t,e){if(t){if(typeof t=="string")return bE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bE(t,e)}}function GSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XSe(t){if(Array.isArray(t))return bE(t)}function bE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m0(){return m0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m0.apply(this,arguments)}function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){QSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QSe(t,e,n){return e=YSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YSe(t){var e=JSe(t,"string");return Lp(e)=="symbol"?e:e+""}function JSe(t,e){if(Lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dD(t,e){if(t==null)return{};var n=ZSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var eEe=function(e){return Array.isArray(e.value)?USe(e.value):e.value};function Vl(t){var e=t.valueAccessor,n=e===void 0?eEe:e,r=dD(t,zSe),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,c=dD(r,WSe);return!i||!i.length?null:B.createElement(En,{className:"recharts-label-list"},i.map(function(d,f){var h=mt(o)?n(d,f):mo(d&&d.payload,o),m=mt(s)?{}:{id:"".concat(s,"-").concat(f)};return B.createElement(Qn,m0({},ct(d,!0),c,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Qn.parseViewBox(mt(a)?d:uD(uD({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Vl.displayName="LabelList";function tEe(t,e){return t?t===!0?B.createElement(Vl,{key:"labelList-implicit",data:e}):B.isValidElement(t)||et(t)?B.createElement(Vl,{key:"labelList-implicit",data:e,content:t}):ef(t)?B.createElement(Vl,m0({data:e},t,{key:"labelList-implicit"})):null:null}function nEe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Ri(r,Vl).map(function(a,s){return _.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=tEe(t.label,e);return[o].concat(HSe(i))}Vl.renderCallByParent=nEe;function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wE.apply(this,arguments)}function fD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fD(Object(n),!0).forEach(function(r){rEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rEe(t,e,n){return e=iEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iEe(t){var e=oEe(t,"string");return $p(e)=="symbol"?e:e+""}function oEe(t,e){if($p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aEe=function(e,n){var r=Ci(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Hg=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(s?1:-1)+i,f=Math.asin(l/d)/p0,h=c?o:o+a*f,m=Dn(n,r,d,h),y=Dn(n,r,i,h),g=c?o-a*f:o,v=Dn(n,r,d*Math.cos(f*p0),g);return{center:m,circleTangency:y,lineTangency:v,theta:f}},ZB=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=aEe(a,s),c=a+l,d=Dn(n,r,o,a),f=Dn(n,r,o,c),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Dn(n,r,i,a),y=Dn(n,r,i,c);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},sEe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,f=Ci(d-c),h=Hg({cx:n,cy:r,radius:o,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),m=h.circleTangency,y=h.lineTangency,g=h.theta,v=Hg({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:l}),b=v.circleTangency,x=v.lineTangency,w=v.theta,S=l?Math.abs(c-d):Math.abs(c-d)-g-w;if(S<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):ZB({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d});var A="M ".concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var C=Hg({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),T=C.circleTangency,E=C.lineTangency,N=C.theta,P=Hg({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=P.circleTangency,O=P.lineTangency,j=P.theta,$=l?Math.abs(c-d):Math.abs(c-d)-N-j;if($<0&&a===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},lEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},eU=function(e){var n=hD(hD({},lEe),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(a<o||d===f)return null;var m=st("recharts-sector",h),y=a-o,g=lc(s,y,0,!0),v;return g>0&&Math.abs(d-f)<360?v=sEe({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):v=ZB({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:d,endAngle:f}),B.createElement("path",wE({},ct(n,!0),{className:m,d:v,role:"img"}))};function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function _E(){return _E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_E.apply(this,arguments)}function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){cEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cEe(t,e,n){return e=uEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uEe(t){var e=dEe(t,"string");return Vp(e)=="symbol"?e:e+""}function dEe(t,e){if(Vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gD={curveBasisClosed:lde,curveBasisOpen:cde,curveBasis:sde,curveBumpX:Kue,curveBumpY:Gue,curveLinearClosed:ude,curveLinear:gb,curveMonotoneX:dde,curveMonotoneY:fde,curveNatural:hde,curveStep:pde,curveStepAfter:gde,curveStepBefore:mde},qg=function(e){return e.x===+e.x&&e.y===+e.y},Hf=function(e){return e.x},qf=function(e){return e.y},fEe=function(e,n){if(et(e))return e;var r="curve".concat(pb(e));return(r==="curveMonotone"||r==="curveBump")&&n?gD["".concat(r).concat(n==="vertical"?"Y":"X")]:gD[r]||gb},hEe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=fEe(r,s),f=c?o.filter(function(g){return qg(g)}):o,h;if(Array.isArray(a)){var m=c?a.filter(function(g){return qg(g)}):a,y=f.map(function(g,v){return mD(mD({},g),{},{base:m[v]})});return s==="vertical"?h=Mg().y(qf).x1(Hf).x0(function(g){return g.base.x}):h=Mg().x(Hf).y1(qf).y0(function(g){return g.base.y}),h.defined(qg).curve(d),h(y)}return s==="vertical"&&me(a)?h=Mg().y(qf).x1(Hf).x0(a):me(a)?h=Mg().x(Hf).y1(qf).y0(a):h=e8().x(Hf).y(qf),h.defined(qg).curve(d),h(f)},yD=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?hEe(e):i;return B.createElement("path",_E({},ct(e,!1),$v(e),{className:st("recharts-curve",n),d:a,ref:o}))},tU={exports:{}},pEe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mEe=pEe,gEe=mEe;function nU(){}function rU(){}rU.resetWarningCache=nU;var yEe=function(){function t(r,i,o,a,s,l){if(l!==gEe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:rU,resetWarningCache:nU};return n.PropTypes=n,n};tU.exports=yEe();var vEe=tU.exports;const He=St(vEe);var xEe=Object.getOwnPropertyNames,bEe=Object.getOwnPropertySymbols,wEe=Object.prototype.hasOwnProperty;function vD(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Kg(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function xD(t){return xEe(t).concat(bEe(t))}var iU=Object.hasOwn||function(t,e){return wEe.call(t,e)};function df(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var oU="_owner",bD=Object.getOwnPropertyDescriptor,wD=Object.keys;function _Ee(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function SEe(t,e){return df(t.getTime(),e.getTime())}function _D(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),o=0,a,s;(a=i.next())&&!a.done;){for(var l=e.entries(),c=!1,d=0;(s=l.next())&&!s.done;){var f=a.value,h=f[0],m=f[1],y=s.value,g=y[0],v=y[1];!c&&!r[d]&&(c=n.equals(h,g,o,d,t,e,n)&&n.equals(m,v,h,g,t,e,n))&&(r[d]=!0),d++}if(!c)return!1;o++}return!0}function EEe(t,e,n){var r=wD(t),i=r.length;if(wD(e).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===oU&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!iU(e,o)||!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function Kf(t,e,n){var r=xD(t),i=r.length;if(xD(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],o===oU&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!iU(e,o)||!n.equals(t[o],e[o],o,o,t,e,n)||(a=bD(t,o),s=bD(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function TEe(t,e){return df(t.valueOf(),e.valueOf())}function IEe(t,e){return t.source===e.source&&t.flags===e.flags}function SD(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),o,a;(o=i.next())&&!o.done;){for(var s=e.values(),l=!1,c=0;(a=s.next())&&!a.done;)!l&&!r[c]&&(l=n.equals(o.value,a.value,o.value,a.value,t,e,n))&&(r[c]=!0),c++;if(!l)return!1}return!0}function AEe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var CEe="[object Arguments]",PEe="[object Boolean]",kEe="[object Date]",NEe="[object Map]",OEe="[object Number]",REe="[object Object]",jEe="[object RegExp]",DEe="[object Set]",MEe="[object String]",LEe=Array.isArray,ED=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,TD=Object.assign,$Ee=Object.prototype.toString.call.bind(Object.prototype.toString);function VEe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,a=t.areRegExpsEqual,s=t.areSetsEqual,l=t.areTypedArraysEqual;return function(d,f,h){if(d===f)return!0;if(d==null||f==null||typeof d!="object"||typeof f!="object")return d!==d&&f!==f;var m=d.constructor;if(m!==f.constructor)return!1;if(m===Object)return i(d,f,h);if(LEe(d))return e(d,f,h);if(ED!=null&&ED(d))return l(d,f,h);if(m===Date)return n(d,f,h);if(m===RegExp)return a(d,f,h);if(m===Map)return r(d,f,h);if(m===Set)return s(d,f,h);var y=$Ee(d);return y===kEe?n(d,f,h):y===jEe?a(d,f,h):y===NEe?r(d,f,h):y===DEe?s(d,f,h):y===REe?typeof d.then!="function"&&typeof f.then!="function"&&i(d,f,h):y===CEe?i(d,f,h):y===PEe||y===OEe||y===MEe?o(d,f,h):!1}}function FEe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Kf:_Ee,areDatesEqual:SEe,areMapsEqual:r?vD(_D,Kf):_D,areObjectsEqual:r?Kf:EEe,arePrimitiveWrappersEqual:TEe,areRegExpsEqual:IEe,areSetsEqual:r?vD(SD,Kf):SD,areTypedArraysEqual:r?Kf:AEe};if(n&&(i=TD({},i,n(i))),e){var o=Kg(i.areArraysEqual),a=Kg(i.areMapsEqual),s=Kg(i.areObjectsEqual),l=Kg(i.areSetsEqual);i=TD({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function BEe(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function UEe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,c){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,m=d.meta;return n(l,c,{cache:h,equals:i,meta:m,strict:o})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,a)}}var zEe=Hs();Hs({strict:!0});Hs({circular:!0});Hs({circular:!0,strict:!0});Hs({createInternalComparator:function(){return df}});Hs({strict:!0,createInternalComparator:function(){return df}});Hs({circular:!0,createInternalComparator:function(){return df}});Hs({circular:!0,createInternalComparator:function(){return df},strict:!0});function Hs(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=FEe(t),l=VEe(s),c=r?r(l):BEe(l);return UEe({circular:n,comparator:l,createState:i,equals:c,strict:a})}function WEe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function ID(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):WEe(i)};requestAnimationFrame(r)}function SE(t){"@babel/helpers - typeof";return SE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SE(t)}function HEe(t){return XEe(t)||GEe(t)||KEe(t)||qEe()}function qEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KEe(t,e){if(t){if(typeof t=="string")return AD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AD(t,e)}}function AD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XEe(t){if(Array.isArray(t))return t}function QEe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=HEe(a),l=s[0],c=s.slice(1);if(typeof l=="number"){ID(i.bind(null,c),l);return}i(l),ID(i.bind(null,c));return}SE(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function CD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(n),!0).forEach(function(r){aU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aU(t,e,n){return e=YEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YEe(t){var e=JEe(t,"string");return Fp(e)==="symbol"?e:String(e)}function JEe(t,e){if(Fp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZEe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},eTe=function(e){return e},tTe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ah=function(e,n){return Object.keys(n).reduce(function(r,i){return PD(PD({},r),{},aU({},i,e(i,n[i])))},{})},kD=function(e,n,r){return e.map(function(i){return"".concat(tTe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function nTe(t,e){return oTe(t)||iTe(t,e)||sU(t,e)||rTe()}function rTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function oTe(t){if(Array.isArray(t))return t}function aTe(t){return cTe(t)||lTe(t)||sU(t)||sTe()}function sTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sU(t,e){if(t){if(typeof t=="string")return EE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EE(t,e)}}function lTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cTe(t){if(Array.isArray(t))return EE(t)}function EE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var g0=1e-4,lU=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},cU=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},ND=function(e,n){return function(r){var i=lU(e,n);return cU(i,r)}},uTe=function(e,n){return function(r){var i=lU(e,n),o=[].concat(aTe(i.map(function(a,s){return a*s}).slice(1)),[0]);return cU(o,r)}},OD=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=nTe(c,4);i=d[0],o=d[1],a=d[2],s=d[3]}}}var f=ND(i,a),h=ND(o,s),m=uTe(i,a),y=function(b){return b>1?1:b<0?0:b},g=function(b){for(var x=b>1?1:b,w=x,S=0;S<8;++S){var A=f(w)-x,C=m(w);if(Math.abs(A-x)<g0||C<g0)return h(w);w=y(w-A/C)}return h(w)};return g.isStepper=!1,g},dTe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(d,f,h){var m=-(d-f)*r,y=h*o,g=h+(m-y)*s/1e3,v=h*s/1e3+d;return Math.abs(v-f)<g0&&Math.abs(g)<g0?[f,0]:[v,g]};return l.isStepper=!0,l.dt=s,l},fTe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OD(i);case"spring":return dTe();default:if(i.split("(")[0]==="cubic-bezier")return OD(i)}return typeof i=="function"?i:null};function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function RD(t){return mTe(t)||pTe(t)||uU(t)||hTe()}function hTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mTe(t){if(Array.isArray(t))return IE(t)}function jD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(n),!0).forEach(function(r){TE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TE(t,e,n){return e=gTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gTe(t){var e=yTe(t,"string");return Bp(e)==="symbol"?e:String(e)}function yTe(t,e){if(Bp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vTe(t,e){return wTe(t)||bTe(t,e)||uU(t,e)||xTe()}function xTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uU(t,e){if(t){if(typeof t=="string")return IE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IE(t,e)}}function IE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function wTe(t){if(Array.isArray(t))return t}var y0=function(e,n,r){return e+(n-e)*r},AE=function(e){var n=e.from,r=e.to;return n!==r},_Te=function t(e,n,r){var i=Ah(function(o,a){if(AE(a)){var s=e(a.from,a.to,a.velocity),l=vTe(s,2),c=l[0],d=l[1];return On(On({},a),{},{from:c,velocity:d})}return a},n);return r<1?Ah(function(o,a){return AE(a)?On(On({},a),{},{velocity:y0(a.velocity,i[o].velocity,r),from:y0(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const STe=function(t,e,n,r,i){var o=ZEe(t,e),a=o.reduce(function(v,b){return On(On({},v),{},TE({},b,[t[b],e[b]]))},{}),s=o.reduce(function(v,b){return On(On({},v),{},TE({},b,{from:t[b],velocity:0,to:e[b]}))},{}),l=-1,c,d,f=function(){return null},h=function(){return Ah(function(b,x){return x.from},s)},m=function(){return!Object.values(s).filter(AE).length},y=function(b){c||(c=b);var x=b-c,w=x/n.dt;s=_Te(n,s,w),i(On(On(On({},t),e),h())),c=b,m()||(l=requestAnimationFrame(f))},g=function(b){d||(d=b);var x=(b-d)/r,w=Ah(function(A,C){return y0.apply(void 0,RD(C).concat([n(x)]))},a);if(i(On(On(On({},t),e),w)),x<1)l=requestAnimationFrame(f);else{var S=Ah(function(A,C){return y0.apply(void 0,RD(C).concat([n(1)]))},a);i(On(On(On({},t),e),S))}};return f=n.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}var ETe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function TTe(t,e){if(t==null)return{};var n=ITe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ITe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function P1(t){return kTe(t)||PTe(t)||CTe(t)||ATe()}function ATe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CTe(t,e){if(t){if(typeof t=="string")return CE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CE(t,e)}}function PTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kTe(t){if(Array.isArray(t))return CE(t)}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DD(Object(n),!0).forEach(function(r){sh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sh(t,e,n){return e=dU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dU(r.key),r)}}function RTe(t,e,n){return e&&OTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dU(t){var e=jTe(t,"string");return xd(e)==="symbol"?e:String(e)}function jTe(t,e){if(xd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PE(t,e)}function PE(t,e){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PE(t,e)}function MTe(t){var e=LTe();return function(){var r=v0(t),i;if(e){var o=v0(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return kE(this,i)}}function kE(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NE(t)}function NE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v0(t){return v0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},v0(t)}var As=function(t){DTe(n,t);var e=MTe(n);function n(r,i){var o;NTe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,c=a.from,d=a.to,f=a.steps,h=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(NE(o)),o.changeStyle=o.changeStyle.bind(NE(o)),!s||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),kE(o);if(f&&f.length)o.state={style:f[0].style};else if(c){if(typeof h=="function")return o.state={style:c},kE(o);o.state={style:l?sh({},l,c):c}}else o.state={style:{}};return o}return RTe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(s){if(!a){var m={style:l?sh({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(m);return}if(!(zEe(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||c?f:i.to;if(this.state&&h){var v={style:l?sh({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(gi(gi({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,c=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=STe(a,s,fTe(c),l,this.changeStyle),y=function(){o.stopJSAnimation=m()};this.manager.start([h,d,y,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,c=a[0],d=c.style,f=c.duration,h=f===void 0?0:f,m=function(g,v,b){if(b===0)return g;var x=v.duration,w=v.easing,S=w===void 0?"ease":w,A=v.style,C=v.properties,T=v.onAnimationEnd,E=b>0?a[b-1]:v,N=C||Object.keys(A);if(typeof S=="function"||S==="spring")return[].concat(P1(g),[o.runJSAnimation.bind(o,{from:E.style,to:A,duration:x,easing:S}),x]);var P=kD(N,x,S),R=gi(gi(gi({},E.style),A),{},{transition:P});return[].concat(P1(g),[R,x,T]).filter(eTe)};return this.manager.start([l].concat(P1(a.reduce(m,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=QEe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=s?sh({},s,l):l,v=kD(Object.keys(g),a,c);y.start([d,o,gi(gi({},g),{},{transition:v}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=TTe(i,ETe),c=_.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!s||c===0||a<=0)return o;var f=function(m){var y=m.props,g=y.style,v=g===void 0?{}:g,b=y.className,x=_.cloneElement(m,gi(gi({},l),{},{style:gi(gi({},v),d),className:b}));return x};return c===1?f(_.Children.only(o)):B.createElement("div",null,_.Children.map(o,function(h){return f(h)}))}}]),n}(_.PureComponent);As.displayName="Animate";As.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};As.propTypes={from:He.oneOfType([He.object,He.string]),to:He.oneOfType([He.object,He.string]),attributeName:He.string,duration:He.number,begin:He.number,easing:He.oneOfType([He.string,He.func]),steps:He.arrayOf(He.shape({duration:He.number.isRequired,style:He.object.isRequired,easing:He.oneOfType([He.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),He.func]),properties:He.arrayOf("string"),onAnimationEnd:He.func})),children:He.oneOfType([He.node,He.func]),isActive:He.bool,canBegin:He.bool,onAnimationEnd:He.func,shouldReAnimate:He.bool,onAnimationStart:He.func,onAnimationReStart:He.func};He.object,He.object,He.object,He.element;He.object,He.object,He.object,He.oneOfType([He.array,He.element]),He.any;function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function x0(){return x0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x0.apply(this,arguments)}function $Te(t,e){return UTe(t)||BTe(t,e)||FTe(t,e)||VTe()}function VTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FTe(t,e){if(t){if(typeof t=="string")return MD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MD(t,e)}}function MD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function UTe(t){if(Array.isArray(t))return t}function LD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(n),!0).forEach(function(r){zTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zTe(t,e,n){return e=WTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WTe(t){var e=HTe(t,"string");return Up(e)=="symbol"?e:e+""}function HTe(t,e){if(Up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VD=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=o[h]>a?a:o[h];d="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+s*f[1])),d+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-s*f[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var y=Math.min(a,o);d="M ".concat(e,",").concat(n+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+l*y,",").concat(n,`
            L `).concat(e+r-l*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r,",").concat(n+s*y,`
            L `).concat(e+r,",").concat(n+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e+r-l*y,",").concat(n+i,`
            L `).concat(e+l*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(c,",").concat(e,",").concat(n+i-s*y," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},qTe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var c=Math.min(o,o+s),d=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=c&&r<=d&&i>=f&&i<=h}return!1},KTe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WC=function(e){var n=$D($D({},KTe),e),r=_.useRef(),i=_.useState(-1),o=$Te(i,2),a=o[0],s=o[1];_.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var l=n.x,c=n.y,d=n.width,f=n.height,h=n.radius,m=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var w=st("recharts-rectangle",m);return x?B.createElement(As,{canBegin:a>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:g,animationEasing:y,isActive:x},function(S){var A=S.width,C=S.height,T=S.x,E=S.y;return B.createElement(As,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:y},B.createElement("path",x0({},ct(n,!0),{className:w,d:VD(T,E,A,C,h),ref:r})))}):B.createElement("path",x0({},ct(n,!0),{className:w,d:VD(l,c,d,f,h)}))};function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OE.apply(this,arguments)}var fU=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=st("recharts-dot",o);return n===+n&&r===+r&&i===+i?B.createElement("circle",OE({},ct(e,!1),$v(e),{className:a,cx:n,cy:r,r:i})):null};function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}var GTe=["x","y","top","left","width","height","className"];function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RE.apply(this,arguments)}function FD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(n),!0).forEach(function(r){QTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QTe(t,e,n){return e=YTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YTe(t){var e=JTe(t,"string");return zp(e)=="symbol"?e:e+""}function JTe(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZTe(t,e){if(t==null)return{};var n=eIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tIe=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},nIe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,c=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,m=h===void 0?0:h,y=e.className,g=ZTe(e,GTe),v=XTe({x:r,y:o,top:s,left:c,width:f,height:m},g);return!me(r)||!me(o)||!me(f)||!me(m)||!me(s)||!me(c)?null:B.createElement("path",RE({},ct(v,!0),{className:st("recharts-cross",y),d:tIe(r,o,f,m,s,c)}))},rIe=E8,iIe=rIe(Object.getPrototypeOf,Object),oIe=iIe,aIe=ua,sIe=oIe,lIe=da,cIe="[object Object]",uIe=Function.prototype,dIe=Object.prototype,hU=uIe.toString,fIe=dIe.hasOwnProperty,hIe=hU.call(Object);function pIe(t){if(!lIe(t)||aIe(t)!=cIe)return!1;var e=sIe(t);if(e===null)return!0;var n=fIe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&hU.call(n)==hIe}var mIe=pIe;const gIe=St(mIe);var yIe=ua,vIe=da,xIe="[object Boolean]";function bIe(t){return t===!0||t===!1||vIe(t)&&yIe(t)==xIe}var wIe=bIe;const _Ie=St(wIe);function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b0.apply(this,arguments)}function SIe(t,e){return AIe(t)||IIe(t,e)||TIe(t,e)||EIe()}function EIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TIe(t,e){if(t){if(typeof t=="string")return BD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BD(t,e)}}function BD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function AIe(t){if(Array.isArray(t))return t}function UD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(n),!0).forEach(function(r){CIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CIe(t,e,n){return e=PIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PIe(t){var e=kIe(t,"string");return Wp(e)=="symbol"?e:e+""}function kIe(t,e){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WD=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},NIe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OIe=function(e){var n=zD(zD({},NIe),e),r=_.useRef(),i=_.useState(-1),o=SIe(i,2),a=o[0],s=o[1];_.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=st("recharts-trapezoid",m);return b?B.createElement(As,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:c},duration:g,animationEasing:y,isActive:b},function(w){var S=w.upperWidth,A=w.lowerWidth,C=w.height,T=w.x,E=w.y;return B.createElement(As,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},B.createElement("path",b0({},ct(n,!0),{className:x,d:WD(T,E,S,A,C),ref:r})))}):B.createElement("g",null,B.createElement("path",b0({},ct(n,!0),{className:x,d:WD(l,c,d,f,h)})))},RIe=["option","shapeType","propTransformer","activeClassName","isActive"];function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function jIe(t,e){if(t==null)return{};var n=DIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HD(Object(n),!0).forEach(function(r){MIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MIe(t,e,n){return e=LIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LIe(t){var e=$Ie(t,"string");return Hp(e)=="symbol"?e:e+""}function $Ie(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VIe(t,e){return w0(w0({},e),t)}function FIe(t,e){return t==="symbols"}function qD(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return B.createElement(WC,n);case"trapezoid":return B.createElement(OIe,n);case"sector":return B.createElement(eU,n);case"symbols":if(FIe(e))return B.createElement(lC,n);break;default:return null}}function BIe(t){return _.isValidElement(t)?t.props:t}function UIe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?VIe:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=jIe(t,RIe),c;if(_.isValidElement(e))c=_.cloneElement(e,w0(w0({},l),BIe(e)));else if(et(e))c=e(l);else if(gIe(e)&&!_Ie(e)){var d=i(e,l);c=B.createElement(qD,{shapeType:n,elementProps:d})}else{var f=l;c=B.createElement(qD,{shapeType:n,elementProps:f})}return s?B.createElement(En,{className:a},c):c}function Ob(t,e){return e!=null&&"trapezoids"in t.props}function Rb(t,e){return e!=null&&"sectors"in t.props}function qp(t,e){return e!=null&&"points"in t.props}function zIe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function WIe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function HIe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function qIe(t,e){var n;return Ob(t,e)?n=zIe:Rb(t,e)?n=WIe:qp(t,e)&&(n=HIe),n}function KIe(t,e){var n;return Ob(t,e)?n="trapezoids":Rb(t,e)?n="sectors":qp(t,e)&&(n="points"),n}function GIe(t,e){if(Ob(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Rb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return qp(t,e)?e.payload:{}}function XIe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=KIe(n,e),o=GIe(n,e),a=r.filter(function(l,c){var d=FC(o,l),f=n.props[i].filter(function(y){var g=qIe(n,e);return g(y,e)}),h=n.props[i].indexOf(f[f.length-1]),m=c===h;return d&&m}),s=r.indexOf(a[a.length-1]);return s}var QIe=Math.ceil,YIe=Math.max;function JIe(t,e,n,r){for(var i=-1,o=YIe(QIe((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var ZIe=JIe,eAe=z8,KD=1/0,tAe=17976931348623157e292;function nAe(t){if(!t)return t===0?t:0;if(t=eAe(t),t===KD||t===-KD){var e=t<0?-1:1;return e*tAe}return t===t?t:0}var pU=nAe,rAe=ZIe,iAe=bb,k1=pU;function oAe(t){return function(e,n,r){return r&&typeof r!="number"&&iAe(e,n,r)&&(n=r=void 0),e=k1(e),n===void 0?(n=e,e=0):n=k1(n),r=r===void 0?e<n?1:-1:k1(r),rAe(e,n,r,t)}}var aAe=oAe,sAe=aAe,lAe=sAe(),cAe=lAe;const _0=St(cAe);function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){mU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mU(t,e,n){return e=uAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uAe(t){var e=dAe(t,"string");return Kp(e)=="symbol"?e:e+""}function dAe(t,e){if(Kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fAe=["Webkit","Moz","O","ms"],hAe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=fAe.reduce(function(o,a){return XD(XD({},o),{},mU({},a+r,n))},{});return i[e]=n,i};function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function S0(){return S0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S0.apply(this,arguments)}function QD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(n),!0).forEach(function(r){Nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yU(r.key),r)}}function mAe(t,e,n){return e&&YD(t.prototype,e),n&&YD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gAe(t,e,n){return e=E0(e),yAe(t,gU()?Reflect.construct(e,n||[],E0(t).constructor):e.apply(t,n))}function yAe(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vAe(t)}function vAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gU=function(){return!!t})()}function E0(t){return E0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E0(t)}function xAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jE(t,e)}function jE(t,e){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jE(t,e)}function Nr(t,e,n){return e=yU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yU(t){var e=bAe(t,"string");return bd(e)=="symbol"?e:e+""}function bAe(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wAe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Th().domain(_0(0,l)).range([o,o+a-s]),d=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},JD=function(e){return e.changedTouches&&!!e.changedTouches.length},wd=function(t){function e(n){var r;return pAe(this,e),r=gAe(this,e,[n]),Nr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Nr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Nr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Nr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Nr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Nr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Nr(r,"handleSlideDragStart",function(i){var o=JD(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return xAe(e,t),mAe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,c=s.data,d=c.length-1,f=Math.min(i,o),h=Math.max(i,o),m=e.getIndexInRange(a,f),y=e.getIndexInRange(a,h);return{startIndex:m-m%l,endIndex:y===d?d:y-y%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=mo(o[r],s,r);return et(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,c=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,y=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,c+d-f-s,c+d-f-a):g<0&&(g=Math.max(g,c-a,c-s));var v=this.getIndex({startX:a+g,endX:s+g});(v.startIndex!==h||v.endIndex!==m)&&y&&y(v),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=JD(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,c=this.state[a],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,y=d.onChange,g=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},x=r.pageX-o;x>0?x=Math.min(x,f+h-m-c):x<0&&(x=Math.max(x,f-c)),b[a]=c+x;var w=this.getIndex(b),S=w.startIndex,A=w.endIndex,C=function(){var E=v.length-1;return a==="startX"&&(s>l?S%g===0:A%g===0)||s<l&&A===E||a==="endX"&&(s>l?A%g===0:S%g===0)||s>l&&A===E};this.setState(Nr(Nr({},a,c+x),"brushMoveStartX",r.pageX),function(){y&&C()&&y(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,c=a.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=c||i==="endX"&&m<=l||this.setState(Nr({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,c=r.stroke;return B.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,c=r.children,d=r.padding,f=_.Children.only(c);return f?B.cloneElement(f,{x:i,y:o,width:a,height:s,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,c=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,y=l.data,g=l.startIndex,v=l.endIndex,b=Math.max(r,this.props.x),x=N1(N1({},ct(this.props,!1)),{},{x:b,y:c,width:d,height:f}),w=m||"Min value: ".concat((o=y[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=y[v])===null||a===void 0?void 0:a.name);return B.createElement(En,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),s.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,c=o.travellerWidth,d=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,f=d.startX,h=d.endX,m=5,y={pointerEvents:"none",fill:c};return B.createElement(En,{className:"recharts-brush-texts"},B.createElement(Zv,S0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:a+s/2},y),this.getTextOfTick(i)),B.createElement(Zv,S0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:a+s/2},y),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,c=r.width,d=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,y=h.endX,g=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!me(s)||!me(l)||!me(c)||!me(d)||c<=0||d<=0)return null;var w=st("recharts-brush",o),S=B.Children.count(a)===1,A=hAe("userSelect","none");return B.createElement(En,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||b||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,c=Math.floor(o+s/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),B.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return B.isValidElement(r)?o=B.cloneElement(r,i):et(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return N1({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a},o&&o.length?wAe({data:o,width:a,x:s,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(_.PureComponent);Nr(wd,"displayName","Brush");Nr(wd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var _Ae=mC;function SAe(t,e){var n;return _Ae(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var EAe=SAe,TAe=g8,IAe=Us,AAe=EAe,CAe=Cr,PAe=bb;function kAe(t,e,n){var r=CAe(t)?TAe:AAe;return n&&PAe(t,e,n)&&(e=void 0),r(t,IAe(e))}var NAe=kAe;const OAe=St(NAe);var uo=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},ZD=$8;function RAe(t,e,n){e=="__proto__"&&ZD?ZD(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var jAe=RAe,DAe=jAe,MAe=M8,LAe=Us;function $Ae(t,e){var n={};return e=LAe(e),MAe(t,function(r,i,o){DAe(n,i,e(r,i,o))}),n}var VAe=$Ae;const FAe=St(VAe);function BAe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var UAe=BAe,zAe=mC;function WAe(t,e){var n=!0;return zAe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var HAe=WAe,qAe=UAe,KAe=HAe,GAe=Us,XAe=Cr,QAe=bb;function YAe(t,e,n){var r=XAe(t)?qAe:KAe;return n&&QAe(t,e,n)&&(e=void 0),r(t,GAe(e))}var JAe=YAe;const vU=St(JAe);var ZAe=["x","y"];function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function DE(){return DE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DE.apply(this,arguments)}function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(r){eCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eCe(t,e,n){return e=tCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tCe(t){var e=nCe(t,"string");return Gp(e)=="symbol"?e:e+""}function nCe(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rCe(t,e){if(t==null)return{};var n=iCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oCe(t,e){var n=t.x,r=t.y,i=rCe(t,ZAe),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),d=parseInt(c,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Gf(Gf(Gf(Gf(Gf({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function tM(t){return B.createElement(UIe,DE({shapeType:"rectangle",propTransformer:oCe,activeClassName:"recharts-active-bar"},t))}var aCe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||uc(),n)}},sCe=["value","background"],xU;function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function lCe(t,e){if(t==null)return{};var n=cCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T0.apply(this,arguments)}function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){qa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wU(r.key),r)}}function dCe(t,e,n){return e&&rM(t.prototype,e),n&&rM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fCe(t,e,n){return e=I0(e),hCe(t,bU()?Reflect.construct(e,n||[],I0(t).constructor):e.apply(t,n))}function hCe(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pCe(t)}function pCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bU=function(){return!!t})()}function I0(t){return I0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I0(t)}function mCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ME(t,e)}function ME(t,e){return ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ME(t,e)}function qa(t,e,n){return e=wU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wU(t){var e=gCe(t,"string");return _d(e)=="symbol"?e:e+""}function gCe(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wc=function(t){function e(){var n;uCe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=fCe(this,e,[].concat(i)),qa(n,"state",{isAnimationFinished:!1}),qa(n,"id",hb("recharts-bar-")),qa(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),qa(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return mCe(e,t),dCe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,c=o.activeBar,d=ct(this.props,!1);return r&&r.map(function(f,h){var m=h===l,y=m?c:a,g=ln(ln(ln({},d),f),{},{isActive:m,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return B.createElement(En,T0({className:"recharts-bar-rectangle"},Vv(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),B.createElement(tM,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return B.createElement(As,{begin:l,duration:c,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,g=o.map(function(v,b){var x=h&&h[b];if(x){var w=$c(x.x,v.x),S=$c(x.y,v.y),A=$c(x.width,v.width),C=$c(x.height,v.height);return ln(ln({},v),{},{x:w(y),y:S(y),width:A(y),height:C(y)})}if(a==="horizontal"){var T=$c(0,v.height),E=T(y);return ln(ln({},v),{},{y:v.y+v.height-E,height:E})}var N=$c(0,v.width),P=N(y);return ln(ln({},v),{},{width:P})});return B.createElement(En,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!FC(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=ct(this.props.background,!1);return o.map(function(c,d){c.value;var f=c.background,h=lCe(c,sCe);if(!f)return null;var m=ln(ln(ln(ln(ln({},h),{},{fill:"#eee"},f),l),Vv(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return B.createElement(tM,T0({key:"background-bar-".concat(d),option:r.props.background,isActive:d===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,c=o.layout,d=o.children,f=Ri(d,Nb);if(!f)return null;var h=c==="vertical"?a[0].height/2:a[0].width/2,m=function(v,b){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:mo(v,b)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(En,y,f.map(function(g){return B.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:c,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,c=r.left,d=r.top,f=r.width,h=r.height,m=r.isAnimationActive,y=r.background,g=r.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,b=st("recharts-bar",a),x=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,S=x||w,A=mt(g)?this.id:g;return B.createElement(En,{className:b},x||w?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(A)},B.createElement("rect",{x:x?c:c-f/2,y:w?d:d-h/2,width:x?f:f*2,height:w?h:h*2}))):null,B.createElement(En,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(A,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,A),(!m||v)&&Vl.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(_.PureComponent);xU=wc;qa(wc,"displayName","Bar");qa(wc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!us.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});qa(wc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,m=nSe(r,n);if(!m)return null;var y=e.layout,g=n.type.defaultProps,v=g!==void 0?ln(ln({},g),n.props):n.props,b=v.dataKey,x=v.children,w=v.minPointSize,S=y==="horizontal"?a:o,A=c?S.scale.domain():null,C=uSe({numericAxis:S}),T=Ri(x,H8),E=f.map(function(N,P){var R,O,j,$,V,U;c?R=rSe(c[d+P],A):(R=mo(N,b),Array.isArray(R)||(R=[C,R]));var q=aCe(w,xU.defaultProps.minPointSize)(R[1],P);if(y==="horizontal"){var L,K=[a.scale(R[0]),a.scale(R[1])],Q=K[0],ee=K[1];O=tD({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:N,index:P}),j=(L=ee??Q)!==null&&L!==void 0?L:void 0,$=m.size;var ne=Q-ee;if(V=Number.isNaN(ne)?0:ne,U={x:O,y:a.y,width:$,height:a.height},Math.abs(q)>0&&Math.abs(V)<Math.abs(q)){var oe=Ci(V||q)*(Math.abs(q)-Math.abs(V));j-=oe,V+=oe}}else{var J=[o.scale(R[0]),o.scale(R[1])],fe=J[0],Ce=J[1];if(O=fe,j=tD({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:N,index:P}),$=Ce-fe,V=m.size,U={x:o.x,y:j,width:o.width,height:V},Math.abs(q)>0&&Math.abs($)<Math.abs(q)){var te=Ci($||q)*(Math.abs(q)-Math.abs($));$+=te}}return ln(ln(ln({},N),{},{x:O,y:j,width:$,height:V,value:c?R:R[1],payload:N,background:U},T&&T[P]&&T[P].props),{},{tooltipPayload:[YB(n,N)],tooltipPosition:{x:O+$/2,y:j+V/2}})});return ln({data:E,layout:y},h)});function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function yCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_U(r.key),r)}}function vCe(t,e,n){return e&&iM(t.prototype,e),n&&iM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){jb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jb(t,e,n){return e=_U(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _U(t){var e=xCe(t,"string");return Xp(e)=="symbol"?e:e+""}function xCe(t,e){if(Xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bCe=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,c=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!jr(c,wc);return d.reduce(function(m,y){var g=n[y],v=g.orientation,b=g.domain,x=g.padding,w=x===void 0?{}:x,S=g.mirror,A=g.reversed,C="".concat(v).concat(S?"Mirror":""),T,E,N,P,R;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=b[1]-b[0],j=1/0,$=g.categoricalDomain.sort();if($.forEach(function(J,fe){fe>0&&(j=Math.min((J||0)-($[fe-1]||0),j))}),Number.isFinite(j)){var V=j/O,U=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(T=V*U/2),g.padding==="no-gap"){var q=lc(e.barCategoryGap,V*U),L=V*U/2;T=L-q-(L-q)/U*q}}}i==="xAxis"?E=[r.left+(w.left||0)+(T||0),r.left+r.width-(w.right||0)-(T||0)]:i==="yAxis"?E=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(T||0),r.top+r.height-(w.bottom||0)-(T||0)]:E=g.range,A&&(E=[E[1],E[0]]);var K=eSe(g,o,h),Q=K.scale,ee=K.realScaleType;Q.domain(b).range(E),tSe(Q);var ne=cSe(Q,Ti(Ti({},g),{},{realScaleType:ee}));i==="xAxis"?(R=v==="top"&&!S||v==="bottom"&&S,N=r.left,P=f[C]-R*g.height):i==="yAxis"&&(R=v==="left"&&!S||v==="right"&&S,N=f[C]-R*g.width,P=r.top);var oe=Ti(Ti(Ti({},g),ne),{},{realScaleType:ee,x:N,y:P,scale:Q,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return oe.bandSize=h0(oe,ne),!g.hide&&i==="xAxis"?f[C]+=(R?-1:1)*oe.height:g.hide||(f[C]+=(R?-1:1)*oe.width),Ti(Ti({},m),{},jb({},y,oe))},{})},SU=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},wCe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return SU({x:n,y:r},{x:i,y:o})},EU=function(){function t(e){yCe(this,t),this.scale=e}return vCe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();jb(EU,"EPS",1e-4);var HC=function(e){var n=Object.keys(e).reduce(function(r,i){return Ti(Ti({},r),{},jb({},i,EU.create(e[i])))},{});return Ti(Ti({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return FAe(i,function(l,c){return n[c].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return vU(i,function(o,a){return n[a].isInRange(o)})}})};function _Ce(t){return(t%180+180)%180}var SCe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=_Ce(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},ECe=Us,TCe=Mm,ICe=vb;function ACe(t){return function(e,n,r){var i=Object(e);if(!TCe(e)){var o=ECe(n);e=ICe(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var CCe=ACe,PCe=pU;function kCe(t){var e=PCe(t),n=e%1;return e===e?n?e-n:e:0}var NCe=kCe,OCe=k8,RCe=Us,jCe=NCe,DCe=Math.max;function MCe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:jCe(n);return i<0&&(i=DCe(r+i,0)),OCe(t,RCe(e),i)}var LCe=MCe,$Ce=CCe,VCe=LCe,FCe=$Ce(VCe),BCe=FCe;const UCe=St(BCe);var zCe=Fle(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),qC=_.createContext(void 0),KC=_.createContext(void 0),TU=_.createContext(void 0),IU=_.createContext({}),AU=_.createContext(void 0),CU=_.createContext(0),PU=_.createContext(0),aM=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,d=zCe(o);return B.createElement(qC.Provider,{value:r},B.createElement(KC.Provider,{value:i},B.createElement(IU.Provider,{value:o},B.createElement(TU.Provider,{value:d},B.createElement(AU.Provider,{value:a},B.createElement(CU.Provider,{value:c},B.createElement(PU.Provider,{value:l},s)))))))},WCe=function(){return _.useContext(AU)},kU=function(e){var n=_.useContext(qC);n==null&&uc();var r=n[e];return r==null&&uc(),r},HCe=function(){var e=_.useContext(qC);return Ma(e)},qCe=function(){var e=_.useContext(KC),n=UCe(e,function(r){return vU(r.domain,Number.isFinite)});return n||Ma(e)},NU=function(e){var n=_.useContext(KC);n==null&&uc();var r=n[e];return r==null&&uc(),r},KCe=function(){var e=_.useContext(TU);return e},GCe=function(){return _.useContext(IU)},GC=function(){return _.useContext(PU)},XC=function(){return _.useContext(CU)};function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function XCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RU(r.key),r)}}function YCe(t,e,n){return e&&QCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JCe(t,e,n){return e=A0(e),ZCe(t,OU()?Reflect.construct(e,n||[],A0(t).constructor):e.apply(t,n))}function ZCe(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ePe(t)}function ePe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OU=function(){return!!t})()}function A0(t){return A0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A0(t)}function tPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LE(t,e)}function LE(t,e){return LE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LE(t,e)}function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){QC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QC(t,e,n){return e=RU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RU(t){var e=nPe(t,"string");return Sd(e)=="symbol"?e:e+""}function nPe(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rPe(t,e){return sPe(t)||aPe(t,e)||oPe(t,e)||iPe()}function iPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oPe(t,e){if(t){if(typeof t=="string")return cM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cM(t,e)}}function cM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function sPe(t){if(Array.isArray(t))return t}function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$E.apply(this,arguments)}var lPe=function(e,n){var r;return B.isValidElement(e)?r=B.cloneElement(e,n):et(e)?r=e(n):r=B.createElement("line",$E({},n,{className:"recharts-reference-line-line"})),r},cPe=function(e,n,r,i,o,a,s,l,c){var d=o.x,f=o.y,h=o.width,m=o.height;if(r){var y=c.y,g=e.y.apply(y,{position:a});if(uo(c,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return l==="left"?v.reverse():v}if(n){var b=c.x,x=e.x.apply(b,{position:a});if(uo(c,"discard")&&!e.x.isInRange(x))return null;var w=[{x,y:f+m},{x,y:f}];return s==="top"?w.reverse():w}if(i){var S=c.segment,A=S.map(function(C){return e.apply(C,{position:a})});return uo(c,"discard")&&OAe(A,function(C){return!e.isInRange(C)})?null:A}return null};function uPe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,c=WCe(),d=kU(i),f=NU(o),h=KCe();if(!c||!h)return null;Fo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=HC({x:d.scale,y:f.scale}),y=mn(e),g=mn(n),v=r&&r.length===2,b=cPe(m,y,g,v,h,t.position,d.orientation,f.orientation,t);if(!b)return null;var x=rPe(b,2),w=x[0],S=w.x,A=w.y,C=x[1],T=C.x,E=C.y,N=uo(t,"hidden")?"url(#".concat(c,")"):void 0,P=lM(lM({clipPath:N},ct(t,!0)),{},{x1:S,y1:A,x2:T,y2:E});return B.createElement(En,{className:st("recharts-reference-line",s)},lPe(a,P),Qn.renderCallByParent(t,wCe({x1:S,y1:A,x2:T,y2:E})))}var YC=function(t){function e(){return XCe(this,e),JCe(this,e,arguments)}return tPe(e,t),YCe(e,[{key:"render",value:function(){return B.createElement(uPe,this.props)}}])}(B.Component);QC(YC,"displayName","ReferenceLine");QC(YC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function VE(){return VE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VE.apply(this,arguments)}function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){Db(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DU(r.key),r)}}function hPe(t,e,n){return e&&fPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pPe(t,e,n){return e=C0(e),mPe(t,jU()?Reflect.construct(e,n||[],C0(t).constructor):e.apply(t,n))}function mPe(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gPe(t)}function gPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jU=function(){return!!t})()}function C0(t){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C0(t)}function yPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FE(t,e)}function FE(t,e){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FE(t,e)}function Db(t,e,n){return e=DU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DU(t){var e=vPe(t,"string");return Ed(e)=="symbol"?e:e+""}function vPe(t,e){if(Ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xPe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=HC({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return uo(e,"discard")&&!a.isInRange(s)?null:s},Mb=function(t){function e(){return dPe(this,e),pPe(this,e,arguments)}return yPe(e,t),hPe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,c=mn(i),d=mn(o);if(Fo(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var f=xPe(this.props);if(!f)return null;var h=f.x,m=f.y,y=this.props,g=y.shape,v=y.className,b=uo(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=dM(dM({clipPath:b},ct(this.props,!0)),{},{cx:h,cy:m});return B.createElement(En,{className:st("recharts-reference-dot",v)},e.renderDot(g,x),Qn.renderCallByParent(this.props,{x:h-a,y:m-a,width:2*a,height:2*a}))}}])}(B.Component);Db(Mb,"displayName","ReferenceDot");Db(Mb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Db(Mb,"renderDot",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):et(t)?n=t(e):n=B.createElement(fU,VE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function BE(){return BE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BE.apply(this,arguments)}function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){Lb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LU(r.key),r)}}function _Pe(t,e,n){return e&&wPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SPe(t,e,n){return e=P0(e),EPe(t,MU()?Reflect.construct(e,n||[],P0(t).constructor):e.apply(t,n))}function EPe(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TPe(t)}function TPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MU=function(){return!!t})()}function P0(t){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},P0(t)}function IPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UE(t,e)}function UE(t,e){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UE(t,e)}function Lb(t,e,n){return e=LU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LU(t){var e=APe(t,"string");return Td(e)=="symbol"?e:e+""}function APe(t,e){if(Td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CPe=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,c=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=HC({x:d.scale,y:f.scale}),m={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return uo(o,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:SU(m,y)},$b=function(t){function e(){return bPe(this,e),SPe(this,e,arguments)}return IPe(e,t),_Pe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;Fo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=mn(i),h=mn(o),m=mn(a),y=mn(s),g=this.props.shape;if(!f&&!h&&!m&&!y&&!g)return null;var v=CPe(f,h,m,y,this.props);if(!v&&!g)return null;var b=uo(this.props,"hidden")?"url(#".concat(d,")"):void 0;return B.createElement(En,{className:st("recharts-reference-area",l)},e.renderRect(g,hM(hM({clipPath:b},ct(this.props,!0)),v)),Qn.renderCallByParent(this.props,v))}}])}(B.Component);Lb($b,"displayName","ReferenceArea");Lb($b,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Lb($b,"renderRect",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):et(t)?n=t(e):n=B.createElement(WC,BE({},e,{className:"recharts-reference-area-rect"})),n});function $U(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function PPe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return SCe(r,n)}function kPe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function k0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function NPe(t,e){return $U(t,e+1)}function OPe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,c=1,d=a,f=function(){var y=r==null?void 0:r[l];if(y===void 0)return{v:$U(r,c)};var g=l,v,b=function(){return v===void 0&&(v=n(y,g)),v},x=y.coordinate,w=l===0||k0(t,x,b,d,s);w||(l=0,d=a,c+=1),w&&(d=x+t*(b()/2+i),l+=c)},h;c<=o.length;)if(h=f(),h)return h.v;return[]}function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){RPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RPe(t,e,n){return e=jPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jPe(t){var e=DPe(t,"string");return Qp(e)=="symbol"?e:e+""}function DPe(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MPe(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(h){var m=o[h],y,g=function(){return y===void 0&&(y=n(m,h)),y};if(h===a-1){var v=t*(m.coordinate+t*g()/2-l);o[h]=m=Kn(Kn({},m),{},{tickCoord:v>0?m.coordinate-v*t:m.coordinate})}else o[h]=m=Kn(Kn({},m),{},{tickCoord:m.coordinate});var b=k0(t,m.tickCoord,g,s,l);b&&(l=m.tickCoord-t*(g()/2+i),o[h]=Kn(Kn({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)c(d);return o}function LPe(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var d=r[s-1],f=n(d,s-1),h=t*(d.coordinate+t*f/2-c);a[s-1]=d=Kn(Kn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=k0(t,d.tickCoord,function(){return f},l,c);m&&(c=d.tickCoord-t*(f/2+i),a[s-1]=Kn(Kn({},d),{},{isShow:!0}))}for(var y=o?s-1:s,g=function(x){var w=a[x],S,A=function(){return S===void 0&&(S=n(w,x)),S};if(x===0){var C=t*(w.coordinate-t*A()/2-l);a[x]=w=Kn(Kn({},w),{},{tickCoord:C<0?w.coordinate-C*t:w.coordinate})}else a[x]=w=Kn(Kn({},w),{},{tickCoord:w.coordinate});var T=k0(t,w.tickCoord,A,l,c);T&&(l=w.tickCoord+t*(A()/2+i),a[x]=Kn(Kn({},w),{},{isShow:!0}))},v=0;v<y;v++)g(v);return a}function JC(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(me(l)||us.isSsr)return NPe(i,typeof l=="number"&&me(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",y=d&&m==="width"?Eh(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(w,S){var A=et(c)?c(w.value,S):w.value;return m==="width"?PPe(Eh(A,{fontSize:e,letterSpacing:n}),y,f):Eh(A,{fontSize:e,letterSpacing:n})[m]},v=i.length>=2?Ci(i[1].coordinate-i[0].coordinate):1,b=kPe(o,v,m);return l==="equidistantPreserveStart"?OPe(v,b,g,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=LPe(v,b,g,i,a,l==="preserveStartEnd"):h=MPe(v,b,g,i,a),h.filter(function(x){return x.isShow}))}var $Pe=["viewBox"],VPe=["viewBox"],FPe=["ticks"];function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function lu(){return lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lu.apply(this,arguments)}function mM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(n),!0).forEach(function(r){ZC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O1(t,e){if(t==null)return{};var n=BPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FU(r.key),r)}}function zPe(t,e,n){return e&&gM(t.prototype,e),n&&gM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WPe(t,e,n){return e=N0(e),HPe(t,VU()?Reflect.construct(e,n||[],N0(t).constructor):e.apply(t,n))}function HPe(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qPe(t)}function qPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VU=function(){return!!t})()}function N0(t){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N0(t)}function KPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zE(t,e)}function zE(t,e){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zE(t,e)}function ZC(t,e,n){return e=FU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FU(t){var e=GPe(t,"string");return Id(e)=="symbol"?e:e+""}function GPe(t,e){if(Id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ff=function(t){function e(n){var r;return UPe(this,e),r=WPe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return KPe(e,t),zPe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=O1(r,$Pe),s=this.props,l=s.viewBox,c=O1(s,VPe);return!Su(o,l)||!Su(a,c)||!Su(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,c=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,y,g,v,b,x,w=f?-1:1,S=r.tickSize||d,A=me(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":m=y=r.coordinate,v=a+ +!f*l,g=v-w*S,x=g-w*h,b=A;break;case"left":g=v=r.coordinate,y=o+ +!f*s,m=y-w*S,b=m-w*h,x=A;break;case"right":g=v=r.coordinate,y=o+ +f*s,m=y+w*S,b=m+w*h,x=A;break;default:m=y=r.coordinate,v=a+ +f*l,g=v+w*S,x=g+w*h,b=A;break}return{line:{x1:m,y1:g,x2:y,y2:v},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,f=rr(rr(rr({},ct(this.props,!1)),ct(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=rr(rr({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var m=+(l==="left"&&!c||l==="right"&&c);f=rr(rr({},f),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return B.createElement("line",lu({},f,{className:st("recharts-cartesian-axis-line",ai(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,c=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,m=JC(rr(rr({},this.props),{},{ticks:r}),i,o),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=ct(this.props,!1),b=ct(d,!1),x=rr(rr({},v),{},{fill:"none"},ct(l,!1)),w=m.map(function(S,A){var C=a.getTickLineCoord(S),T=C.line,E=C.tick,N=rr(rr(rr(rr({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:c},b),E),{},{index:A,payload:S,visibleTicksCount:m.length,tickFormatter:f});return B.createElement(En,lu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Vv(a.props,S,A)),l&&B.createElement("line",lu({},x,T,{className:st("recharts-cartesian-axis-tick-line",ai(l,"className"))})),d&&e.renderTickItem(d,N,"".concat(et(f)?f(S.value,A):S.value).concat(h||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=O1(f,FPe),y=h;return et(l)&&(y=h&&h.length>0?l(this.props):l(m)),a<=0||s<=0||!y||!y.length?null:B.createElement(En,{className:st("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},o&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Qn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return B.isValidElement(r)?a=B.cloneElement(r,i):et(r)?a=r(i):a=B.createElement(Zv,lu({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(_.Component);ZC(ff,"displayName","CartesianAxis");ZC(ff,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var XPe=["x1","y1","x2","y2","key"],QPe=["offset"];function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){YPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YPe(t,e,n){return e=JPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JPe(t){var e=ZPe(t,"string");return dc(e)=="symbol"?e:e+""}function ZPe(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Il(){return Il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Il.apply(this,arguments)}function vM(t,e){if(t==null)return{};var n=eke(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tke=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return B.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function BU(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(et(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=vM(e,XPe),c=ct(l,!1);c.offset;var d=vM(c,QPe);n=B.createElement("line",Il({},d,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function nke(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=Yn(Yn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return BU(i,c)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function rke(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var c=Yn(Yn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return BU(i,c)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function ike(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var y=!d[m+1],g=y?i+a-h:d[m+1]-h;if(g<=0)return null;var v=m%e.length;return B.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:g,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function oke(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(h){return Math.round(h+o-o)}).sort(function(h,m){return h-m});o!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var y=!d[m+1],g=y?o+s-h:d[m+1]-h;if(g<=0)return null;var v=m%r.length;return B.createElement("rect",{key:"react-".concat(m),x:h,y:a,width:g,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var ake=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return XB(JC(Yn(Yn(Yn({},ff.defaultProps),r),{},{ticks:Do(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},ske=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return XB(JC(Yn(Yn(Yn({},ff.defaultProps),r),{},{ticks:Do(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Bc={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function UU(t){var e,n,r,i,o,a,s=GC(),l=XC(),c=GCe(),d=Yn(Yn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Bc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Bc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Bc.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Bc.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Bc.verticalFill,x:me(t.x)?t.x:c.left,y:me(t.y)?t.y:c.top,width:me(t.width)?t.width:c.width,height:me(t.height)?t.height:c.height}),f=d.x,h=d.y,m=d.width,y=d.height,g=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,x=HCe(),w=qCe();if(!me(m)||m<=0||!me(y)||y<=0||!me(f)||f!==+f||!me(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||ake,A=d.horizontalCoordinatesGenerator||ske,C=d.horizontalPoints,T=d.verticalPoints;if((!C||!C.length)&&et(A)){var E=v&&v.length,N=A({yAxis:w?Yn(Yn({},w),{},{ticks:E?v:w.ticks}):void 0,width:s,height:l,offset:c},E?!0:g);Fo(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(dc(N),"]")),Array.isArray(N)&&(C=N)}if((!T||!T.length)&&et(S)){var P=b&&b.length,R=S({xAxis:x?Yn(Yn({},x),{},{ticks:P?b:x.ticks}):void 0,width:s,height:l,offset:c},P?!0:g);Fo(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(dc(R),"]")),Array.isArray(R)&&(T=R)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(tke,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),B.createElement(nke,Il({},d,{offset:c,horizontalPoints:C,xAxis:x,yAxis:w})),B.createElement(rke,Il({},d,{offset:c,verticalPoints:T,xAxis:x,yAxis:w})),B.createElement(ike,Il({},d,{horizontalPoints:C})),B.createElement(oke,Il({},d,{verticalPoints:T})))}UU.displayName="CartesianGrid";function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function lke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HU(r.key),r)}}function uke(t,e,n){return e&&cke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dke(t,e,n){return e=O0(e),fke(t,zU()?Reflect.construct(e,n||[],O0(t).constructor):e.apply(t,n))}function fke(t,e){if(e&&(Ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hke(t)}function hke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zU=function(){return!!t})()}function O0(t){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},O0(t)}function pke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WE(t,e)}function WE(t,e){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WE(t,e)}function WU(t,e,n){return e=HU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HU(t){var e=mke(t,"string");return Ad(e)=="symbol"?e:e+""}function mke(t,e){if(Ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(this,arguments)}function gke(t){var e=t.xAxisId,n=GC(),r=XC(),i=kU(e);return i==null?null:B.createElement(ff,HE({},i,{className:st("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Do(a,!0)}}))}var Vb=function(t){function e(){return lke(this,e),dke(this,e,arguments)}return pke(e,t),uke(e,[{key:"render",value:function(){return B.createElement(gke,this.props)}}])}(B.Component);WU(Vb,"displayName","XAxis");WU(Vb,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function yke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GU(r.key),r)}}function xke(t,e,n){return e&&vke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bke(t,e,n){return e=R0(e),wke(t,qU()?Reflect.construct(e,n||[],R0(t).constructor):e.apply(t,n))}function wke(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ke(t)}function _ke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qU=function(){return!!t})()}function R0(t){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R0(t)}function Ske(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qE(t,e)}function qE(t,e){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qE(t,e)}function KU(t,e,n){return e=GU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GU(t){var e=Eke(t,"string");return Cd(e)=="symbol"?e:e+""}function Eke(t,e){if(Cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(this,arguments)}var Tke=function(e){var n=e.yAxisId,r=GC(),i=XC(),o=NU(n);return o==null?null:B.createElement(ff,KE({},o,{className:st("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Do(s,!0)}}))},Fb=function(t){function e(){return yke(this,e),bke(this,e,arguments)}return Ske(e,t),xke(e,[{key:"render",value:function(){return B.createElement(Tke,this.props)}}])}(B.Component);KU(Fb,"displayName","YAxis");KU(Fb,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function xM(t){return Pke(t)||Cke(t)||Ake(t)||Ike()}function Ike(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ake(t,e){if(t){if(typeof t=="string")return GE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GE(t,e)}}function Cke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pke(t){if(Array.isArray(t))return GE(t)}function GE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var XE=function(e,n,r,i,o){var a=Ri(e,YC),s=Ri(e,Mb),l=[].concat(xM(a),xM(s)),c=Ri(e,$b),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(g,v){if(v.props[d]===r&&uo(v.props,"extendDomain")&&me(v.props[f])){var b=v.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),c.length){var m="".concat(f,"1"),y="".concat(f,"2");h=c.reduce(function(g,v){if(v.props[d]===r&&uo(v.props,"extendDomain")&&me(v.props[m])&&me(v.props[y])){var b=v.props[m],x=v.props[y];return[Math.min(g[0],b,x),Math.max(g[1],b,x)]}return g},h)}return o&&o.length&&(h=o.reduce(function(g,v){return me(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},XU={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function o(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),y=n?n+c:c;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,y=new Array(m);h<m;h++)y[h]=f[h].fn;return y},s.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,d,f,h,m,y){var g=n?n+c:c;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,y),!0}for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var S=v.length,A;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!x)for(A=1,x=new Array(b-1);A<b;A++)x[A-1]=arguments[A];v[w].fn.apply(v[w].context,x)}}return!0},s.prototype.on=function(c,d,f){return o(this,c,d,f,!1)},s.prototype.once=function(c,d,f){return o(this,c,d,f,!0)},s.prototype.removeListener=function(c,d,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return a(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&a(this,m);else{for(var g=0,v=[],b=y.length;g<b;g++)(y[g].fn!==d||h&&!y[g].once||f&&y[g].context!==f)&&v.push(y[g]);v.length?this._events[m]=v.length===1?v[0]:v:a(this,m)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(XU);var kke=XU.exports;const Nke=St(kke);var R1=new Nke,j1="recharts.syncMouseEvents";function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function Oke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QU(r.key),r)}}function jke(t,e,n){return e&&Rke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D1(t,e,n){return e=QU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QU(t){var e=Dke(t,"string");return Yp(e)=="symbol"?e:e+""}function Dke(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mke=function(){function t(){Oke(this,t),D1(this,"activeIndex",0),D1(this,"coordinateList",[]),D1(this,"layout","horizontal")}return jke(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+c,h=a+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Lke(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&me(r)&&me(i))return!0}return!1}function $ke(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function YU(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Dn(e,n,r,i),s=Dn(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Vke(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,f=e.angle,h=Dn(s,l,c,f),m=Dn(s,l,d,f);r=h.x,i=h.y,o=m.x,a=m.y}else return YU(e);return[{x:r,y:i},{x:o,y:a}]}function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){Fke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fke(t,e,n){return e=Bke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bke(t){var e=Uke(t,"string");return Jp(e)=="symbol"?e:e+""}function Uke(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zke(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var y,g=yD;if(h==="ScatterChart")y=a,g=nIe;else if(h==="BarChart")y=$ke(f,a,l,d),g=WC;else if(f==="radial"){var v=YU(a),b=v.cx,x=v.cy,w=v.radius,S=v.startAngle,A=v.endAngle;y={cx:b,cy:x,startAngle:S,endAngle:A,innerRadius:w,outerRadius:w},g=eU}else y={points:Vke(f,a,l)},g=yD;var C=Gg(Gg(Gg(Gg({stroke:"#ccc",pointerEvents:"none"},l),y),ct(m,!1)),{},{payload:s,payloadIndex:c,className:st("recharts-tooltip-cursor",m.className)});return _.isValidElement(m)?_.cloneElement(m,C):_.createElement(g,C)}var Wke=["item"],Hke=["children","className","width","height","style","compact","title","desc"];function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function Ch(){return Ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ch.apply(this,arguments)}function wM(t,e){return Gke(t)||Kke(t,e)||ZU(t,e)||qke()}function qke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Gke(t){if(Array.isArray(t))return t}function _M(t,e){if(t==null)return{};var n=Xke(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ez(r.key),r)}}function Jke(t,e,n){return e&&Yke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zke(t,e,n){return e=j0(e),e2e(t,JU()?Reflect.construct(e,n||[],j0(t).constructor):e.apply(t,n))}function e2e(t,e){if(e&&(Pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t2e(t)}function t2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JU=function(){return!!t})()}function j0(t){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},j0(t)}function n2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QE(t,e)}function QE(t,e){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QE(t,e)}function kd(t){return o2e(t)||i2e(t)||ZU(t)||r2e()}function r2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZU(t,e){if(t){if(typeof t=="string")return YE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YE(t,e)}}function i2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o2e(t){if(Array.isArray(t))return YE(t)}function YE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){Me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Me(t,e,n){return e=ez(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ez(t){var e=a2e(t,"string");return Pd(e)=="symbol"?e:e+""}function a2e(t,e){if(Pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s2e={xAxis:["bottom","top"],yAxis:["left","right"]},l2e={width:"100%",height:"100%"},tz={x:0,y:0};function Xg(t){return t}var c2e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},u2e=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return Y(Y(Y({},i),Dn(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,c=i.angle;return Y(Y(Y({},i),Dn(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return tz},Bb=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var c=l.props.data;return c&&c.length?[].concat(kd(s),kd(c)):s},[]);return a.length>0?a:e&&e.length&&me(i)&&me(o)?e.slice(i,o+1):[]};function nz(t){return t==="number"?[0,"auto"]:void 0}var JE=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=Bb(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,c){var d,f=(d=c.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var m=f===void 0?s:f;h=NS(m,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(kd(l),[YB(c,h)]):l},[])},EM=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=c2e(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=G_e(a,s,c,l);if(d>=0&&c){var f=c[d]&&c[d].value,h=JE(e,n,d,f),m=u2e(r,s,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},d2e=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,m=GB(d,o);return r.reduce(function(y,g){var v,b=g.type.defaultProps!==void 0?Y(Y({},g.type.defaultProps),g.props):g.props,x=b.type,w=b.dataKey,S=b.allowDataOverflow,A=b.allowDuplicatedCategory,C=b.scale,T=b.ticks,E=b.includeHidden,N=b[a];if(y[N])return y;var P=Bb(e.data,{graphicalItems:i.filter(function(ne){var oe,J=a in ne.props?ne.props[a]:(oe=ne.type.defaultProps)===null||oe===void 0?void 0:oe[a];return J===N}),dataStartIndex:l,dataEndIndex:c}),R=P.length,O,j,$;Lke(b.domain,S,x)&&(O=vE(b.domain,null,S),m&&(x==="number"||C!=="auto")&&($=Ih(P,w,"category")));var V=nz(x);if(!O||O.length===0){var U,q=(U=b.domain)!==null&&U!==void 0?U:V;if(w){if(O=Ih(P,w,x),x==="category"&&m){var L=Mce(O);A&&L?(j=O,O=_0(0,R)):A||(O=iD(q,O,g).reduce(function(ne,oe){return ne.indexOf(oe)>=0?ne:[].concat(kd(ne),[oe])},[]))}else if(x==="category")A?O=O.filter(function(ne){return ne!==""&&!mt(ne)}):O=iD(q,O,g).reduce(function(ne,oe){return ne.indexOf(oe)>=0||oe===""||mt(oe)?ne:[].concat(kd(ne),[oe])},[]);else if(x==="number"){var K=Z_e(P,i.filter(function(ne){var oe,J,fe=a in ne.props?ne.props[a]:(oe=ne.type.defaultProps)===null||oe===void 0?void 0:oe[a],Ce="hide"in ne.props?ne.props.hide:(J=ne.type.defaultProps)===null||J===void 0?void 0:J.hide;return fe===N&&(E||!Ce)}),w,o,d);K&&(O=K)}m&&(x==="number"||C!=="auto")&&($=Ih(P,w,"category"))}else m?O=_0(0,R):s&&s[N]&&s[N].hasStack&&x==="number"?O=h==="expand"?[0,1]:QB(s[N].stackGroups,l,c):O=KB(P,i.filter(function(ne){var oe=a in ne.props?ne.props[a]:ne.type.defaultProps[a],J="hide"in ne.props?ne.props.hide:ne.type.defaultProps.hide;return oe===N&&(E||!J)}),x,d,!0);if(x==="number")O=XE(f,O,N,o,T),q&&(O=vE(q,O,S));else if(x==="category"&&q){var Q=q,ee=O.every(function(ne){return Q.indexOf(ne)>=0});ee&&(O=Q)}}return Y(Y({},y),{},Me({},N,Y(Y({},b),{},{axisType:o,domain:O,categoricalDomain:$,duplicateDomain:j,originalDomain:(v=b.domain)!==null&&v!==void 0?v:V,isCategorical:m,layout:d})))},{})},f2e=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,f=e.children,h=Bb(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),m=h.length,y=GB(d,o),g=-1;return r.reduce(function(v,b){var x=b.type.defaultProps!==void 0?Y(Y({},b.type.defaultProps),b.props):b.props,w=x[a],S=nz("number");if(!v[w]){g++;var A;return y?A=_0(0,m):s&&s[w]&&s[w].hasStack?(A=QB(s[w].stackGroups,l,c),A=XE(f,A,w,o)):(A=vE(S,KB(h,r.filter(function(C){var T,E,N=a in C.props?C.props[a]:(T=C.type.defaultProps)===null||T===void 0?void 0:T[a],P="hide"in C.props?C.props.hide:(E=C.type.defaultProps)===null||E===void 0?void 0:E.hide;return N===w&&!P}),"number",d),i.defaultProps.allowDataOverflow),A=XE(f,A,w,o)),Y(Y({},v),{},Me({},w,Y(Y({axisType:o},i.defaultProps),{},{hide:!0,orientation:ai(s2e,"".concat(o,".").concat(g%2),null),domain:A,originalDomain:S,isCategorical:y,layout:d})))}return v},{})},h2e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=Ri(d,o),m={};return h&&h.length?m=d2e(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(m=f2e(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:c})),m},p2e=function(e){var n=Ma(e),r=Do(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:gC(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:h0(n,r)}},TM=function(e){var n=e.children,r=e.defaultShowTooltip,i=jr(n,wd),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},m2e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Vo(n&&n.type);return r&&r.indexOf("Bar")>=0})},IM=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},g2e=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,c=r.width,d=r.height,f=r.children,h=r.margin||{},m=jr(f,wd),y=jr(f,Eu),g=Object.keys(l).reduce(function(A,C){var T=l[C],E=T.orientation;return!T.mirror&&!T.hide?Y(Y({},A),{},Me({},E,A[E]+T.width)):A},{left:h.left||0,right:h.right||0}),v=Object.keys(a).reduce(function(A,C){var T=a[C],E=T.orientation;return!T.mirror&&!T.hide?Y(Y({},A),{},Me({},E,ai(A,"".concat(E))+T.height)):A},{top:h.top||0,bottom:h.bottom||0}),b=Y(Y({},v),g),x=b.bottom;m&&(b.bottom+=m.props.height||wd.defaultProps.height),y&&n&&(b=Y_e(b,i,r,n));var w=c-b.left-b.right,S=d-b.top-b.bottom;return Y(Y({brushBottom:x},b),{},{width:Math.max(w,0),height:Math.max(S,0)})},y2e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},v2e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(v,b){var x=b.graphicalItems,w=b.stackGroups,S=b.offset,A=b.updateId,C=b.dataStartIndex,T=b.dataEndIndex,E=v.barSize,N=v.layout,P=v.barGap,R=v.barCategoryGap,O=v.maxBarSize,j=IM(N),$=j.numericAxisName,V=j.cateAxisName,U=m2e(x),q=[];return x.forEach(function(L,K){var Q=Bb(v.data,{graphicalItems:[L],dataStartIndex:C,dataEndIndex:T}),ee=L.type.defaultProps!==void 0?Y(Y({},L.type.defaultProps),L.props):L.props,ne=ee.dataKey,oe=ee.maxBarSize,J=ee["".concat($,"Id")],fe=ee["".concat(V,"Id")],Ce={},te=l.reduce(function(Oe,de){var Ke=b["".concat(de.axisType,"Map")],Pe=ee["".concat(de.axisType,"Id")];Ke&&Ke[Pe]||de.axisType==="zAxis"||uc();var nt=Ke[Pe];return Y(Y({},Oe),{},Me(Me({},de.axisType,nt),"".concat(de.axisType,"Ticks"),Do(nt)))},Ce),Ae=te[V],ce=te["".concat(V,"Ticks")],ue=w&&w[J]&&w[J].hasStack&&dSe(L,w[J].stackGroups),se=Vo(L.type).indexOf("Bar")>=0,G=h0(Ae,ce),ke=[],M=U&&X_e({barSize:E,stackGroups:w,totalSize:y2e(te,V)});if(se){var F,H,ge=mt(oe)?O:oe,Se=(F=(H=h0(Ae,ce,!0))!==null&&H!==void 0?H:ge)!==null&&F!==void 0?F:0;ke=Q_e({barGap:P,barCategoryGap:R,bandSize:Se!==G?Se:G,sizeList:M[fe],maxBarSize:ge}),Se!==G&&(ke=ke.map(function(Oe){return Y(Y({},Oe),{},{position:Y(Y({},Oe.position),{},{offset:Oe.position.offset-Se/2})})}))}var je=L&&L.type&&L.type.getComposedData;je&&q.push({props:Y(Y({},je(Y(Y({},te),{},{displayedData:Q,props:v,dataKey:ne,item:L,bandSize:G,barPosition:ke,offset:S,stackedData:ue,layout:N,dataStartIndex:C,dataEndIndex:T}))),{},Me(Me(Me({key:L.key||"item-".concat(K)},$,te[$]),V,te[V]),"animationId",A)),childIndex:Kce(L,v.children),item:L})}),q},m=function(v,b){var x=v.props,w=v.dataStartIndex,S=v.dataEndIndex,A=v.updateId;if(!JO({props:x}))return null;var C=x.children,T=x.layout,E=x.stackOffset,N=x.data,P=x.reverseStackOrder,R=IM(T),O=R.numericAxisName,j=R.cateAxisName,$=Ri(C,r),V=lSe(N,$,"".concat(O,"Id"),"".concat(j,"Id"),E,P),U=l.reduce(function(ee,ne){var oe="".concat(ne.axisType,"Map");return Y(Y({},ee),{},Me({},oe,h2e(x,Y(Y({},ne),{},{graphicalItems:$,stackGroups:ne.axisType===O&&V,dataStartIndex:w,dataEndIndex:S}))))},{}),q=g2e(Y(Y({},U),{},{props:x,graphicalItems:$}),b==null?void 0:b.legendBBox);Object.keys(U).forEach(function(ee){U[ee]=d(x,U[ee],q,ee.replace("Map",""),n)});var L=U["".concat(j,"Map")],K=p2e(L),Q=h(x,Y(Y({},U),{},{dataStartIndex:w,dataEndIndex:S,updateId:A,graphicalItems:$,stackGroups:V,offset:q}));return Y(Y({formattedGraphicalItems:Q,graphicalItems:$,offset:q,stackGroups:V},K),U)},y=function(g){function v(b){var x,w,S;return Qke(this,v),S=Zke(this,v,[b]),Me(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Me(S,"accessibilityManager",new Mke),Me(S,"handleLegendBBoxUpdate",function(A){if(A){var C=S.state,T=C.dataStartIndex,E=C.dataEndIndex,N=C.updateId;S.setState(Y({legendBBox:A},m({props:S.props,dataStartIndex:T,dataEndIndex:E,updateId:N},Y(Y({},S.state),{},{legendBBox:A}))))}}),Me(S,"handleReceiveSyncEvent",function(A,C,T){if(S.props.syncId===A){if(T===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(C)}}),Me(S,"handleBrushChange",function(A){var C=A.startIndex,T=A.endIndex;if(C!==S.state.dataStartIndex||T!==S.state.dataEndIndex){var E=S.state.updateId;S.setState(function(){return Y({dataStartIndex:C,dataEndIndex:T},m({props:S.props,dataStartIndex:C,dataEndIndex:T,updateId:E},S.state))}),S.triggerSyncEvent({dataStartIndex:C,dataEndIndex:T})}}),Me(S,"handleMouseEnter",function(A){var C=S.getMouseInfo(A);if(C){var T=Y(Y({},C),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var E=S.props.onMouseEnter;et(E)&&E(T,A)}}),Me(S,"triggeredAfterMouseMove",function(A){var C=S.getMouseInfo(A),T=C?Y(Y({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var E=S.props.onMouseMove;et(E)&&E(T,A)}),Me(S,"handleItemMouseEnter",function(A){S.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Me(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Me(S,"handleMouseMove",function(A){A.persist(),S.throttleTriggeredAfterMouseMove(A)}),Me(S,"handleMouseLeave",function(A){S.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var T=S.props.onMouseLeave;et(T)&&T(C,A)}),Me(S,"handleOuterEvent",function(A){var C=qce(A),T=ai(S.props,"".concat(C));if(C&&et(T)){var E,N;/.*touch.*/i.test(C)?N=S.getMouseInfo(A.changedTouches[0]):N=S.getMouseInfo(A),T((E=N)!==null&&E!==void 0?E:{},A)}}),Me(S,"handleClick",function(A){var C=S.getMouseInfo(A);if(C){var T=Y(Y({},C),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var E=S.props.onClick;et(E)&&E(T,A)}}),Me(S,"handleMouseDown",function(A){var C=S.props.onMouseDown;if(et(C)){var T=S.getMouseInfo(A);C(T,A)}}),Me(S,"handleMouseUp",function(A){var C=S.props.onMouseUp;if(et(C)){var T=S.getMouseInfo(A);C(T,A)}}),Me(S,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Me(S,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseDown(A.changedTouches[0])}),Me(S,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseUp(A.changedTouches[0])}),Me(S,"triggerSyncEvent",function(A){S.props.syncId!==void 0&&R1.emit(j1,S.props.syncId,A,S.eventEmitterSymbol)}),Me(S,"applySyncEvent",function(A){var C=S.props,T=C.layout,E=C.syncMethod,N=S.state.updateId,P=A.dataStartIndex,R=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)S.setState(Y({dataStartIndex:P,dataEndIndex:R},m({props:S.props,dataStartIndex:P,dataEndIndex:R,updateId:N},S.state)));else if(A.activeTooltipIndex!==void 0){var O=A.chartX,j=A.chartY,$=A.activeTooltipIndex,V=S.state,U=V.offset,q=V.tooltipTicks;if(!U)return;if(typeof E=="function")$=E(q,A);else if(E==="value"){$=-1;for(var L=0;L<q.length;L++)if(q[L].value===A.activeLabel){$=L;break}}var K=Y(Y({},U),{},{x:U.left,y:U.top}),Q=Math.min(O,K.x+K.width),ee=Math.min(j,K.y+K.height),ne=q[$]&&q[$].value,oe=JE(S.state,S.props.data,$),J=q[$]?{x:T==="horizontal"?q[$].coordinate:Q,y:T==="horizontal"?ee:q[$].coordinate}:tz;S.setState(Y(Y({},A),{},{activeLabel:ne,activeCoordinate:J,activePayload:oe,activeTooltipIndex:$}))}else S.setState(A)}),Me(S,"renderCursor",function(A){var C,T=S.state,E=T.isTooltipActive,N=T.activeCoordinate,P=T.activePayload,R=T.offset,O=T.activeTooltipIndex,j=T.tooltipAxisBandSize,$=S.getTooltipEventType(),V=(C=A.props.active)!==null&&C!==void 0?C:E,U=S.props.layout,q=A.key||"_recharts-cursor";return B.createElement(zke,{key:q,activeCoordinate:N,activePayload:P,activeTooltipIndex:O,chartName:n,element:A,isActive:V,layout:U,offset:R,tooltipAxisBandSize:j,tooltipEventType:$})}),Me(S,"renderPolarAxis",function(A,C,T){var E=ai(A,"type.axisType"),N=ai(S.state,"".concat(E,"Map")),P=A.type.defaultProps,R=P!==void 0?Y(Y({},P),A.props):A.props,O=N&&N[R["".concat(E,"Id")]];return _.cloneElement(A,Y(Y({},O),{},{className:st(E,O.className),key:A.key||"".concat(C,"-").concat(T),ticks:Do(O,!0)}))}),Me(S,"renderPolarGrid",function(A){var C=A.props,T=C.radialLines,E=C.polarAngles,N=C.polarRadius,P=S.state,R=P.radiusAxisMap,O=P.angleAxisMap,j=Ma(R),$=Ma(O),V=$.cx,U=$.cy,q=$.innerRadius,L=$.outerRadius;return _.cloneElement(A,{polarAngles:Array.isArray(E)?E:Do($,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(N)?N:Do(j,!0).map(function(K){return K.coordinate}),cx:V,cy:U,innerRadius:q,outerRadius:L,key:A.key||"polar-grid",radialLines:T})}),Me(S,"renderLegend",function(){var A=S.state.formattedGraphicalItems,C=S.props,T=C.children,E=C.width,N=C.height,P=S.props.margin||{},R=E-(P.left||0)-(P.right||0),O=HB({children:T,formattedGraphicalItems:A,legendWidth:R,legendContent:c});if(!O)return null;var j=O.item,$=_M(O,Wke);return _.cloneElement(j,Y(Y({},$),{},{chartWidth:E,chartHeight:N,margin:P,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Me(S,"renderTooltip",function(){var A,C=S.props,T=C.children,E=C.accessibilityLayer,N=jr(T,Ki);if(!N)return null;var P=S.state,R=P.isTooltipActive,O=P.activeCoordinate,j=P.activePayload,$=P.activeLabel,V=P.offset,U=(A=N.props.active)!==null&&A!==void 0?A:R;return _.cloneElement(N,{viewBox:Y(Y({},V),{},{x:V.left,y:V.top}),active:U,label:$,payload:U?j:[],coordinate:O,accessibilityLayer:E})}),Me(S,"renderBrush",function(A){var C=S.props,T=C.margin,E=C.data,N=S.state,P=N.offset,R=N.dataStartIndex,O=N.dataEndIndex,j=N.updateId;return _.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Wg(S.handleBrushChange,A.props.onChange),data:E,x:me(A.props.x)?A.props.x:P.left,y:me(A.props.y)?A.props.y:P.top+P.height+P.brushBottom-(T.bottom||0),width:me(A.props.width)?A.props.width:P.width,startIndex:R,endIndex:O,updateId:"brush-".concat(j)})}),Me(S,"renderReferenceElement",function(A,C,T){if(!A)return null;var E=S,N=E.clipPathId,P=S.state,R=P.xAxisMap,O=P.yAxisMap,j=P.offset,$=A.type.defaultProps||{},V=A.props,U=V.xAxisId,q=U===void 0?$.xAxisId:U,L=V.yAxisId,K=L===void 0?$.yAxisId:L;return _.cloneElement(A,{key:A.key||"".concat(C,"-").concat(T),xAxis:R[q],yAxis:O[K],viewBox:{x:j.left,y:j.top,width:j.width,height:j.height},clipPathId:N})}),Me(S,"renderActivePoints",function(A){var C=A.item,T=A.activePoint,E=A.basePoint,N=A.childIndex,P=A.isRange,R=[],O=C.props.key,j=C.item.type.defaultProps!==void 0?Y(Y({},C.item.type.defaultProps),C.item.props):C.item.props,$=j.activeDot,V=j.dataKey,U=Y(Y({index:N,dataKey:V,cx:T.x,cy:T.y,r:4,fill:zC(C.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},ct($,!1)),$v($));return R.push(v.renderActiveDot($,U,"".concat(O,"-activePoint-").concat(N))),E?R.push(v.renderActiveDot($,Y(Y({},U),{},{cx:E.x,cy:E.y}),"".concat(O,"-basePoint-").concat(N))):P&&R.push(null),R}),Me(S,"renderGraphicChild",function(A,C,T){var E=S.filterFormatItem(A,C,T);if(!E)return null;var N=S.getTooltipEventType(),P=S.state,R=P.isTooltipActive,O=P.tooltipAxis,j=P.activeTooltipIndex,$=P.activeLabel,V=S.props.children,U=jr(V,Ki),q=E.props,L=q.points,K=q.isRange,Q=q.baseLine,ee=E.item.type.defaultProps!==void 0?Y(Y({},E.item.type.defaultProps),E.item.props):E.item.props,ne=ee.activeDot,oe=ee.hide,J=ee.activeBar,fe=ee.activeShape,Ce=!!(!oe&&R&&U&&(ne||J||fe)),te={};N!=="axis"&&U&&U.props.trigger==="click"?te={onClick:Wg(S.handleItemMouseEnter,A.props.onClick)}:N!=="axis"&&(te={onMouseLeave:Wg(S.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Wg(S.handleItemMouseEnter,A.props.onMouseEnter)});var Ae=_.cloneElement(A,Y(Y({},E.props),te));function ce(de){return typeof O.dataKey=="function"?O.dataKey(de.payload):null}if(Ce)if(j>=0){var ue,se;if(O.dataKey&&!O.allowDuplicatedCategory){var G=typeof O.dataKey=="function"?ce:"payload.".concat(O.dataKey.toString());ue=NS(L,G,$),se=K&&Q&&NS(Q,G,$)}else ue=L==null?void 0:L[j],se=K&&Q&&Q[j];if(fe||J){var ke=A.props.activeIndex!==void 0?A.props.activeIndex:j;return[_.cloneElement(A,Y(Y(Y({},E.props),te),{},{activeIndex:ke})),null,null]}if(!mt(ue))return[Ae].concat(kd(S.renderActivePoints({item:E,activePoint:ue,basePoint:se,childIndex:j,isRange:K})))}else{var M,F=(M=S.getItemByXY(S.state.activeCoordinate))!==null&&M!==void 0?M:{graphicalItem:Ae},H=F.graphicalItem,ge=H.item,Se=ge===void 0?A:ge,je=H.childIndex,Oe=Y(Y(Y({},E.props),te),{},{activeIndex:je});return[_.cloneElement(Se,Oe),null,null]}return K?[Ae,null,null]:[Ae,null]}),Me(S,"renderCustomized",function(A,C,T){return _.cloneElement(A,Y(Y({key:"recharts-customized-".concat(T)},S.props),S.state))}),Me(S,"renderMap",{CartesianGrid:{handler:Xg,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Xg},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Xg},YAxis:{handler:Xg},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:hb("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=W8(S.triggeredAfterMouseMove,(w=b.throttleDelay)!==null&&w!==void 0?w:1e3/60),S.state={},S}return n2e(v,g),Jke(v,[{key:"componentDidMount",value:function(){var x,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,w=x.children,S=x.data,A=x.height,C=x.layout,T=jr(w,Ki);if(T){var E=T.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,P=JE(this.state,S,E,N),R=this.state.tooltipTicks[E].coordinate,O=(this.state.offset.top+A)/2,j=C==="horizontal",$=j?{x:R,y:O}:{y:R,x:O},V=this.state.formattedGraphicalItems.find(function(q){var L=q.item;return L.type.name==="Scatter"});V&&($=Y(Y({},$),V.props.points[E].tooltipPosition),P=V.props.points[E].tooltipPayload);var U={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:N,activePayload:P,activeCoordinate:$};this.setState(U),this.renderCursor(T),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var S,A;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(x){RS([jr(x.children,Ki)],[jr(this.props.children,Ki)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=jr(this.props.children,Ki);if(x&&typeof x.props.shared=="boolean"){var w=x.props.shared?"axis":"item";return s.indexOf(w)>=0?w:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var w=this.container,S=w.getBoundingClientRect(),A=bxe(S),C={chartX:Math.round(x.pageX-A.left),chartY:Math.round(x.pageY-A.top)},T=S.width/w.offsetWidth||1,E=this.inRange(C.chartX,C.chartY,T);if(!E)return null;var N=this.state,P=N.xAxisMap,R=N.yAxisMap,O=this.getTooltipEventType();if(O!=="axis"&&P&&R){var j=Ma(P).scale,$=Ma(R).scale,V=j&&j.invert?j.invert(C.chartX):null,U=$&&$.invert?$.invert(C.chartY):null;return Y(Y({},C),{},{xValue:V,yValue:U})}var q=EM(this.state,this.props.data,this.props.layout,E);return q?Y(Y({},C),q):null}},{key:"inRange",value:function(x,w){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,C=x/S,T=w/S;if(A==="horizontal"||A==="vertical"){var E=this.state.offset,N=C>=E.left&&C<=E.left+E.width&&T>=E.top&&T<=E.top+E.height;return N?{x:C,y:T}:null}var P=this.state,R=P.angleAxisMap,O=P.radiusAxisMap;if(R&&O){var j=Ma(R);return sD({x:C,y:T},j)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,w=this.getTooltipEventType(),S=jr(x,Ki),A={};S&&w==="axis"&&(S.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var C=$v(this.props,this.handleOuterEvent);return Y(Y({},C),A)}},{key:"addListener",value:function(){R1.on(j1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){R1.removeListener(j1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,w,S){for(var A=this.state.formattedGraphicalItems,C=0,T=A.length;C<T;C++){var E=A[C];if(E.item===x||E.props.key===x.key||w===Vo(E.item.type)&&S===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,w=this.state.offset,S=w.left,A=w.top,C=w.height,T=w.width;return B.createElement("defs",null,B.createElement("clipPath",{id:x},B.createElement("rect",{x:S,y:A,height:C,width:T})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(w,S){var A=wM(S,2),C=A[0],T=A[1];return Y(Y({},w),{},Me({},C,T.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(w,S){var A=wM(S,2),C=A[0],T=A[1];return Y(Y({},w),{},Me({},C,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[x])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(x){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[x])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(x){var w=this.state,S=w.formattedGraphicalItems,A=w.activeItem;if(S&&S.length)for(var C=0,T=S.length;C<T;C++){var E=S[C],N=E.props,P=E.item,R=P.type.defaultProps!==void 0?Y(Y({},P.type.defaultProps),P.props):P.props,O=Vo(P.type);if(O==="Bar"){var j=(N.data||[]).find(function(q){return qTe(x,q)});if(j)return{graphicalItem:E,payload:j}}else if(O==="RadialBar"){var $=(N.data||[]).find(function(q){return sD(x,q)});if($)return{graphicalItem:E,payload:$}}else if(Ob(E,A)||Rb(E,A)||qp(E,A)){var V=XIe({graphicalItem:E,activeTooltipItem:A,itemData:R.data}),U=R.activeIndex===void 0?V:R.activeIndex;return{graphicalItem:Y(Y({},E),{},{childIndex:U}),payload:qp(E,A)?R.data[V]:E.props.data[V]}}}return null}},{key:"render",value:function(){var x=this;if(!JO(this))return null;var w=this.props,S=w.children,A=w.className,C=w.width,T=w.height,E=w.style,N=w.compact,P=w.title,R=w.desc,O=_M(w,Hke),j=ct(O,!1);if(N)return B.createElement(aM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(DS,Ch({},j,{width:C,height:T,title:P,desc:R}),this.renderClipPath(),eR(S,this.renderMap)));if(this.props.accessibilityLayer){var $,V;j.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,j.role=(V=this.props.role)!==null&&V!==void 0?V:"application",j.onKeyDown=function(q){x.accessibilityManager.keyboardEvent(q)},j.onFocus=function(){x.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return B.createElement(aM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",Ch({className:st("recharts-wrapper",A),style:Y({position:"relative",cursor:"default",width:C,height:T},E)},U,{ref:function(L){x.container=L}}),B.createElement(DS,Ch({},j,{width:C,height:T,title:P,desc:R,style:l2e}),this.renderClipPath(),eR(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(_.Component);return Me(y,"displayName",n),Me(y,"defaultProps",Y({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Me(y,"getDerivedStateFromProps",function(g,v){var b=g.dataKey,x=g.data,w=g.children,S=g.width,A=g.height,C=g.layout,T=g.stackOffset,E=g.margin,N=v.dataStartIndex,P=v.dataEndIndex;if(v.updateId===void 0){var R=TM(g);return Y(Y(Y({},R),{},{updateId:0},m(Y(Y({props:g},R),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:x,prevWidth:S,prevHeight:A,prevLayout:C,prevStackOffset:T,prevMargin:E,prevChildren:w})}if(b!==v.prevDataKey||x!==v.prevData||S!==v.prevWidth||A!==v.prevHeight||C!==v.prevLayout||T!==v.prevStackOffset||!Su(E,v.prevMargin)){var O=TM(g),j={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},$=Y(Y({},EM(v,x,C)),{},{updateId:v.updateId+1}),V=Y(Y(Y({},O),j),$);return Y(Y(Y({},V),m(Y({props:g},V),v)),{},{prevDataKey:b,prevData:x,prevWidth:S,prevHeight:A,prevLayout:C,prevStackOffset:T,prevMargin:E,prevChildren:w})}if(!RS(w,v.prevChildren)){var U,q,L,K,Q=jr(w,wd),ee=Q&&(U=(q=Q.props)===null||q===void 0?void 0:q.startIndex)!==null&&U!==void 0?U:N,ne=Q&&(L=(K=Q.props)===null||K===void 0?void 0:K.endIndex)!==null&&L!==void 0?L:P,oe=ee!==N||ne!==P,J=!mt(x),fe=J&&!oe?v.updateId:v.updateId+1;return Y(Y({updateId:fe},m(Y(Y({props:g},v),{},{updateId:fe,dataStartIndex:ee,dataEndIndex:ne}),v)),{},{prevChildren:w,dataStartIndex:ee,dataEndIndex:ne})}return null}),Me(y,"renderActiveDot",function(g,v,b){var x;return _.isValidElement(g)?x=_.cloneElement(g,v):et(g)?x=g(v):x=B.createElement(fU,v),B.createElement(En,{className:"recharts-active-dot",key:b},x)}),function(v){return B.createElement(y,v)}},x2e=v2e({chartName:"BarChart",GraphicalChild:wc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Vb},{axisType:"yAxis",AxisComp:Fb}],formatAxisMap:bCe});const b2e=[{name:"Mon",sales:4e3},{name:"Tue",sales:3e3},{name:"Wed",sales:2e3},{name:"Thu",sales:2780},{name:"Fri",sales:1890},{name:"Sat",sales:2390},{name:"Sun",sales:3490}],w2e=()=>u.jsxs("div",{className:"p-6 space-y-6 w-full",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h1",{className:"text-3xl font-semibold",children:"Reports"}),u.jsxs(Es,{defaultValue:"week",children:[u.jsx(Jo,{className:"w-[180px]",children:u.jsx(Ts,{placeholder:"Select period"})}),u.jsxs(Zo,{children:[u.jsx(zt,{value:"day",children:"Today"}),u.jsx(zt,{value:"week",children:"This Week"}),u.jsx(zt,{value:"month",children:"This Month"}),u.jsx(zt,{value:"year",children:"This Year"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs(ht,{children:[u.jsxs(yt,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[u.jsx(vt,{className:"text-sm font-medium",children:"Weekly Sales"}),u.jsx(fK,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(pt,{children:[u.jsx("div",{className:"text-2xl font-bold",children:"$12,234"}),u.jsxs("div",{className:"flex items-center text-xs text-green-500",children:[u.jsx(Dw,{className:"h-4 w-4 mr-1"}),"+15% from last week"]})]})]}),u.jsxs(ht,{children:[u.jsxs(yt,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[u.jsx(vt,{className:"text-sm font-medium",children:"Average Order Value"}),u.jsx(Dw,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(pt,{children:[u.jsx("div",{className:"text-2xl font-bold",children:"$54.32"}),u.jsxs("div",{className:"flex items-center text-xs text-green-500",children:[u.jsx(Dw,{className:"h-4 w-4 mr-1"}),"+2.3% from last week"]})]})]}),u.jsxs(ht,{children:[u.jsxs(yt,{className:"flex flex-row items-center justify-between pb-2 space-y-0",children:[u.jsx(vt,{className:"text-sm font-medium",children:"Refunds"}),u.jsx(h2,{className:"h-4 w-4 text-muted-foreground"})]}),u.jsxs(pt,{children:[u.jsx("div",{className:"text-2xl font-bold",children:"$-234.50"}),u.jsxs("div",{className:"flex items-center text-xs text-red-500",children:[u.jsx(h2,{className:"h-4 w-4 mr-1"}),"+0.8% from last week"]})]})]})]}),u.jsxs(ht,{children:[u.jsx(yt,{children:u.jsx(vt,{children:"Sales Overview"})}),u.jsx(pt,{children:u.jsx("div",{className:"h-[300px]",children:u.jsx(hxe,{width:"100%",height:"100%",children:u.jsxs(x2e,{data:b2e,children:[u.jsx(UU,{strokeDasharray:"3 3"}),u.jsx(Vb,{dataKey:"name"}),u.jsx(Fb,{}),u.jsx(Ki,{}),u.jsx(wc,{dataKey:"sales",fill:"#2563eb"})]})})})})]})]}),_2e=({storeInfo:t,logoPreview:e,loading:n,onInputChange:r,onLogoChange:i,onRemoveLogo:o,onSave:a})=>u.jsxs(ht,{className:"bg-secondary/30 border-theme-light",children:[u.jsx(yt,{className:"bg-gradient-to-r from-secondary to-secondary/50 rounded-t-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs(vt,{className:"flex items-center gap-2",children:[u.jsx(T4,{className:"h-5 w-5 text-primary"}),"Store Information"]}),u.jsx(pA,{children:"Manage your store details and contact information"})]}),u.jsx(ie,{onClick:a,className:"bg-primary hover:bg-primary/80",disabled:n,children:n?u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),u.jsx("span",{children:"Saving..."})]}):u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ix,{className:"h-4 w-4"}),u.jsx("span",{children:"Save Changes"})]})})]})}),u.jsxs(pt,{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"logo",className:"flex items-center",children:"Business Logo"}),u.jsxs("div",{className:"flex flex-col gap-4",children:[e&&u.jsx("div",{className:"border p-2 rounded-md w-40 h-40 flex items-center justify-center border-primary/30",children:u.jsx("img",{src:e,alt:"Business Logo",className:"max-h-full max-w-full object-contain"})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx($e,{id:"logo",type:"file",onChange:i,accept:"image/*",className:"hidden"}),u.jsxs(ie,{type:"button",variant:"outline",onClick:()=>{var s;return(s=document.getElementById("logo"))==null?void 0:s.click()},className:"gap-2 border-primary/30 text-primary hover:bg-primary/10",children:[u.jsx(wK,{className:"h-4 w-4"}),e?"Change Logo":"Upload Logo"]}),e&&u.jsx(ie,{type:"button",variant:"outline",onClick:o,className:"text-red-500 hover:text-red-600 border-red-300",children:"Remove"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"businessName",children:"Business Display Name"}),u.jsx($e,{id:"businessName",value:t.businessName,onChange:s=>r("businessName",s.target.value),placeholder:"Enter business name",required:!0,className:"border-primary/30 focus:border-primary"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"registeredName",children:"Registered Name"}),u.jsx($e,{id:"registeredName",value:t.registeredName,onChange:s=>r("registeredName",s.target.value),placeholder:"Enter registered name",className:"border-primary/30 focus:border-primary"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"registrationId",children:"Registration ID"}),u.jsx($e,{id:"registrationId",value:t.registrationId,onChange:s=>r("registrationId",s.target.value),placeholder:"Enter business registration ID",className:"border-primary/30 focus:border-primary"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"email",children:"Email Address"}),u.jsx($e,{id:"email",type:"email",value:t.email,onChange:s=>r("email",s.target.value),placeholder:"Enter email",className:"border-primary/30 focus:border-primary"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"phone",children:"Phone Number"}),u.jsx($e,{id:"phone",type:"tel",value:t.phone,onChange:s=>r("phone",s.target.value),placeholder:"Enter phone number",className:"border-primary/30 focus:border-primary"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"address",children:"Address"}),u.jsx($e,{id:"address",value:t.address,onChange:s=>r("address",s.target.value),placeholder:"Enter store address",className:"border-primary/30 focus:border-primary"})]})]})]});var eP="Switch",[S2e,sOe]=$s(eP),[E2e,T2e]=S2e(eP),rz=_.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:a,disabled:s,value:l="on",onCheckedChange:c,form:d,...f}=t,[h,m]=_.useState(null),y=At(e,w=>m(w)),g=_.useRef(!1),v=h?d||!!h.closest("form"):!0,[b=!1,x]=Ss({prop:i,defaultProp:o,onChange:c});return u.jsxs(E2e,{scope:n,checked:b,disabled:s,children:[u.jsx(ze.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":az(b),"data-disabled":s?"":void 0,disabled:s,value:l,...f,ref:y,onClick:Be(t.onClick,w=>{x(S=>!S),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&u.jsx(I2e,{control:h,bubbles:!g.current,name:r,value:l,checked:b,required:a,disabled:s,form:d,style:{transform:"translateX(-100%)"}})]})});rz.displayName=eP;var iz="SwitchThumb",oz=_.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=T2e(iz,n);return u.jsx(ze.span,{"data-state":az(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});oz.displayName=iz;var I2e=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,o=_.useRef(null),a=IA(n),s=_A(e);return _.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(a!==n&&f){const h=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(h)}},[a,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...t.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function az(t){return t?"checked":"unchecked"}var sz=rz,A2e=oz;const Fl=_.forwardRef(({className:t,...e},n)=>u.jsx(sz,{className:we("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:u.jsx(A2e,{className:we("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Fl.displayName=sz.displayName;const C2e={theme:"system",setTheme:()=>null},lz=_.createContext(C2e);function P2e({children:t,defaultTheme:e="system",storageKey:n="ui-theme",...r}){const[i,o]=_.useState(()=>localStorage.getItem(n)||e);_.useEffect(()=>{const s=window.document.documentElement;if(s.classList.remove("light","dark"),i==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";s.classList.add(l);return}s.classList.add(i)},[i]);const a={theme:i,setTheme:s=>{localStorage.setItem(n,s),o(s)}};return u.jsx(lz.Provider,{...r,value:a,children:t})}const cz=()=>{const t=_.useContext(lz);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},k2e=()=>{const{theme:t,setTheme:e}=cz(),[n,r]=_.useState({emailNotifications:!1,automaticUpdates:!0,darkMode:t==="dark"});_.useEffect(()=>{const o=localStorage.getItem("systemPreferences");if(o)try{const a=JSON.parse(o);r({...a,darkMode:t==="dark"})}catch(a){console.error("Error parsing saved preferences:",a)}},[t]);const i=o=>{const a={...n,[o]:!n[o]};if(r(a),localStorage.setItem("systemPreferences",JSON.stringify(a)),o==="darkMode")e(a.darkMode?"dark":"light"),ve.info(a.darkMode?"Dark Mode Enabled":"Light Mode Enabled");else{const s=o.replace(/([A-Z])/g," $1").replace(/^./,l=>l.toUpperCase());ve.info(`${s} has been ${a[o]?"enabled":"disabled"}.`)}};return u.jsxs(ht,{className:"bg-secondary/30 border-theme-light",children:[u.jsxs(yt,{className:"bg-gradient-to-r from-secondary to-secondary/50 rounded-t-lg",children:[u.jsxs(vt,{className:"flex items-center gap-2",children:[u.jsx(T4,{className:"h-5 w-5 text-primary"}),"System Preferences"]}),u.jsx(pA,{children:"Configure system-wide settings and notifications"})]}),u.jsxs(pt,{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx(Te,{children:"Email Notifications"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email alerts for new orders"})]}),u.jsx(Fl,{checked:n.emailNotifications,onCheckedChange:()=>i("emailNotifications")})]}),u.jsx(cd,{}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx(Te,{children:"Automatic Updates"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep the system up to date"})]}),u.jsx(Fl,{checked:n.automaticUpdates,onCheckedChange:()=>i("automaticUpdates"),defaultChecked:!0})]}),u.jsx(cd,{}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5 flex gap-2 items-center",children:[u.jsx("div",{className:"text-primary",children:n.darkMode?u.jsx(kK,{className:"h-5 w-5"}):u.jsx(D4,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx(Te,{children:"Dark Mode"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Toggle between light and dark theme"})]})]}),u.jsx(Fl,{checked:n.darkMode,onCheckedChange:()=>i("darkMode")})]})]})]})},Uc="store_info_cache",N2e=()=>{const[t,e]=_.useState(!1),[n,r]=_.useState(null),[i,o]=_.useState(null),[a,s]=_.useState({businessName:"",registeredName:"",registrationId:"",email:"",phone:"",address:""});return _.useEffect(()=>{(async()=>{var m;try{const y=localStorage.getItem("storeInfo");if(y)try{const w=JSON.parse(y);s(w),w.logoUrl&&o(w.logoUrl),console.log("Using localStorage store info");return}catch(w){console.error("Error parsing local store info:",w)}const g=wr(Uc),v=Nte(Uc);if(g&&Am(Uc)){s(g),g.logoUrl&&o(g.logoUrl),console.log("Using cached store info");return}const b=sr(pr(ft,Ty),YI("updatedAt","desc"),ZI(1)),x=await oo(b);if(!x.empty){const w=x.docs[0],S=w.data(),A=((m=S.updatedAt)==null?void 0:m.toMillis())||Date.now();if(v>=A&&g){s(g),g.logoUrl&&o(g.logoUrl),console.log("Using cached store info (server not newer)");return}const C={...S,id:w.id};s(C),C.logoUrl&&o(C.logoUrl),rn(Uc,C,A),localStorage.setItem("storeInfo",JSON.stringify(C))}}catch(y){console.error("Error fetching store info:",y),ve.error("Failed to load store information.");const g=wr(Uc);g&&(s(g),g.logoUrl&&o(g.logoUrl),console.log("Using cached store info after fetch error"))}})()},[]),{storeInfo:a,logoPreview:i,loading:t,handleInputChange:(h,m)=>{s(y=>({...y,[h]:m}))},handleLogoChange:h=>{if(h.target.files&&h.target.files[0]){const m=h.target.files[0];r(m);const y=new FileReader;y.onload=g=>{var v;(v=g.target)!=null&&v.result&&o(g.target.result)},y.readAsDataURL(m)}},handleRemoveLogo:()=>{o(null),r(null),s(h=>({...h,logoUrl:void 0}))},handleSaveStoreInfo:async()=>{if(!a.businessName){ve.error("Business name is required.");return}e(!0);try{let h=a.logoUrl;if(n)try{h=await Nm(n)}catch(y){console.error("Error converting logo to base64:",y),ve.warning("Failed to process logo. Using previous logo if available.")}const m={...a,logoUrl:h,updatedAt:new Date};if(a.id)await ls(Ln(ft,Ty,a.id),m);else{const y=Ln(pr(ft,Ty));await dp(y,m),m.id=y.id}s(m),rn(Uc,m,Date.now()),localStorage.setItem("storeInfo",JSON.stringify(m)),window.dispatchEvent(new StorageEvent("storage",{key:"storeInfo",newValue:JSON.stringify(m)})),ve.success("Store information saved successfully.")}catch(h){console.error("Error saving store information:",h),ve.error("Failed to save store information.")}finally{e(!1)}}}},O2e=()=>{const{storeInfo:t,logoPreview:e,loading:n,handleInputChange:r,handleLogoChange:i,handleRemoveLogo:o,handleSaveStoreInfo:a}=N2e();return u.jsxs("div",{className:"p-6 space-y-6 w-full",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h1",{className:"text-3xl font-semibold text-primary",children:"Settings"}),u.jsx(j4,{className:"h-6 w-6 text-primary"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsx(_2e,{storeInfo:t,logoPreview:e,loading:n,onInputChange:r,onLogoChange:i,onRemoveLogo:o,onSave:a}),u.jsx(k2e,{})]})]})},R2e=({users:t,searchQuery:e,onUpdateUsers:n})=>{const r=nr(),[i,o]=_.useState(1),[a,s]=_.useState(5),[l,c]=_.useState(null),[d,f]=_.useState(""),h=t.filter(C=>C.name.toLowerCase().includes(e.toLowerCase())||C.email.toLowerCase().includes(e.toLowerCase())||C.role.toLowerCase().includes(e.toLowerCase())),m=Math.ceil(h.length/a),y=(i-1)*a,g=h.slice(y,y+a),v=C=>{C<1&&(C=1),C>m&&(C=m),o(C)},b=C=>{switch(C){case"admin":return u.jsx(_r,{className:"bg-primary",children:"Admin"});case"cashier":return u.jsx(_r,{className:"bg-blue-600",children:"Cashier"});case"helper":return u.jsx(_r,{className:"bg-green-600",children:"Helper"});default:return u.jsx(_r,{children:"Unknown"})}},x=(C,T)=>{c(C),f(T)},w=async C=>{if(!d.trim()){ve.error("Name cannot be empty");return}try{await ls(Ln(ft,ni,C),{name:d,updatedAt:Ar()}),cs(qt.USERS);const T=t.map(E=>E.id===C?{...E,name:d}:E);n(T),rn("users_cache",T),ve.success("User name updated successfully"),c(null)}catch(T){console.error("Error updating user name:",T),ve.error("Failed to update user name")}},S=async(C,T)=>{try{await ls(Ln(ft,ni,C),{active:!T,updatedAt:Ar()}),cs(qt.USERS);const E=t.map(N=>N.id===C?{...N,active:!T}:N);n(E),rn("users_cache",E),ve.success(`User has been ${T?"deactivated":"activated"}.`)}catch(E){console.error("Error updating user status:",E),ve.error("Failed to update user status")}},A=async(C,T)=>{try{await ls(Ln(ft,ni,C),{role:T,updatedAt:Ar()}),cs(qt.USERS);const E=t.map(N=>N.id===C?{...N,role:T}:N);n(E),rn("users_cache",E),ve.success(`User role has been changed to ${T}.`)}catch(E){console.error("Error updating user role:",E),ve.error("Failed to update user role")}};return u.jsxs("div",{className:"rounded-md border overflow-hidden border-primary/30",children:[u.jsxs(ea,{children:[u.jsx(ta,{className:"bg-secondary",children:u.jsxs(Ht,{children:[u.jsx(De,{children:"User"}),u.jsx(De,{children:"Email"}),u.jsx(De,{children:"Role"}),u.jsx(De,{children:"Status"}),u.jsx(De,{children:"Created"}),u.jsx(De,{className:"text-right",children:"Actions"})]})}),u.jsx(na,{children:t.length===0?u.jsx(Ht,{children:u.jsx(Ne,{colSpan:6,className:"text-center py-8",children:u.jsx("div",{className:"flex flex-col items-center justify-center",children:u.jsx("p",{children:"No users found"})})})}):h.length===0?u.jsx(Ht,{children:u.jsx(Ne,{colSpan:6,className:"text-center py-8",children:"No users match your search"})}):g.length===0?u.jsx(Ht,{children:u.jsx(Ne,{colSpan:6,className:"text-center py-8",children:"No users on this page"})}):g.map(C=>u.jsxs(Ht,{className:"hover:bg-secondary/50",children:[u.jsx(Ne,{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden",children:C.photoURL?u.jsx(vs,{children:u.jsx(Cm,{src:C.photoURL+"?sz=200",alt:C.name})}):u.jsx(vs,{children:u.jsx(ic,{children:C.name.charAt(0).toUpperCase()})})}),l===C.id?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"text",value:d,onChange:T=>f(T.target.value),className:"border rounded px-2 py-1 text-sm w-40 border-primary/30",autoFocus:!0,onKeyDown:T=>{T.key==="Enter"&&w(C.id),T.key==="Escape"&&c(null)}}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(ie,{variant:"ghost",size:"sm",className:"px-2 h-7 text-green-600",onClick:()=>w(C.id),children:"Save"}),u.jsx(ie,{variant:"ghost",size:"sm",className:"px-2 h-7 text-red-500",onClick:()=>c(null),children:"Cancel"})]})]}):u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ie,{variant:"link",className:"p-0 h-auto font-medium text-primary underline-offset-4",onClick:()=>r(`/user/${C.id}`),children:C.name}),u.jsx(ie,{variant:"ghost",size:"sm",className:"px-2 h-7 ml-1",onClick:()=>x(C.id,C.name),children:"Edit"})]})]})}),u.jsx(Ne,{children:C.email}),u.jsx(Ne,{children:u.jsxs(Es,{value:C.role,onValueChange:T=>A(C.id,T),children:[u.jsx(Jo,{className:"h-8 w-32 border-primary/30",children:u.jsx(Ts,{placeholder:b(C.role)})}),u.jsxs(Zo,{children:[u.jsx(zt,{value:"admin",children:"Admin"}),u.jsx(zt,{value:"cashier",children:"Cashier"}),u.jsx(zt,{value:"helper",children:"Helper"})]})]})}),u.jsx(Ne,{children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Fl,{checked:C.active,onCheckedChange:()=>S(C.id,C.active)}),u.jsx("span",{className:`text-sm ${C.active?"text-primary":"text-red-500"}`,children:C.active?"Active":"Inactive"})]})}),u.jsx(Ne,{children:C.createdAt instanceof Date?C.createdAt.toLocaleDateString():new Date(C.createdAt).toLocaleDateString()}),u.jsx(Ne,{className:"text-right",children:u.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>r(`/user/${C.id}`),className:"hover:bg-primary/10 text-primary",children:"View"})})]},C.id))})]}),h.length>0&&u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-primary/30 bg-secondary/30",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Rows per page:"}),u.jsxs(Es,{value:a.toString(),onValueChange:C=>{s(Number(C)),o(1)},children:[u.jsx(Jo,{className:"h-8 w-20 border-primary/30",children:u.jsx(Ts,{placeholder:a})}),u.jsxs(Zo,{children:[u.jsx(zt,{value:"5",children:"5"}),u.jsx(zt,{value:"10",children:"10"}),u.jsx(zt,{value:"20",children:"20"}),u.jsx(zt,{value:"50",children:"50"})]})]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ie,{variant:"outline",size:"icon",className:"h-8 w-8 border-primary/30",onClick:()=>v(1),disabled:i===1,children:u.jsx(mK,{className:"h-4 w-4"})}),u.jsx(ie,{variant:"outline",size:"icon",className:"h-8 w-8 border-primary/30",onClick:()=>v(i-1),disabled:i===1,children:u.jsx(A4,{className:"h-4 w-4"})}),u.jsxs("span",{className:"mx-2 text-sm",children:["Page ",i," of ",m||1]}),u.jsx(ie,{variant:"outline",size:"icon",className:"h-8 w-8 border-primary/30",onClick:()=>v(i+1),disabled:i===m||m===0,children:u.jsx(C4,{className:"h-4 w-4"})}),u.jsx(ie,{variant:"outline",size:"icon",className:"h-8 w-8 border-primary/30",onClick:()=>v(m),disabled:i===m||m===0,children:u.jsx(gK,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",g.length>0?y+1:0," to ",Math.min(y+a,h.length)," of ",h.length," entries"]})]})]})},Qg="users_cache",j2e=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(""),[i,o]=_.useState(!1),[a,s]=_.useState(!1),[l,c]=_.useState(!1),[d,f]=_.useState(!1),h=_.useRef(null),[m,y]=_.useState(null),[g,v]=_.useState(null),[b,x]=_.useState({name:"",email:"",password:"",role:"cashier",active:!0});_.useEffect(()=>{w()},[]);const w=async()=>{f(!0);try{if(!rc(qt.USERS)&&Am(Qg)){const $=wr(Qg);if($){e($),f(!1),console.log("Using cached users");return}}const R=sr(pr(ft,ni),YI("createdAt","desc")),O=await oo(R),j=[];O.forEach($=>{var U;const V=$.data();j.push({id:$.id,name:V.name||V.displayName||"",email:V.email||"",password:V.password||"",role:V.role||"cashier",active:V.active??!0,createdAt:((U=V.createdAt)==null?void 0:U.toDate())||new Date,photoURL:V.photoURL||""})}),e(j),rn(Qg,j),Tm(qt.USERS)}catch(P){console.error("Error fetching users:",P),ve.error("Failed to load users. Please try again.")}finally{f(!1)}},S=(P,R)=>{x(O=>({...O,[P]:R}))},A=P=>{if(P.target.files&&P.target.files[0]){const R=P.target.files[0];y(R);const O=new FileReader;O.onloadend=()=>{v(O.result)},O.readAsDataURL(R)}},C=()=>{y(null),v(null),h.current&&(h.current.value="")},T=async()=>{if(!m)return null;try{return await Nm(m)}catch(P){throw console.error("Error processing image:",P),P}},E=async P=>{if(P.preventDefault(),!b.name||!b.email||!b.password){ve.error("All fields are required.");return}o(!0);try{const R=sr(pr(ft,ni),wl("email","==",b.email));if(!(await oo(R)).empty){ve.error("A user with this email already exists."),o(!1);return}const j=await j3(so,b.email,b.password),$={...b,createdAt:Ar(),updatedAt:Ar(),id:j.user.uid},V=await jx(pr(ft,ni),$);console.log("User created:",b.email);let U="";if(m)try{U=await T()||"",await ls(Ln(ft,ni,V.id),{photoURL:U})}catch(K){console.error("Error with user image:",K),ve.warning("User created but profile image upload failed.")}const q={...$,createdAt:new Date,photoURL:U};cs(qt.USERS);const L=[q,...t];e(L),rn(Qg,L),ve.success("User added successfully."),x({name:"",email:"",password:"",role:"cashier",active:!0}),C(),c(!1)}catch(R){console.error("Error adding user:",R);let O;switch(R.code){case"auth/email-already-in-use":O="This email is already in use. Please use a different one.";break;case"auth/invalid-email":O="Invalid email format. Please enter a valid email address.";break;case"auth/weak-password":O="Password is too weak. Use at least 6 characters.";break;case"auth/network-request-failed":O="Network error. Please check your internet connection.";break;case"auth/operation-not-allowed":O="This operation is not allowed. Contact support.";break;default:O=R.message}ve.error(O)}finally{o(!1)}},N=P=>{e(P)};return u.jsxs("div",{className:"p-6 space-y-6 w-full animate-in",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsx("h1",{className:"text-3xl font-semibold text-primary",children:"User Management"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ie,{onClick:w,variant:"outline",disabled:d,className:"border-primary/30 hover:bg-primary/10",children:[u.jsx(R4,{className:`mr-2 h-4 w-4 ${d?"animate-spin":""}`}),"Refresh"]}),u.jsxs(ie,{onClick:()=>c(!0),className:"bg-primary hover:bg-primary/80",children:[u.jsx(p2,{className:"mr-2 h-4 w-4"}),"Add User"]})]})]}),u.jsxs(ht,{className:"shadow-md bg-secondary/30 border-theme-light",children:[u.jsx(yt,{className:"bg-gradient-to-r from-secondary to-secondary/50 rounded-t-lg pb-2",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[u.jsx(vt,{className:"text-primary",children:"System Users"}),u.jsxs("div",{className:"relative max-w-xs",children:[u.jsx(Gh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 h-4 w-4"}),u.jsx($e,{placeholder:"Search users...",value:n,onChange:P=>r(P.target.value),className:"pl-10 border-primary/30 focus:border-primary"})]})]})}),u.jsx(pt,{className:"p-4",children:u.jsx(R2e,{users:t,searchQuery:n,onUpdateUsers:N})})]}),u.jsx(Om,{open:l,onOpenChange:c,children:u.jsxs(Xd,{className:"sm:max-w-md bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/40 dark:to-green-800/40 border-green-100 dark:border-green-900/50 shadow-xl",children:[u.jsxs(Qd,{className:"space-y-1 pb-2",children:[u.jsxs(Jd,{className:"text-2xl text-center text-green-800 dark:text-green-300 flex items-center justify-center gap-2",children:[u.jsx(p2,{className:"h-5 w-5"}),"Add New User"]}),u.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400",children:"Enter user details to create an account"})]}),u.jsxs("form",{onSubmit:E,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Te,{htmlFor:"profile-image",className:"flex items-center",children:["Profile Image",u.jsx(_r,{variant:"outline",className:"ml-2 bg-green-50 text-green-700 dark:bg-green-900/60 dark:text-green-300",children:"JPEG Base64"})]}),u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g?u.jsxs("div",{className:"relative w-24 h-24",children:[u.jsx("img",{src:g,alt:"Preview",className:"w-24 h-24 rounded-full object-cover border-2 border-green-300 dark:border-green-600"}),u.jsx(ie,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:C,children:u.jsx(ax,{className:"h-3 w-3"})})]}):u.jsx("div",{className:"flex items-center justify-center w-24 h-24 bg-green-100 dark:bg-green-800/40 rounded-full border-2 border-dashed border-green-300 dark:border-green-600",children:u.jsx(gu,{className:"h-10 w-10 text-green-600 dark:text-green-400"})}),u.jsxs("div",{className:"flex items-center gap-2 w-full",children:[u.jsx("input",{ref:h,id:"profile-image",type:"file",accept:"image/*",onChange:A,className:"hidden"}),u.jsxs(ie,{type:"button",variant:"outline",onClick:()=>{var P;return(P=h.current)==null?void 0:P.click()},className:"w-full border-green-200 dark:border-green-800 text-green-700 dark:text-green-300 hover:bg-green-200/50 dark:hover:bg-green-800/50",children:[u.jsx(tx,{className:"mr-2 h-4 w-4"}),m?"Change Image":"Upload Image"]})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"name",children:"Full Name"}),u.jsx($e,{id:"name",value:b.name,onChange:P=>S("name",P.target.value),placeholder:"Enter user's full name",required:!0,className:"border-green-200 dark:border-green-800 focus:border-green-400 dark:focus:border-green-600"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"email",children:u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(ZT,{className:"h-4 w-4"}),"Email Address"]})}),u.jsx($e,{id:"email",type:"email",value:b.email,onChange:P=>S("email",P.target.value),placeholder:"Enter email address",required:!0,className:"border-green-200 dark:border-green-800 focus:border-green-400 dark:focus:border-green-600"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"password",children:u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(IK,{className:"h-4 w-4"}),"Password"]})}),u.jsxs("div",{className:"relative",children:[u.jsx($e,{id:"password",type:a?"text":"password",value:b.password,onChange:P=>S("password",P.target.value),placeholder:"Enter password",required:!0,className:"pr-10 border-green-200 dark:border-green-800 focus:border-green-400 dark:focus:border-green-600"}),u.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:a?u.jsx(M_,{className:"h-4 w-4"}):u.jsx(iv,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"role",children:"User Role"}),u.jsxs(Es,{value:b.role,onValueChange:P=>S("role",P),children:[u.jsx(Jo,{id:"role",className:"border-green-200 dark:border-green-800 focus:border-green-400 dark:focus:border-green-600",children:u.jsx(Ts,{placeholder:"Select a role"})}),u.jsxs(Zo,{children:[u.jsx(zt,{value:"admin",children:"Administrator"}),u.jsx(zt,{value:"cashier",children:"Cashier"}),u.jsx(zt,{value:"helper",children:"Helper"})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Fl,{id:"active",checked:b.active,onCheckedChange:P=>S("active",P)}),u.jsx(Te,{htmlFor:"active",children:"Active account"})]}),u.jsxs(Yd,{className:"mt-4",children:[u.jsx(ie,{type:"button",variant:"outline",className:"border-green-200 dark:border-green-800 text-green-700 dark:text-green-300 hover:bg-green-200/50 dark:hover:bg-green-800/50",onClick:()=>c(!1),children:"Cancel"}),u.jsx(ie,{type:"submit",disabled:i,className:"bg-green-600 hover:bg-green-700 text-white",children:i?"Creating...":"Create User"})]})]})]})})]})},AM=()=>{const t=nr(),{id:e}=d4(),[n,r]=_.useState(null),[i,o]=_.useState(!0),[a,s]=_.useState(!1),[l,c]=_.useState(!1),[d,f]=_.useState(!1),[h,m]=_.useState(null),[y,g]=_.useState(null),v=_.useRef(null),[b,x]=_.useState(!1),[w,S]=_.useState({}),[A,C]=_.useState(!1);_.useEffect(()=>{(async()=>{var j,$;o(!0);try{const V=so.currentUser,U=JSON.parse(localStorage.getItem("user")||"{}"),q=e||U.uid||(V==null?void 0:V.uid);if(!q){ve.error("User ID not found"),t("/");return}e?c(q===(V==null?void 0:V.uid)):(c(!0),window.location.pathname.includes("/user/profile")||t("/user/profile")),f(U.role==="admin");const L=Ln(ft,ni,q),K=await ad(L);if(K.exists()){const Q=K.data(),ee={id:K.id,name:Q.name||Q.displayName||"",email:Q.email||"",role:Q.role||"cashier",active:Q.active??!0,createdAt:((j=Q.createdAt)==null?void 0:j.toDate())||new Date,photoURL:Q.photoURL||"",lastLogin:(($=Q.lastLogin)==null?void 0:$.toDate())||void 0};r(ee),S(ee),g(ee.photoURL||null)}else ve.success("User not found"),t("/")}catch(V){console.error("Error fetching user data:",V),ve.error("Failed to load user data")}finally{o(!1)}})()},[e,t]);const T=async()=>{try{await D3(so),localStorage.removeItem("user"),localStorage.removeItem("userRole"),localStorage.removeItem("isLoggedIn"),t("/login")}catch(O){console.error("Error signing out:",O),ve.error("Failed to log out")}},E=O=>{if(O.target.files&&O.target.files[0]){const j=O.target.files[0];m(j);const $=new FileReader;$.onloadend=()=>{g($.result)},$.readAsDataURL(j)}},N=()=>{m(null),g((n==null?void 0:n.photoURL)||null),v.current&&(v.current.value="")},P=(O,j)=>{S($=>({...$,[O]:j}))},R=async()=>{if(!(!n||!w.name)){s(!0);try{let O=n.photoURL;if(h)try{O=await Nm(h)}catch($){console.error("Error processing image:",$),ve.warning("Failed to process profile image")}const j={...w,photoURL:O,updatedAt:Ar()};if(Object.keys(j).forEach($=>{j[$]===void 0&&delete j[$]}),await ls(Ln(ft,ni,n.id),j),r($=>$?{...$,...j,photoURL:O}:null),l){const V={...JSON.parse(localStorage.getItem("user")||"{}"),displayName:j.name,photoURL:O};localStorage.setItem("user",JSON.stringify(V)),window.dispatchEvent(new StorageEvent("storage",{key:"user",newValue:JSON.stringify(V)}))}ve.success("Profile updated successfully"),x(!1)}catch(O){console.error("Error updating profile:",O),ve.error("Failed to update profile")}finally{s(!1)}}};return i?u.jsx("div",{className:"p-6 space-y-6 w-full",children:u.jsx("div",{className:"flex items-center justify-center h-60",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):n?u.jsxs("div",{className:"p-6 space-y-6 w-full",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ie,{variant:"outline",size:"icon",onClick:()=>t(-1),className:"mr-2",children:u.jsx(D_,{className:"h-4 w-4"})}),u.jsx("h1",{className:"text-3xl font-semibold text-primary",children:l?"My Profile":"User Profile"})]}),l&&u.jsxs(ie,{variant:"destructive",onClick:()=>C(!0),className:"bg-red-600 hover:bg-red-700",children:[u.jsx(O4,{className:"mr-2 h-4 w-4"}),"Logout"]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs(ht,{className:"lg:col-span-1 bg-secondary/30 border-theme-light",children:[u.jsx(yt,{className:"bg-gradient-to-r from-secondary to-secondary/50 rounded-t-lg",children:u.jsxs(vt,{className:"flex items-center gap-2",children:[u.jsx(gu,{className:"h-5 w-5 text-primary"}),l?"My Profile":"User Profile"]})}),u.jsx(pt,{className:"pt-6",children:u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsxs("div",{className:"relative",children:[y?u.jsxs(vs,{className:"h-32 w-32",children:[u.jsx(Cm,{src:y,alt:n.name,className:"object-cover"}),u.jsx(ic,{className:"text-2xl",children:n.name.charAt(0).toUpperCase()})]}):u.jsx(vs,{className:"h-32 w-32",children:u.jsx(ic,{className:"text-2xl",children:n.name.charAt(0).toUpperCase()})}),b&&u.jsxs("div",{className:"absolute -bottom-2 -right-2 flex",children:[u.jsx(ie,{type:"button",size:"icon",className:"h-8 w-8 rounded-full bg-primary text-white",onClick:()=>{var O;return(O=v.current)==null?void 0:O.click()},children:u.jsx(tx,{className:"h-4 w-4"})}),y!==n.photoURL&&u.jsx(ie,{type:"button",variant:"destructive",size:"icon",className:"h-8 w-8 rounded-full ml-2",onClick:N,children:u.jsx(ax,{className:"h-4 w-4"})})]})]}),u.jsx("input",{ref:v,id:"profile-image",type:"file",accept:"image/*",onChange:E,className:"hidden"}),u.jsx("h2",{className:"text-xl font-semibold mt-4",children:n.name}),u.jsx("p",{className:"text-muted-foreground",children:n.email}),u.jsxs("div",{className:"mt-2",children:[u.jsx(_r,{className:`
                  ${n.role==="admin"?"bg-primary":n.role==="cashier"?"bg-blue-600":"bg-green-600"}
                `,children:n.role.charAt(0).toUpperCase()+n.role.slice(1)}),u.jsx(_r,{className:`ml-2 ${n.active?"bg-green-600":"bg-red-600"}`,children:n.active?"Active":"Inactive"})]}),u.jsxs("div",{className:"mt-6 w-full",children:[u.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[u.jsx("span",{className:"text-muted-foreground",children:"Joined"}),u.jsx("span",{children:n.createdAt.toLocaleDateString()})]}),n.lastLogin&&u.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[u.jsx("span",{className:"text-muted-foreground",children:"Last Login"}),u.jsx("span",{children:n.lastLogin.toLocaleDateString()})]})]}),(l||d)&&!b&&u.jsx(ie,{className:"mt-6 w-full",onClick:()=>x(!0),children:"Edit Profile"}),b&&u.jsxs("div",{className:"flex gap-2 mt-6 w-full",children:[u.jsx(ie,{variant:"outline",className:"flex-1",onClick:()=>{x(!1),S(n),N()},children:"Cancel"}),u.jsx(ie,{className:"flex-1",onClick:R,disabled:a,children:a?"Saving...":"Save Changes"})]})]})})]}),u.jsxs(ht,{className:"lg:col-span-2 bg-secondary/30 border-theme-light",children:[u.jsx(yt,{className:"bg-gradient-to-r from-secondary to-secondary/50 rounded-t-lg",children:u.jsx(vt,{children:"User Details"})}),u.jsx(pt,{className:"pt-6",children:u.jsxs(WF,{defaultValue:"personal",children:[u.jsxs(FA,{className:"mb-4",children:[u.jsxs(gp,{value:"personal",className:"flex items-center gap-1",children:[u.jsx(gu,{className:"h-4 w-4"}),"Personal Info"]}),d&&u.jsxs(gp,{value:"admin",className:"flex items-center gap-1",children:[u.jsx(f2,{className:"h-4 w-4"}),"Admin Controls"]})]}),u.jsxs(yp,{value:"personal",className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"name",children:"Full Name"}),b?u.jsx($e,{id:"name",value:w.name,onChange:O=>P("name",O.target.value),className:"border-primary/30"}):u.jsx("div",{className:"p-2 border rounded-md border-primary/20 bg-secondary/20",children:n.name})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Te,{htmlFor:"email",className:"flex items-center gap-1",children:[u.jsx(ZT,{className:"h-4 w-4"}),"Email Address"]}),u.jsx("div",{className:"p-2 border rounded-md border-primary/20 bg-secondary/20",children:n.email})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Te,{htmlFor:"role",className:"flex items-center gap-1",children:[u.jsx(f2,{className:"h-4 w-4"}),"Role"]}),b&&d&&!l?u.jsxs(Es,{value:w.role,onValueChange:O=>P("role",O),children:[u.jsx(Jo,{id:"role",className:"border-primary/30",children:u.jsx(Ts,{placeholder:"Select a role"})}),u.jsxs(Zo,{children:[u.jsx(zt,{value:"admin",children:"Administrator"}),u.jsx(zt,{value:"cashier",children:"Cashier"}),u.jsx(zt,{value:"helper",children:"Helper"})]})]}):u.jsx("div",{className:"p-2 border rounded-md border-primary/20 bg-secondary/20",children:n.role.charAt(0).toUpperCase()+n.role.slice(1)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Te,{htmlFor:"joined",className:"flex items-center gap-1",children:[u.jsx(u2,{className:"h-4 w-4"}),"Joined Date"]}),u.jsx("div",{className:"p-2 border rounded-md border-primary/20 bg-secondary/20",children:n.createdAt.toLocaleDateString()})]}),n.lastLogin&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Te,{htmlFor:"lastLogin",className:"flex items-center gap-1",children:[u.jsx(u2,{className:"h-4 w-4"}),"Last Login"]}),u.jsxs("div",{className:"p-2 border rounded-md border-primary/20 bg-secondary/20",children:[n.lastLogin.toLocaleDateString()," ",n.lastLogin.toLocaleTimeString()]})]})]}),d&&u.jsxs(yp,{value:"admin",className:"space-y-4",children:[u.jsxs("div",{className:"p-4 border rounded-md border-yellow-300/30 bg-yellow-50/30 dark:bg-yellow-900/10 text-sm",children:[u.jsx("p",{className:"font-medium text-yellow-800 dark:text-yellow-400",children:"Admin Controls"}),u.jsx("p",{className:"mt-1 text-yellow-700 dark:text-yellow-300/80",children:"These controls allow you to manage this user's access and permissions."})]}),l&&u.jsxs("div",{className:"p-4 border rounded-md border-red-300/30 bg-red-50/30 dark:bg-red-900/10 text-sm mb-4",children:[u.jsx("p",{className:"font-medium text-red-800 dark:text-red-400",children:"Warning"}),u.jsx("p",{className:"mt-1 text-red-700 dark:text-red-300/80",children:"You cannot modify your own admin status or deactivate your own account."})]}),u.jsx("div",{className:"space-y-4 pt-2",children:!l&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsx(Te,{htmlFor:"active",children:"Account Status"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:w.active?"User can log in and access the system":"User is prevented from logging in"})]}),u.jsx(Fl,{id:"active",checked:w.active,onCheckedChange:O=>P("active",O),disabled:!b})]}),u.jsxs("div",{className:"border-t pt-4 mt-4",children:[u.jsx(Te,{className:"mb-2 block",children:"Administrative Actions"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:u.jsx(ie,{variant:"destructive",size:"sm",disabled:!b,onClick:()=>{w.active&&(P("active",!1),ve.success("User account has been deactivated"))},children:"Deactivate Account"})})]})]})})]})]})})]})]}),u.jsx(Om,{open:A,onOpenChange:C,children:u.jsxs(Xd,{className:"sm:max-w-[425px]",children:[u.jsx(Qd,{children:u.jsx(Jd,{children:"Confirm Logout"})}),u.jsx("div",{className:"py-4",children:"Are you sure you want to log out?"}),u.jsxs(Yd,{children:[u.jsx(ie,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),u.jsx(ie,{variant:"destructive",onClick:T,children:"Logout"})]})]})})]}):u.jsx("div",{className:"p-6 space-y-6 w-full",children:u.jsxs("div",{className:"flex flex-col items-center justify-center h-60",children:[u.jsx(gu,{className:"h-16 w-16 text-gray-400 mb-4"}),u.jsx("h2",{className:"text-xl font-medium",children:"User not found"}),u.jsxs(ie,{onClick:()=>t(-1),variant:"outline",className:"mt-4",children:[u.jsx(D_,{className:"mr-2 h-4 w-4"}),"Go Back"]})]})})},D2e=()=>{const[t,e]=_.useState([{id:1,name:"T-Shirt",price:29.99,quantity:2},{id:2,name:"Jeans",price:59.99,quantity:1}]),n=(i,o)=>{e(t.map(a=>{if(a.id===i){const s=Math.max(0,a.quantity+o);return{...a,quantity:s}}return a}).filter(a=>a.quantity>0))},r=t.reduce((i,o)=>i+o.price*o.quantity,0);return u.jsxs("div",{className:"p-6 space-y-6 w-full",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h1",{className:"text-3xl font-semibold",children:"Checkout"}),u.jsxs(ie,{children:[u.jsx(eI,{className:"mr-2 h-4 w-4"}),"Complete Sale"]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs(ht,{className:"lg:col-span-2",children:[u.jsx(yt,{children:u.jsx(vt,{children:"Current Cart"})}),u.jsx(pt,{className:"space-y-4",children:t.map(i=>u.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium",children:i.name}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",i.price]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ie,{variant:"outline",size:"icon",onClick:()=>n(i.id,-1),children:u.jsx(PK,{className:"h-4 w-4"})}),u.jsx("span",{className:"w-8 text-center",children:i.quantity}),u.jsx(ie,{variant:"outline",size:"icon",onClick:()=>n(i.id,1),children:u.jsx(rx,{className:"h-4 w-4"})}),u.jsx(ie,{variant:"destructive",size:"icon",onClick:()=>n(i.id,-i.quantity),children:u.jsx(ox,{className:"h-4 w-4"})})]})]},i.id))})]}),u.jsxs(ht,{children:[u.jsx(yt,{children:u.jsx(vt,{children:"Order Summary"})}),u.jsxs(pt,{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Subtotal"}),u.jsxs("span",{children:["$",r.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Tax (10%)"}),u.jsxs("span",{children:["$",(r*.1).toFixed(2)]})]}),u.jsx("div",{className:"border-t pt-4",children:u.jsxs("div",{className:"flex justify-between font-bold",children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{children:["$",(r*1.1).toFixed(2)]})]})})]})]})]})]})},M2e=({onGoogleLogin:t,googleLoading:e})=>{const n=nr(),[r,i]=_.useState(!1),[o,a]=_.useState(!1),[s,l]=_.useState(!1),[c,d]=_.useState(""),[f,h]=_.useState(""),[m,y]=_.useState(""),[g,v]=_.useState(null),[b,x]=_.useState(null),w=_.useRef(null),S=async E=>{E.preventDefault(),i(!0);try{const N=await dee(so,c,f),P=Ln(ft,ni,N.user.uid),R=await ad(P);if(R.exists()){const O=R.data();if(O.active===!1){await so.signOut(),ve.error("Your account has been disabled. Please contact an administrator."),i(!1);return}localStorage.setItem("isLoggedIn","true"),localStorage.setItem("userRole",O.role||"cashier"),localStorage.setItem("userEmail",c),localStorage.setItem("userName",O.name||""),localStorage.setItem("userImage",O.photoURL||""),localStorage.setItem("userId",N.user.uid),await dp(P,{lastLogin:Ar()},{merge:!0}),n("/")}else ve.error("User record not found.")}catch(N){console.error("Login error:",N),ve.error("Invalid email or password.")}finally{i(!1)}},A=async E=>{if(E.preventDefault(),!m||!c||!f){ve.error("Please fill all required fields.");return}i(!0);try{const N=await j3(so,c,f);let P=null;if(g)try{P=await Nm(g)}catch(j){console.error("Error processing image:",j),ve.warning("Error processing image")}const R=Ln(ft,ni,N.user.uid),O={name:m,email:c,role:"cashier",active:!1,photoURL:P,createdAt:new Date,lastLogin:new Date,id:N.user.uid};await dp(R,O),ve.success("Account created successfully."),n("/login")}catch(N){N instanceof go?N.code==="auth/email-already-in-use"?(ve.warning("An account with this email already exists. Please log in."),l(!1)):(console.error("Firebase error:",N.code,N.message),ve.error("Failed to create account. Please try again.")):(console.error("Unknown error:",N),ve.error("Something went wrong. Please try again."))}finally{i(!1)}},C=E=>{if(E.target.files&&E.target.files[0]){const N=E.target.files[0];v(N);const P=new FileReader;P.onloadend=()=>{x(P.result)},P.readAsDataURL(N)}},T=()=>{v(null),x(null),w.current&&(w.current.value="")};return u.jsx("div",{className:"space-y-6",children:s?u.jsxs("form",{onSubmit:A,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs(Te,{htmlFor:"profile-image",className:"flex items-center",children:["Profile Image",u.jsx(_r,{variant:"outline",className:"ml-2 bg-green-50 text-green-700",children:"JPEG Base64"})]}),u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b?u.jsxs("div",{className:"relative w-24 h-24",children:[u.jsxs(vs,{className:"w-24 h-24",children:[u.jsx(Cm,{src:b,alt:"Preview",className:"object-cover"}),u.jsx(ic,{children:m.charAt(0).toUpperCase()})]}),u.jsx(ie,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:T,children:u.jsx(ax,{className:"h-3 w-3"})})]}):u.jsx(vs,{className:"w-24 h-24",children:u.jsx(ic,{className:"bg-green-100 text-green-800 text-xl",children:m?m.charAt(0).toUpperCase():"U"})}),u.jsxs("div",{className:"flex items-center gap-2 w-full",children:[u.jsx("input",{ref:w,id:"profile-image",type:"file",accept:"image/*",onChange:C,className:"hidden"}),u.jsxs(ie,{type:"button",variant:"outline",onClick:()=>{var E;return(E=w.current)==null?void 0:E.click()},className:"w-full border-green-200 dark:border-green-800",children:[u.jsx(tx,{className:"mr-2 h-4 w-4"}),g?"Change Image":"Upload Image"]})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"name",children:"Full Name"}),u.jsx($e,{id:"name",type:"text",placeholder:"Enter your name",value:m,onChange:E=>y(E.target.value),required:!0,className:"border-green-100 dark:border-green-800"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"reg-email",children:"Email"}),u.jsx($e,{id:"reg-email",type:"email",placeholder:"Enter your email",value:c,onChange:E=>d(E.target.value),required:!0,className:"border-green-100 dark:border-green-800"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"reg-password",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx($e,{id:"reg-password",type:o?"text":"password",placeholder:"Create a password",value:f,onChange:E=>h(E.target.value),required:!0,className:"border-green-100 dark:border-green-800 pr-10"}),u.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 focus:outline-none",children:o?u.jsx(M_,{size:16}):u.jsx(iv,{size:16})})]})]}),u.jsx(ie,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white",disabled:r,children:r?"Creating Account...":"Create Account"}),u.jsx("div",{className:"text-center mt-4",children:u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",u.jsx(ie,{variant:"link",className:"p-0 h-auto text-green-600 dark:text-green-400",onClick:()=>l(!1),children:"Sign In"})]})})]}):u.jsxs("form",{onSubmit:S,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"email",children:"Email"}),u.jsx($e,{id:"email",type:"email",placeholder:"Enter your email",value:c,onChange:E=>d(E.target.value),required:!0,className:"border-green-100 dark:border-green-800"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Te,{htmlFor:"password",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx($e,{id:"password",type:o?"text":"password",placeholder:"Enter your password",value:f,onChange:E=>h(E.target.value),required:!0,className:"border-green-100 dark:border-green-800 pr-10"}),u.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 focus:outline-none",children:o?u.jsx(M_,{size:16}):u.jsx(iv,{size:16})})]})]}),u.jsx(ie,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700 text-white",disabled:r,children:r?"Signing in...":"Sign In"}),u.jsxs("div",{className:"relative flex items-center justify-center py-2",children:[u.jsx("div",{className:"border-t border-gray-300 dark:border-gray-700 absolute w-full"}),u.jsx("span",{className:"bg-white dark:bg-green-900/40 px-2 text-sm text-gray-500 dark:text-gray-400 relative",children:"or"})]}),u.jsx(ie,{type:"button",variant:"outline",className:"w-full border-green-200 dark:border-green-800",onClick:t,disabled:e,children:e?"Signing in with Google...":u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.3v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.08z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})}),u.jsx("div",{className:"text-center mt-4",children:u.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",u.jsx(ie,{variant:"link",className:"p-0 h-auto text-green-600 dark:text-green-400",onClick:()=>l(!0),children:"Register"})]})})]})})},L2e=()=>{const t=nr();return{handleGoogleLogin:async()=>{try{const r=(await jee(so,dA,K3)).user,i=Ln(ft,ni,r.uid),o=await ad(i);if(!o.exists())await dp(i,{id:r.uid,name:r.displayName||"User",email:r.email||"",role:"cashier",active:!0,photoURL:r.photoURL||"",createdAt:Ar()});else{const f=o.data();await dp(i,{...f,name:r.displayName||f.name||"User",email:r.email||f.email||"",photoURL:r.photoURL||f.photoURL||"",lastLogin:Ar()},{merge:!0})}const s=(await ad(i)).data(),l=s&&s.role?s.role:"cashier";if(!(s&&s.active!==void 0?s.active:!0))return await so.signOut(),ve.error("Your account has been disabled. Please contact an administrator."),!1;const d={uid:r.uid,email:r.email,displayName:r.displayName,photoURL:r.photoURL,role:l};return localStorage.setItem("user",JSON.stringify(d)),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("userRole",l),localStorage.setItem("userEmail",r.email||""),localStorage.setItem("userName",r.displayName||""),localStorage.setItem("userImage",r.photoURL||""),localStorage.setItem("userId",r.uid),ve.success("You've been logged in with Google."),t("/"),!0}catch(n){return console.error("Google login error:",n),ve.error("An error occurred during Google login."),!1}}}},$2e=()=>{const t=nr(),[e,n]=_.useState(!1),{theme:r,setTheme:i}=cz(),{handleGoogleLogin:o}=L2e();_.useEffect(()=>{localStorage.getItem("isLoggedIn")==="true"&&t("/")},[t]);const a=async()=>{n(!0);try{await o(),t("/")}catch(l){console.error("Google login error:",l),ve.error(l.message||"Google login failed")}finally{n(!1)}},s=()=>{i(r==="dark"?"light":"dark")};return u.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/40 dark:to-green-800/40",children:[u.jsx("div",{className:"absolute top-4 right-4",children:u.jsx(ie,{variant:"ghost",size:"icon",onClick:s,className:"text-green-700 dark:text-green-300 hover:bg-green-200/50 dark:hover:bg-green-800/50",children:r==="dark"?u.jsx(D4,{className:"h-5 w-5"}):u.jsx(NK,{className:"h-5 w-5"})})}),u.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:u.jsx("div",{className:"w-full max-w-md mx-auto",children:u.jsx("div",{className:"bg-white dark:bg-green-900/30 shadow-xl rounded-xl border border-green-100 dark:border-green-800/50 overflow-hidden backdrop-blur-sm",children:u.jsxs("div",{className:"p-6 sm:p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-green-800 dark:text-green-300 mb-2",children:"Welcome Back"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Sign in to your account to continue"})]}),u.jsx(M2e,{onGoogleLogin:a,googleLoading:e})]})})})}),u.jsx("footer",{className:"py-4 text-center text-gray-600 dark:text-gray-400 text-sm",children:u.jsxs("p",{children:["© ",new Date().getFullYear()," StockChamp. All rights reserved."]})})]})},V2e=()=>{const t=pc();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),u.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),u.jsx(cm,{to:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},F2e=({searchTerm:t,setSearchTerm:e,resetSearch:n})=>u.jsxs("div",{className:"relative flex-1 mb-6",children:[u.jsx(OK,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",size:18}),u.jsx($e,{placeholder:"Search by product name, code, barcode, GRN number, or location...",className:"pl-10",value:t,onChange:r=>e(r.target.value)}),t&&u.jsx(ie,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 transform -translate-y-1/2",onClick:n,children:u.jsx(SK,{size:18})})]});var[Ub,lOe]=$s("Tooltip",[Wx]),zb=Wx(),uz="TooltipProvider",B2e=700,ZE="tooltip.open",[U2e,tP]=Ub(uz),dz=t=>{const{__scopeTooltip:e,delayDuration:n=B2e,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,[a,s]=_.useState(!0),l=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),u.jsx(U2e,{scope:e,isOpenDelayed:a,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),s(!1)},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:_.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:o})};dz.displayName=uz;var Wb="Tooltip",[z2e,Hb]=Ub(Wb),fz=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:a,delayDuration:s}=t,l=tP(Wb,t.__scopeTooltip),c=zb(e),[d,f]=_.useState(null),h=$o(),m=_.useRef(0),y=a??l.disableHoverableContent,g=s??l.delayDuration,v=_.useRef(!1),[b=!1,x]=Ss({prop:r,defaultProp:i,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(ZE))):l.onClose(),o==null||o(T)}}),w=_.useMemo(()=>b?v.current?"delayed-open":"instant-open":"closed",[b]),S=_.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v.current=!1,x(!0)},[x]),A=_.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),C=_.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{v.current=!0,x(!0),m.current=0},g)},[g,x]);return _.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),u.jsx(kV,{...c,children:u.jsx(z2e,{scope:e,contentId:h,open:b,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:_.useCallback(()=>{l.isOpenDelayed?C():S()},[l.isOpenDelayed,C,S]),onTriggerLeave:_.useCallback(()=>{y?A():(window.clearTimeout(m.current),m.current=0)},[A,y]),onOpen:S,onClose:A,disableHoverableContent:y,children:n})})};fz.displayName=Wb;var eT="TooltipTrigger",hz=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Hb(eT,n),o=tP(eT,n),a=zb(n),s=_.useRef(null),l=At(e,s,i.onTriggerChange),c=_.useRef(!1),d=_.useRef(!1),f=_.useCallback(()=>c.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(NV,{asChild:!0,...a,children:u.jsx(ze.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Be(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Be(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Be(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Be(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Be(t.onBlur,i.onClose),onClick:Be(t.onClick,i.onClose)})})});hz.displayName=eT;var W2e="TooltipPortal",[cOe,H2e]=Ub(W2e,{forceMount:void 0}),Nd="TooltipContent",pz=_.forwardRef((t,e)=>{const n=H2e(Nd,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,a=Hb(Nd,t.__scopeTooltip);return u.jsx(yc,{present:r||a.open,children:a.disableHoverableContent?u.jsx(mz,{side:i,...o,ref:e}):u.jsx(q2e,{side:i,...o,ref:e})})}),q2e=_.forwardRef((t,e)=>{const n=Hb(Nd,t.__scopeTooltip),r=tP(Nd,t.__scopeTooltip),i=_.useRef(null),o=At(e,i),[a,s]=_.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:f}=r,h=_.useCallback(()=>{s(null),f(!1)},[f]),m=_.useCallback((y,g)=>{const v=y.currentTarget,b={x:y.clientX,y:y.clientY},x=Q2e(b,v.getBoundingClientRect()),w=Y2e(b,x),S=J2e(g.getBoundingClientRect()),A=eNe([...w,...S]);s(A),f(!0)},[f]);return _.useEffect(()=>()=>h(),[h]),_.useEffect(()=>{if(l&&d){const y=v=>m(v,d),g=v=>m(v,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[l,d,m,h]),_.useEffect(()=>{if(a){const y=g=>{const v=g.target,b={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(v))||(d==null?void 0:d.contains(v)),w=!Z2e(b,a);x?h():w&&(h(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,a,c,h]),u.jsx(mz,{...t,ref:o})}),[K2e,G2e]=Ub(Wb,{isInside:!1}),mz=_.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...s}=t,l=Hb(Nd,n),c=zb(n),{onClose:d}=l;return _.useEffect(()=>(document.addEventListener(ZE,d),()=>document.removeEventListener(ZE,d)),[d]),_.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),u.jsx(Fx,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:u.jsxs(OV,{"data-state":l.stateAttribute,...c,...s,ref:e,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(_4,{children:r}),u.jsx(K2e,{scope:n,isInside:!0,children:u.jsx(Ere,{id:l.contentId,role:"tooltip",children:i||r})})]})})});pz.displayName=Nd;var gz="TooltipArrow",X2e=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=zb(n);return G2e(gz,n).isInside?null:u.jsx(RV,{...i,...r,ref:e})});X2e.displayName=gz;function Q2e(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Y2e(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function J2e(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Z2e(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,a=e.length-1;o<e.length;a=o++){const s=e[o].x,l=e[o].y,c=e[a].x,d=e[a].y;l>r!=d>r&&n<(c-s)*(r-l)/(d-l)+s&&(i=!i)}return i}function eNe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),tNe(e)}function tNe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],a=e[e.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var nNe=dz,rNe=fz,iNe=hz,yz=pz;const oNe=nNe,aNe=rNe,sNe=iNe,vz=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(yz,{ref:r,sideOffset:e,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));vz.displayName=yz.displayName;const lNe=({storeItems:t})=>{function e(n){return n.discount?n.sellingPrice-n.sellingPrice*n.discount/100:0}return u.jsx("div",{className:"rounded-md border overflow-hidden",children:u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsxs(Ht,{children:[u.jsx(De,{children:"Product"}),u.jsx(De,{children:"Location"}),u.jsx(De,{children:"GRN Number"}),u.jsx(De,{children:"Cost Price(Rs)"}),u.jsx(De,{children:"Selling Price(Rs)"}),u.jsx(De,{children:"Quantity"}),u.jsx(De,{children:"Available"}),u.jsx(De,{children:"Disc."}),u.jsx(De,{children:"After Disc.(Rs)"}),u.jsx(De,{className:"text-right",children:"Actions"})]})}),u.jsx(na,{children:t.length>0?t.map(n=>{var r,i,o,a,s,l;return u.jsxs(Ht,{className:"hover:bg-muted/50",children:[u.jsx(Ne,{className:"font-medium",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 rounded overflow-hidden bg-muted mr-3",children:u.jsx("img",{src:(r=n.product)==null?void 0:r.imageUrl,alt:(i=n.product)==null?void 0:i.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{children:[u.jsx("div",{children:(o=n.product)==null?void 0:o.name}),u.jsxs("div",{className:"text-xs text-muted-foreground",children:["CODE: ",(a=n.product)==null?void 0:a.productCode]})]})]})}),u.jsx(Ne,{children:u.jsxs("div",{className:"flex items-center gap-1",children:[(s=n==null?void 0:n.location)==null?void 0:s.name,u.jsx(oNe,{children:u.jsxs(aNe,{children:[u.jsx(sNe,{asChild:!0,children:u.jsx(EK,{size:14,className:"text-muted-foreground cursor-help"})}),u.jsx(vz,{children:u.jsxs("p",{children:["Code: ",(l=n==null?void 0:n.location)==null?void 0:l.code]})})]})})]})}),u.jsx(Ne,{children:(n==null?void 0:n.grnNumber)||"-"}),u.jsx(Ne,{children:n==null?void 0:n.costPrice.toFixed(2)}),u.jsx(Ne,{children:n==null?void 0:n.sellingPrice.toFixed(2)}),u.jsx(Ne,{children:n==null?void 0:n.qty.totalQty}),u.jsx(Ne,{children:u.jsx(_r,{variant:n.qty.availableQty<10?"destructive":"outline",className:n.qty.availableQty>=10?"bg-green-100 text-green-800 hover:bg-green-100":"bg-amber-600-100 text-red-700 hover:bg-amber-100",children:n.qty.availableQty})}),u.jsx(Ne,{children:n.discount?`${n.discount.toFixed(1)}%`:"-"}),u.jsx(Ne,{children:u.jsx("span",{children:n.discount?`${e(n).toFixed(2)}`:"-"})}),u.jsx(Ne,{className:"text-right",children:u.jsx(ie,{asChild:!0,variant:"ghost",size:"icon",title:"View Details",children:u.jsx(cm,{to:`/store/${n.id}`,children:u.jsx(xK,{size:16})})})})]},n.id)}):u.jsx(Ht,{children:u.jsx(Ne,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"No store items found. Try adjusting your search or add new inventory."})})})]})})},cNe=({currentPage:t,totalPages:e,totalItems:n,pageSize:r,onPageChange:i})=>{const o=()=>{let s=Math.max(1,t-Math.floor(2.5)),l=s+5-1;return l>e&&(l=e,s=Math.max(1,l-5+1)),Array.from({length:l-s+1},(c,d)=>s+d)};return u.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[u.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",Math.min((t-1)*r+1,n)," to ",Math.min(t*r,n)," of ",n," items"]}),u.jsx(jA,{children:u.jsxs(DA,{children:[u.jsx(Ei,{children:u.jsx(MA,{onClick:()=>i(Math.max(1,t-1)),className:t===1?"pointer-events-none opacity-50":"cursor-pointer"})}),o().map(a=>u.jsx(Ei,{children:u.jsx(Ml,{isActive:a===t,onClick:()=>i(a),children:a})},a)),u.jsx(Ei,{children:u.jsx(LA,{onClick:()=>i(Math.min(e,t+1)),className:t===e?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})};Array(12).fill(0);B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"}));B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"}));B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"}));B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}));var tT=1,uNe=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:tT++,o=this.toasts.find(s=>s.id===i),a=t.dismissible===void 0?!0:t.dismissible;return o?this.toasts=this.toasts.map(s=>s.id===i?(this.publish({...s,...t,id:i,title:n}),{...s,...t,id:i,dismissible:a,title:n}):s):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async o=>{if(fNe(o)&&!o.ok){i=!1;let a=typeof e.error=="function"?await e.error(`HTTP error! status: ${o.status}`):e.error,s=typeof e.description=="function"?await e.description(`HTTP error! status: ${o.status}`):e.description;this.create({id:n,type:"error",message:a,description:s})}else if(e.success!==void 0){i=!1;let a=typeof e.success=="function"?await e.success(o):e.success,s=typeof e.description=="function"?await e.description(o):e.description;this.create({id:n,type:"success",message:a,description:s})}}).catch(async o=>{if(e.error!==void 0){i=!1;let a=typeof e.error=="function"?await e.error(o):e.error,s=typeof e.description=="function"?await e.description(o):e.description;this.create({id:n,type:"error",message:a,description:s})}}).finally(()=>{var o;i&&(this.dismiss(n),n=void 0),(o=e.finally)==null||o.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||tT++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},vi=new uNe,dNe=(t,e)=>{let n=(e==null?void 0:e.id)||tT++;return vi.addToast({title:t,...e,id:n}),n},fNe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",hNe=dNe,pNe=()=>vi.toasts,nP=Object.assign(hNe,{success:vi.success,info:vi.info,warning:vi.warning,error:vi.error,custom:vi.custom,message:vi.message,promise:vi.promise,dismiss:vi.dismiss,loading:vi.loading},{getHistory:pNe});function mNe(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}mNe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);class gNe{constructor(){Ac(this,"collectionData",{collection:Cte,collectionKey:qt.STORE,cacheKey:lo.STORE_CACHE_KEY,document:null})}async getStoreItems(){try{return await Is.fetchDocuments(this.collectionData)}catch(e){console.error("Error getting store items:",e),nP.error("Failed to fetch store items. Using mock data.")}}searchStoreItems(e,n){if(!e.trim())return n;const r=e.toLowerCase();return n.filter(i=>{var o,a;return i.product.name.toLowerCase().includes(r)||i.product.productCode&&i.product.productCode.toLowerCase().includes(r)||i.location.name.toLowerCase().includes(r)||i.location.code.toLowerCase().includes(r)||((o=i.grnNumber)==null?void 0:o.toLowerCase().includes(r))||i.product.productCode.toLowerCase().includes(r)||((a=i.product.barcode)==null?void 0:a.toLowerCase().includes(r))||i.costPrice.toString().includes(r)||i.sellingPrice.toString().includes(r)||i.discount&&i.discount.toString().includes(r)})}async saveStoreItems(e){try{const n=[];for(const o of e){this.collectionData.document=o;const a=await Is.saveDocument(this.collectionData);a&&n.push(a)}const i=[...wr(lo.STORE_CACHE_KEY)||[],...n];return rn(lo.STORE_CACHE_KEY,i),Nv(qt.STORE),n}catch(n){throw console.error("Error saving store items:",n),n}}}const Py=new gNe,yNe=(t=20)=>{const[e,n]=_.useState(""),[r,i]=_.useState(1),[o,a]=_.useState([]),[s,l]=_.useState(!1),[c,d]=_.useState(null);_.useEffect(()=>{(async()=>{try{l(!0),d(null);const v=rc(qt.STORE);let b=[];if(v)b=await Py.getStoreItems(),Nv(qt.STORE);else{const x=wr(lo.STORE_CACHE_KEY);x&&x.length>0?(b=x,console.log("Using cached store data")):(b=await Py.getStoreItems(),Nv(qt.STORE))}a(b)}catch(v){console.error("Error fetching store data:",v),d("Failed to fetch store data")}finally{l(!1)}})()},[]);const f=_.useMemo(()=>Py.searchStoreItems(e,o),[e,o]),h=Math.ceil(f.length/t),m=_.useMemo(()=>{const g=(r-1)*t;return f.slice(g,g+t)},[f,r,t]);return{searchTerm:e,setSearchTerm:n,currentPage:r,setCurrentPage:i,filteredData:f,currentData:m,totalPages:h,pageSize:t,resetSearch:()=>{n(""),i(1)},isLoading:s,error:c}},vNe=()=>{const{searchTerm:t,setSearchTerm:e,currentPage:n,setCurrentPage:r,filteredData:i,currentData:o,totalPages:a,pageSize:s,resetSearch:l}=yNe(20);return u.jsx("div",{className:"container px-4 py-6 mx-auto",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Store"}),u.jsx("p",{className:"text-muted-foreground",children:"Manage your store across locations."})]}),u.jsx(ie,{className:"gap-2",asChild:!0,children:u.jsxs(cm,{to:"/add-inventory",children:[u.jsx(L_,{size:18}),"Add Inventory"]})})]}),u.jsxs(ht,{children:[u.jsx(yt,{className:"pb-3",children:u.jsx(vt,{children:"Store Items"})}),u.jsxs(pt,{children:[u.jsx(F2e,{searchTerm:t,setSearchTerm:c=>{e(c),r(1)},resetSearch:l}),u.jsx(lNe,{storeItems:o}),i.length>0&&u.jsx(cNe,{currentPage:n,totalPages:a,totalItems:i.length,pageSize:s,onPageChange:r})]})]})]})})};class xNe{constructor(){Ac(this,"collectionData",{collection:Ate,collectionKey:qt.WAREHOUSE,cacheKey:lo.STORE_CACHE_KEY,document:null})}async fetchWarehouses(){try{return Is.fetchDocuments(this.collectionData)}catch(e){return console.error("Error fetching warehouses:",e),[]}}async createWareHouse(e){try{this.collectionData.document=e;const n=await Is.saveDocument(this.collectionData);return ve.success("Warehouse added successfully"),n}catch(n){throw console.error("Error adding warehouse:",n),n}}}const xz=new xNe,bNe=({onLocationAdded:t})=>{const[e,n]=_.useState(!1),[r,i]=_.useState(""),[o,a]=_.useState(""),[s,l]=_.useState(""),[c,d]=_.useState(!1),f=async h=>{if(h.preventDefault(),!r.trim()||!o.trim()){ve.error("Name and code are required");return}d(!0);try{const m=await xz.createWareHouse({name:r.trim(),code:o.trim(),description:s.trim()});m&&(t(m.id),i(""),a(""),l(""),n(!1))}catch(m){console.error("Error creating location:",m),nP.error("Failed to create location")}finally{d(!1)}};return u.jsxs(Om,{open:e,onOpenChange:n,children:[u.jsx(f9,{asChild:!0,children:u.jsxs(ie,{variant:"outline",size:"sm",className:"gap-1",children:[u.jsx(P4,{size:16}),"Add Warehouse"]})}),u.jsxs(Xd,{className:"sm:max-w-[425px]","aria-describedby":void 0,children:[u.jsx(Qd,{children:u.jsx(Jd,{children:"Add New Warehouse"})}),u.jsxs("form",{onSubmit:f,children:[u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsxs(Te,{htmlFor:"name",className:"required",children:["Name ",u.jsx("span",{style:{color:"red"},children:"*"})]}),u.jsx($e,{id:"name",value:r,onChange:h=>i(h.target.value),placeholder:"Warehouse name",required:!0})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsxs(Te,{htmlFor:"code",className:"required",children:["Code ",u.jsx("span",{style:{color:"red"},children:"*"})]}),u.jsx($e,{id:"code",value:o,onChange:h=>a(h.target.value),placeholder:"WH-01",required:!0})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Te,{htmlFor:"description",children:"Description"}),u.jsx(Xx,{id:"description",value:s,onChange:h=>l(h.target.value),placeholder:"Warehouse description",className:"resize-none",rows:3})]})]}),u.jsxs(Yd,{children:[u.jsx(Voe,{asChild:!0,children:u.jsx(ie,{type:"button",variant:"outline",children:"Cancel"})}),u.jsx(ie,{type:"submit",disabled:c,children:c?"Saving...":"Save Warehouse"})]})]})]})]})};class wNe{constructor(){Ac(this,"collectionData",{collection:Zi,collectionKey:qt.PRODUCTS,cacheKey:lo.PRODUCTS_CACHE_KEY,document:null})}async searchProducts(e){try{return await Is.fetchDocuments(this.collectionData)}catch(n){console.error("Error searching products:",n)}}async getProductById(e){try{return await fA(Zi,e)}catch(n){console.error("Error getting product by ID:",n)}}async createProduct(e){try{const n=Vd(),r=new Date,i={id:n,...e,createdAt:r,modifiedDate:r};return this.collectionData.document=i,await Is.saveDocument(this.collectionData)||i}catch(n){throw console.error("Error creating product:",n),n}}}const _Ne=new wNe,SNe=()=>{const t=nr(),[e,n]=_.useState(`GRN-${new Date().getFullYear()}-${1e3+Math.floor(Math.random()*9e3)}`),[r,i]=_.useState(""),[o,a]=_.useState([]),[s,l]=_.useState(""),[c,d]=_.useState([]),[f,h]=_.useState([]),[m,y]=_.useState(!0),[g,v]=_.useState(!1),b=async()=>{try{y(!0);const P=await xz.fetchWarehouses();h(P),P.length>0&&!r&&i(P[0].id)}catch(P){console.error("Error fetching warehouses:",P)}finally{y(!1)}};_.useEffect(()=>{b()},[]),_.useEffect(()=>{const P=async()=>{if(s.trim()===""){d([]);return}try{const O=await _Ne.searchProducts(s);console.log(O),d(O)}catch(O){console.error("Error searching products:",O),d([])}},R=setTimeout(()=>{P()},300);return()=>clearTimeout(R)},[s]);const x=P=>{const R=o.findIndex(O=>O.product.id===P.id);if(R>=0){const O=[...o];O[R].quantity+=1,a(O)}else a([...o,{id:Vd(),product:P,quantity:0,costPrice:0,sellingPrice:0,discount:0}]);l(""),d([])},w=P=>{a(o.filter(R=>R.id!==P))},S=(P,R)=>{R<=0||a(o.map(O=>O.id===P?{...O,quantity:R}:O))},A=(P,R)=>{R<0||a(o.map(O=>O.id===P?{...O,costPrice:R}:O))},C=(P,R)=>{R<0||a(o.map(O=>O.id===P?{...O,sellingPrice:R}:O))},T=(P,R)=>{R<0||a(o.map(O=>O.id===P?{...O,discount:R}:O))},E=async P=>{await b(),i(P)},N=async()=>{if(!r){ve.error("Please select a warehouse");return}if(o.length===0){ve.error("Please add at least one product");return}const P=f.find(R=>R.id===r);if(!P){ve.error("Invalid warehouse selected");return}try{v(!0);const R=o.map(V=>({costPrice:V.costPrice,sellingPrice:V.sellingPrice,location:{id:P.id,name:P.name,code:P.code},discount:V.discount,grnNumber:e,product:{id:V.product.id,name:V.product.name,productCode:V.product.productCode,barcode:V.product.barcode,imageUrl:V.product.imageUrl},qty:{totalQty:V.quantity,availableQty:V.quantity}})),O=await Py.saveStoreItems(R);Nv(qt.STORE);const $=[...wr(lo.STORE_CACHE_KEY)||[],...O];rn(lo.STORE_CACHE_KEY,$),nP.success("Inventory added successfully"),setTimeout(()=>{t("/store")},1500)}catch(R){console.error("Error saving inventory:",R),ve.error("Failed to save inventory. Please try again.")}finally{v(!1)}};return u.jsx("div",{className:"container px-4 py-6 mx-auto",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Add Inventory"}),u.jsx("p",{className:"text-muted-foreground",children:"Add new inventory items to your store."})]}),u.jsx(ie,{className:"gap-2",onClick:N,disabled:g,children:g?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"animate-spin mr-2",children:"⊚"}),"Saving..."]}):u.jsxs(u.Fragment,{children:[u.jsx(ix,{size:18}),"Save Inventory"]})})]}),u.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[u.jsxs(ht,{children:[u.jsx(yt,{children:u.jsx(vt,{children:"Inventory Details"})}),u.jsxs(pt,{className:"space-y-4",children:[u.jsxs("div",{className:"grid gap-3",children:[u.jsx(Te,{htmlFor:"grn",children:"GRN Number"}),u.jsx($e,{id:"grn",value:e,onChange:P=>n(P.target.value),placeholder:"Enter GRN Number"})]}),u.jsxs("div",{className:"grid gap-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(Te,{htmlFor:"location",children:"Warehouse"}),u.jsx(bNe,{onLocationAdded:E})]}),u.jsxs(Es,{value:r,onValueChange:i,disabled:m,children:[u.jsx(Jo,{children:u.jsx(Ts,{placeholder:m?"Loading warehouses...":"Select warehouse"})}),u.jsx(Zo,{children:f.map(P=>u.jsxs(zt,{value:P.id,children:[P.name," (",P.code,")"]},P.id))})]})]})]})]}),u.jsxs(ht,{children:[u.jsx(yt,{children:u.jsx(vt,{children:"Search Products"})}),u.jsxs(pt,{className:"space-y-4",children:[u.jsxs("div",{className:"grid gap-3",children:[u.jsx(Te,{htmlFor:"productSearch",children:"Search by name, SKU, barcode, category or keywords"}),u.jsx($e,{id:"productSearch",value:s,onChange:P=>l(P.target.value),placeholder:"Start typing to search products..."})]}),c.length>0&&u.jsx("div",{className:"border rounded-md overflow-hidden max-h-[300px] overflow-y-auto",children:u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsxs(Ht,{children:[u.jsx(De,{children:"Product"}),u.jsx(De,{children:"SKU"}),u.jsx(De,{children:"Category"}),u.jsx(De,{children:"Actions"})]})}),u.jsx(na,{children:c.map(P=>u.jsxs(Ht,{children:[u.jsx(Ne,{children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-8 h-8 rounded overflow-hidden bg-muted mr-2",children:u.jsx("img",{src:P.imageUrl,alt:P.name,className:"w-full h-full object-cover"})}),u.jsx("span",{children:P.name})]})}),u.jsx(Ne,{children:P.productCode}),u.jsx(Ne,{children:P.category}),u.jsx(Ne,{children:u.jsxs(ie,{variant:"ghost",size:"sm",onClick:()=>x(P),children:[u.jsx(P4,{size:16}),u.jsx("span",{className:"ml-2",children:"Add"})]})})]},P.id))})]})})]})]})]}),u.jsxs(ht,{children:[u.jsx(yt,{children:u.jsxs(vt,{className:"flex items-center",children:[u.jsx(L_,{className:"mr-2",size:20}),"Inventory Items"]})}),u.jsx(pt,{children:o.length>0?u.jsx("div",{className:"border rounded-md overflow-hidden",children:u.jsxs(ea,{children:[u.jsx(ta,{children:u.jsxs(Ht,{children:[u.jsx(De,{children:"Product"}),u.jsx(De,{children:"Quantity"}),u.jsx(De,{children:"Cost Price"}),u.jsx(De,{children:"Selling Price"}),u.jsx(De,{children:"Discount %"}),u.jsx(De,{children:"Actions"})]})}),u.jsx(na,{children:o.map(P=>u.jsxs(Ht,{children:[u.jsx(Ne,{children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-8 h-8 rounded overflow-hidden bg-muted mr-2",children:u.jsx("img",{src:P.product.imageUrl,alt:P.product.name,className:"w-full h-full object-cover"})}),u.jsxs("div",{children:[u.jsx("div",{children:P.product.name}),u.jsxs("div",{className:"text-xs text-muted-foreground",children:["SKU: ",P.product.productCode]})]})]})}),u.jsx(Ne,{children:u.jsx($e,{type:"number",value:P.quantity,onChange:R=>S(P.id,parseInt(R.target.value)||0),className:"w-20",min:"1"})}),u.jsx(Ne,{children:u.jsx($e,{type:"number",value:P.costPrice,onChange:R=>A(P.id,parseFloat(R.target.value)||0),className:"w-24",min:"0",step:"0.01"})}),u.jsx(Ne,{children:u.jsx($e,{type:"number",value:P.sellingPrice,onChange:R=>C(P.id,parseFloat(R.target.value)||0),className:"w-24",min:"0",step:"0.01"})}),u.jsx(Ne,{children:u.jsx($e,{type:"number",value:P.discount||0,onChange:R=>T(P.id,parseFloat(R.target.value)||0),className:"w-20",min:"0",max:"100",step:"0.1"})}),u.jsx(Ne,{children:u.jsxs(ie,{variant:"ghost",size:"sm",onClick:()=>w(P.id),className:"text-destructive hover:text-destructive/90 hover:bg-destructive/10",children:[u.jsx(ox,{size:16}),u.jsx("span",{className:"ml-2",children:"Remove"})]})})]},P.id))})]})}):u.jsxs("div",{className:"text-center py-12 border rounded-md",children:[u.jsx("div",{className:"mb-3 text-muted-foreground",children:u.jsx(L_,{size:40,className:"mx-auto"})}),u.jsx("h3",{className:"text-lg font-medium mb-2",children:"No items added yet"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Search for products and add them to the inventory"})]})})]})]})})};function ENe(){return u.jsxs(fq,{children:[u.jsx(an,{path:"/login",element:u.jsx($2e,{})}),u.jsxs(an,{path:"/",element:u.jsx(zte,{}),children:[u.jsx(an,{index:!0,element:u.jsx(Wte,{})}),u.jsx(an,{path:"products",element:u.jsx(Hie,{})}),u.jsx(an,{path:"products/:id",element:u.jsx(noe,{})}),u.jsx(an,{path:"add-product",element:u.jsx(LO,{})}),u.jsx(an,{path:"edit-product/:id",element:u.jsx(LO,{})}),u.jsx(an,{path:"customers",element:u.jsx(Foe,{})}),u.jsx(an,{path:"orders",element:u.jsx(Boe,{})}),u.jsx(an,{path:"store",element:u.jsx(vNe,{})}),u.jsx(an,{path:"/add-inventory",element:u.jsx(SNe,{})}),u.jsx(an,{path:"invoice",element:u.jsx(rae,{})}),u.jsx(an,{path:"checkout",element:u.jsx(D2e,{})}),u.jsx(an,{path:"reports",element:u.jsx(w2e,{})}),u.jsx(an,{path:"settings",element:u.jsx(O2e,{})}),u.jsx(an,{path:"users",element:u.jsx(j2e,{})}),u.jsx(an,{path:"user/:id",element:u.jsx(AM,{})}),u.jsx(an,{path:"user/profile",element:u.jsx(AM,{})})]}),u.jsx(an,{path:"*",element:u.jsx(V2e,{})})]})}var qb=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Kb=typeof window>"u"||"Deno"in globalThis;function bi(){}function TNe(t,e){return typeof t=="function"?t(e):t}function INe(t){return typeof t=="number"&&t>=0&&t!==1/0}function ANe(t,e){return Math.max(t+(e||0)-Date.now(),0)}function CM(t,e){return typeof t=="function"?t(e):t}function CNe(t,e){return typeof t=="function"?t(e):t}function PM(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:s}=t;if(a){if(r){if(e.queryHash!==rP(a,e.options))return!1}else if(!em(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&e.isStale()!==s||i&&i!==e.state.fetchStatus||o&&!o(e))}function kM(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Zp(e.options.mutationKey)!==Zp(o))return!1}else if(!em(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function rP(t,e){return((e==null?void 0:e.queryKeyHashFn)||Zp)(t)}function Zp(t){return JSON.stringify(t,(e,n)=>nT(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function em(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!em(t[n],e[n])):!1}function bz(t,e){if(t===e)return t;const n=NM(t)&&NM(e);if(n||nT(t)&&nT(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),a=o.length,s=n?[]:{};let l=0;for(let c=0;c<a;c++){const d=n?c:o[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(s[d]=void 0,l++):(s[d]=bz(t[d],e[d]),s[d]===t[d]&&t[d]!==void 0&&l++)}return i===a&&l===i?t:s}return e}function NM(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function nT(t){if(!OM(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!OM(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function OM(t){return Object.prototype.toString.call(t)==="[object Object]"}function PNe(t){return new Promise(e=>{setTimeout(e,t)})}function kNe(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?bz(t,e):e}function NNe(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function ONe(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var iP=Symbol();function wz(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===iP?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Al,La,Au,DM,RNe=(DM=class extends qb{constructor(){super();ut(this,Al);ut(this,La);ut(this,Au);qe(this,Au,e=>{if(!Kb&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){re(this,La)||this.setEventListener(re(this,Au))}onUnsubscribe(){var e;this.hasListeners()||((e=re(this,La))==null||e.call(this),qe(this,La,void 0))}setEventListener(e){var n;qe(this,Au,e),(n=re(this,La))==null||n.call(this),qe(this,La,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){re(this,Al)!==e&&(qe(this,Al,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof re(this,Al)=="boolean"?re(this,Al):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Al=new WeakMap,La=new WeakMap,Au=new WeakMap,DM),_z=new RNe,Cu,$a,Pu,MM,jNe=(MM=class extends qb{constructor(){super();ut(this,Cu,!0);ut(this,$a);ut(this,Pu);qe(this,Pu,e=>{if(!Kb&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){re(this,$a)||this.setEventListener(re(this,Pu))}onUnsubscribe(){var e;this.hasListeners()||((e=re(this,$a))==null||e.call(this),qe(this,$a,void 0))}setEventListener(e){var n;qe(this,Pu,e),(n=re(this,$a))==null||n.call(this),qe(this,$a,e(this.setOnline.bind(this)))}setOnline(e){re(this,Cu)!==e&&(qe(this,Cu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return re(this,Cu)}},Cu=new WeakMap,$a=new WeakMap,Pu=new WeakMap,MM),D0=new jNe;function DNe(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function MNe(t){return Math.min(1e3*2**t,3e4)}function Sz(t){return(t??"online")==="online"?D0.isOnline():!0}var Ez=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function M1(t){return t instanceof Ez}function Tz(t){let e=!1,n=0,r=!1,i;const o=DNe(),a=g=>{var v;r||(h(new Ez(g)),(v=t.abort)==null||v.call(t))},s=()=>{e=!0},l=()=>{e=!1},c=()=>_z.isFocused()&&(t.networkMode==="always"||D0.isOnline())&&t.canRun(),d=()=>Sz(t.networkMode)&&t.canRun(),f=g=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,g),i==null||i(),o.resolve(g))},h=g=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,g),i==null||i(),o.reject(g))},m=()=>new Promise(g=>{var v;i=b=>{(r||c())&&g(b)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),y=()=>{if(r)return;let g;const v=n===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var C;if(r)return;const x=t.retry??(Kb?0:3),w=t.retryDelay??MNe,S=typeof w=="function"?w(n,b):w,A=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,b);if(e||!A){h(b);return}n++,(C=t.onFail)==null||C.call(t,n,b),PNe(S).then(()=>c()?void 0:m()).then(()=>{e?h(b):y()})})};return{promise:o,cancel:a,continue:()=>(i==null||i(),o),cancelRetry:s,continueRetry:l,canStart:d,start:()=>(d()?y():m().then(y),o)}}function LNe(){let t=[],e=0,n=s=>{s()},r=s=>{s()},i=s=>setTimeout(s,0);const o=s=>{e?t.push(s):i(()=>{n(s)})},a=()=>{const s=t;t=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;e++;try{l=s()}finally{e--,e||a()}return l},batchCalls:s=>(...l)=>{o(()=>{s(...l)})},schedule:o,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var lr=LNe(),Cl,LM,Iz=(LM=class{constructor(){ut(this,Cl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),INe(this.gcTime)&&qe(this,Cl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Kb?1/0:5*60*1e3))}clearGcTimeout(){re(this,Cl)&&(clearTimeout(re(this,Cl)),qe(this,Cl,void 0))}},Cl=new WeakMap,LM),ku,Nu,Yr,qn,tm,Pl,wi,So,$M,$Ne=($M=class extends Iz{constructor(e){super();ut(this,wi);ut(this,ku);ut(this,Nu);ut(this,Yr);ut(this,qn);ut(this,tm);ut(this,Pl);qe(this,Pl,!1),qe(this,tm,e.defaultOptions),this.setOptions(e.options),this.observers=[],qe(this,Yr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,qe(this,ku,FNe(this.options)),this.state=e.state??re(this,ku),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=re(this,qn))==null?void 0:e.promise}setOptions(e){this.options={...re(this,tm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&re(this,Yr).remove(this)}setData(e,n){const r=kNe(this.state.data,e,this.options);return Un(this,wi,So).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Un(this,wi,So).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=re(this,qn))==null?void 0:r.promise;return(i=re(this,qn))==null||i.cancel(e),n?n.then(bi).catch(bi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(re(this,ku))}isActive(){return this.observers.some(e=>CNe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===iP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!ANe(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=re(this,qn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=re(this,qn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),re(this,Yr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(re(this,qn)&&(re(this,Pl)?re(this,qn).cancel({revert:!0}):re(this,qn).cancelRetry()),this.scheduleGc()),re(this,Yr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Un(this,wi,So).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(re(this,qn))return re(this,qn).continueRetry(),re(this,qn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(qe(this,Pl,!0),r.signal)})},o=()=>{const f=wz(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),qe(this,Pl,!1),this.options.persister?this.options.persister(f,h,this):f(h)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(l=this.options.behavior)==null||l.onFetch(a,this),qe(this,Nu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&Un(this,wi,So).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const s=f=>{var h,m,y,g;M1(f)&&f.silent||Un(this,wi,So).call(this,{type:"error",error:f}),M1(f)||((m=(h=re(this,Yr).config).onError)==null||m.call(h,f,this),(g=(y=re(this,Yr).config).onSettled)==null||g.call(y,this.state.data,f,this)),this.scheduleGc()};return qe(this,qn,Tz({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,m,y,g;if(f===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){s(v);return}(m=(h=re(this,Yr).config).onSuccess)==null||m.call(h,f,this),(g=(y=re(this,Yr).config).onSettled)==null||g.call(y,f,this.state.error,this),this.scheduleGc()},onError:s,onFail:(f,h)=>{Un(this,wi,So).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Un(this,wi,So).call(this,{type:"pause"})},onContinue:()=>{Un(this,wi,So).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),re(this,qn).start()}},ku=new WeakMap,Nu=new WeakMap,Yr=new WeakMap,qn=new WeakMap,tm=new WeakMap,Pl=new WeakMap,wi=new WeakSet,So=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...VNe(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return M1(i)&&i.revert&&re(this,Nu)?{...re(this,Nu),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),lr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),re(this,Yr).notify({query:this,type:"updated",action:e})})},$M);function VNe(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Sz(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function FNe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Gi,VM,BNe=(VM=class extends qb{constructor(e={}){super();ut(this,Gi);this.config=e,qe(this,Gi,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??rP(i,n);let a=this.get(o);return a||(a=new $Ne({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){re(this,Gi).has(e.queryHash)||(re(this,Gi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=re(this,Gi).get(e.queryHash);n&&(e.destroy(),n===e&&re(this,Gi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){lr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return re(this,Gi).get(e)}getAll(){return[...re(this,Gi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>PM(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>PM(e,r)):n}notify(e){lr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){lr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){lr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Gi=new WeakMap,VM),Xi,ir,kl,Qi,Ta,FM,UNe=(FM=class extends Iz{constructor(e){super();ut(this,Qi);ut(this,Xi);ut(this,ir);ut(this,kl);this.mutationId=e.mutationId,qe(this,ir,e.mutationCache),qe(this,Xi,[]),this.state=e.state||zNe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){re(this,Xi).includes(e)||(re(this,Xi).push(e),this.clearGcTimeout(),re(this,ir).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){qe(this,Xi,re(this,Xi).filter(n=>n!==e)),this.scheduleGc(),re(this,ir).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){re(this,Xi).length||(this.state.status==="pending"?this.scheduleGc():re(this,ir).remove(this))}continue(){var e;return((e=re(this,kl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,s,l,c,d,f,h,m,y,g,v,b,x,w,S,A,C,T;qe(this,kl,Tz({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(E,N)=>{Un(this,Qi,Ta).call(this,{type:"failed",failureCount:E,error:N})},onPause:()=>{Un(this,Qi,Ta).call(this,{type:"pause"})},onContinue:()=>{Un(this,Qi,Ta).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>re(this,ir).canRun(this)}));const n=this.state.status==="pending",r=!re(this,kl).canStart();try{if(!n){Un(this,Qi,Ta).call(this,{type:"pending",variables:e,isPaused:r}),await((o=(i=re(this,ir).config).onMutate)==null?void 0:o.call(i,e,this));const N=await((s=(a=this.options).onMutate)==null?void 0:s.call(a,e));N!==this.state.context&&Un(this,Qi,Ta).call(this,{type:"pending",context:N,variables:e,isPaused:r})}const E=await re(this,kl).start();return await((c=(l=re(this,ir).config).onSuccess)==null?void 0:c.call(l,E,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,E,e,this.state.context)),await((m=(h=re(this,ir).config).onSettled)==null?void 0:m.call(h,E,null,this.state.variables,this.state.context,this)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,E,null,e,this.state.context)),Un(this,Qi,Ta).call(this,{type:"success",data:E}),E}catch(E){try{throw await((b=(v=re(this,ir).config).onError)==null?void 0:b.call(v,E,e,this.state.context,this)),await((w=(x=this.options).onError)==null?void 0:w.call(x,E,e,this.state.context)),await((A=(S=re(this,ir).config).onSettled)==null?void 0:A.call(S,void 0,E,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,E,e,this.state.context)),E}finally{Un(this,Qi,Ta).call(this,{type:"error",error:E})}}finally{re(this,ir).runNext(this)}}},Xi=new WeakMap,ir=new WeakMap,kl=new WeakMap,Qi=new WeakSet,Ta=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),lr.batch(()=>{re(this,Xi).forEach(r=>{r.onMutationUpdate(e)}),re(this,ir).notify({mutation:this,type:"updated",action:e})})},FM);function zNe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Or,nm,BM,WNe=(BM=class extends qb{constructor(e={}){super();ut(this,Or);ut(this,nm);this.config=e,qe(this,Or,new Map),qe(this,nm,Date.now())}build(e,n,r){const i=new UNe({mutationCache:this,mutationId:++rg(this,nm)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Yg(e),r=re(this,Or).get(n)??[];r.push(e),re(this,Or).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Yg(e);if(re(this,Or).has(n)){const i=(r=re(this,Or).get(n))==null?void 0:r.filter(o=>o!==e);i&&(i.length===0?re(this,Or).delete(n):re(this,Or).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=re(this,Or).get(Yg(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=re(this,Or).get(Yg(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){lr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...re(this,Or).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>kM(n,r))}findAll(e={}){return this.getAll().filter(n=>kM(e,n))}notify(e){lr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return lr.batch(()=>Promise.all(e.map(n=>n.continue().catch(bi))))}},Or=new WeakMap,nm=new WeakMap,BM);function Yg(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function RM(t){return{onFetch:(e,n)=>{var d,f,h,m,y;const r=e.options,i=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((m=e.state.data)==null?void 0:m.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=wz(e.options,e.fetchOptions),x=async(w,S,A)=>{if(g)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const C={queryKey:e.queryKey,pageParam:S,direction:A?"backward":"forward",meta:e.options.meta};v(C);const T=await b(C),{maxPages:E}=e.options,N=A?ONe:NNe;return{pages:N(w.pages,T,E),pageParams:N(w.pageParams,S,E)}};if(i&&o.length){const w=i==="backward",S=w?HNe:jM,A={pages:o,pageParams:a},C=S(r,A);s=await x(A,C,w)}else{const w=t??o.length;do{const S=l===0?a[0]??r.initialPageParam:jM(r,s);if(l>0&&S==null)break;s=await x(s,S),l++}while(l<w)}return s};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function jM(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function HNe(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Jt,Va,Fa,Ou,Ru,Ba,ju,Du,UM,qNe=(UM=class{constructor(t={}){ut(this,Jt);ut(this,Va);ut(this,Fa);ut(this,Ou);ut(this,Ru);ut(this,Ba);ut(this,ju);ut(this,Du);qe(this,Jt,t.queryCache||new BNe),qe(this,Va,t.mutationCache||new WNe),qe(this,Fa,t.defaultOptions||{}),qe(this,Ou,new Map),qe(this,Ru,new Map),qe(this,Ba,0)}mount(){rg(this,Ba)._++,re(this,Ba)===1&&(qe(this,ju,_z.subscribe(async t=>{t&&(await this.resumePausedMutations(),re(this,Jt).onFocus())})),qe(this,Du,D0.subscribe(async t=>{t&&(await this.resumePausedMutations(),re(this,Jt).onOnline())})))}unmount(){var t,e;rg(this,Ba)._--,re(this,Ba)===0&&((t=re(this,ju))==null||t.call(this),qe(this,ju,void 0),(e=re(this,Du))==null||e.call(this),qe(this,Du,void 0))}isFetching(t){return re(this,Jt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return re(this,Va).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=re(this,Jt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=re(this,Jt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(CM(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return re(this,Jt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=re(this,Jt).get(r.queryHash),o=i==null?void 0:i.state.data,a=TNe(e,o);if(a!==void 0)return re(this,Jt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return lr.batch(()=>re(this,Jt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=re(this,Jt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=re(this,Jt);lr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=re(this,Jt),r={type:"active",...t};return lr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=lr.batch(()=>re(this,Jt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(bi).catch(bi)}invalidateQueries(t={},e={}){return lr.batch(()=>{if(re(this,Jt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=lr.batch(()=>re(this,Jt).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(bi)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(bi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=re(this,Jt).build(this,e);return n.isStaleByTime(CM(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(bi).catch(bi)}fetchInfiniteQuery(t){return t.behavior=RM(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(bi).catch(bi)}ensureInfiniteQueryData(t){return t.behavior=RM(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return D0.isOnline()?re(this,Va).resumePausedMutations():Promise.resolve()}getQueryCache(){return re(this,Jt)}getMutationCache(){return re(this,Va)}getDefaultOptions(){return re(this,Fa)}setDefaultOptions(t){qe(this,Fa,t)}setQueryDefaults(t,e){re(this,Ou).set(Zp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...re(this,Ou).values()];let n={};return e.forEach(r=>{em(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){re(this,Ru).set(Zp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...re(this,Ru).values()];let n={};return e.forEach(r=>{em(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...re(this,Fa).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=rP(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===iP&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...re(this,Fa).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){re(this,Jt).clear(),re(this,Va).clear()}},Jt=new WeakMap,Va=new WeakMap,Fa=new WeakMap,Ou=new WeakMap,Ru=new WeakMap,Ba=new WeakMap,ju=new WeakMap,Du=new WeakMap,UM),KNe=_.createContext(void 0),GNe=({client:t,children:e})=>(_.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(KNe.Provider,{value:t,children:e}));const XNe=new qNe({defaultOptions:{queries:{staleTime:5*60*1e3,refetchOnWindowFocus:!1}}});L1.createRoot(document.getElementById("root")).render(u.jsx(B.StrictMode,{children:u.jsx(bq,{children:u.jsx(GNe,{client:XNe,children:u.jsx(P2e,{defaultTheme:"light",children:u.jsx(ENe,{})})})})}));
